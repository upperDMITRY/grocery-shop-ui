{"version":3,"file":"RadarCursor.js","sourceRoot":"","sources":["../../../../../src/.internal/charts/radar/RadarCursor.ts"],"names":[],"mappings":"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","sourcesContent":["import type { IPoint } from \"../../core/util/IPoint\";\nimport type { RadarChart } from \"./RadarChart\"\nimport type { Percent } from \"../../core/util/Percent\";\nimport type { Tooltip } from \"../../core/render/Tooltip\";\n\nimport { XYCursor, IXYCursorSettings, IXYCursorPrivate, IXYCursorEvents } from \"../xy/XYCursor\";\nimport { p100 } from \"../../core/util/Percent\";\nimport { arc } from \"d3-shape\";\n\nimport * as $math from \"../../core/util/Math\";\nimport * as $utils from \"../../core/util/Utils\";\n\n\nexport interface IRadarCursorSettings extends IXYCursorSettings {\n\n\t/**\n\t * Cursor's inner radius.\n\t */\n\tinnerRadius?: number | Percent;\n\n\t/**\n\t * Cursor's inner radius.\n\t */\n\tradius?: number | Percent;\n\n\t//xAxis?: Axis<AxisRendererCircular>;\n\t//yAxis?: Axis<AxisRendererRadial>;\n\n\t/**\n\t * Cursor's position angle in degrees.\n\t */\n\tstartAngle?: number;\n\n\t/**\n\t * Cursor's selection end angle in degrees.\n\t */\n\tendAngle?: number;\n\n}\n\nexport interface IRadarCursorPrivate extends IXYCursorPrivate {\n\tinnerRadius: number;\n\tradius: number;\n\tstartAngle: number;\n\tendAngle: number;\n}\n\nexport interface IRadarCursorEvents extends IXYCursorEvents {\n}\n\n/**\n * Creates a cursor for a [[RadarChart]].\n *\n * @see {@link https://www.amcharts.com/docs/v5/charts/radar-chart/#Cursor} for more info\n */\nexport class RadarCursor extends XYCursor {\n\tpublic static className: string = \"RadarCursor\";\n\tpublic static classNames: Array<string> = XYCursor.classNames.concat([RadarCursor.className]);\n\n\tdeclare public _settings: IRadarCursorSettings;\n\tdeclare public _privateSettings: IRadarCursorPrivate;\n\tdeclare public _events: IRadarCursorEvents;\n\n\t/**\n\t * A chart cursor is attached to.\n\t */\n\tdeclare public chart: RadarChart | undefined;\n\n\tprotected _fillGenerator = arc();\n\n\tprotected _afterNew() {\n\t\tthis._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"radar\", \"cursor\"]);\n\n\t\tsuper._afterNew();\n\t}\n\n\tprotected _getPosition(point: IPoint): IPoint {\n\t\tconst radius = Math.hypot(point.x, point.y);\n\t\tlet angle = $math.normalizeAngle(Math.atan2(point.y, point.x) * $math.DEGREES);\n\t\tconst innerRadius = this.getPrivate(\"innerRadius\");\n\n\t\tlet startAngle = $math.normalizeAngle(this.getPrivate(\"startAngle\"));\n\t\tlet endAngle = $math.normalizeAngle(this.getPrivate(\"endAngle\"));\n\n\t\tif (endAngle < startAngle || endAngle == startAngle) {\n\t\t\tif(angle < startAngle){\n\t\t\t\tangle += 360\n\t\t\t}\n\n\t\t\tendAngle = endAngle + 360;\n\t\t}\n\n\t\tlet xPos = (angle - startAngle) / (endAngle - startAngle);\n\n\t\tif (xPos < 0) {\n\t\t\txPos = 1 + xPos;\n\t\t}\n\n\t\treturn { x: xPos, y: (radius - innerRadius) / (this.getPrivate(\"radius\") - innerRadius) };\n\t}\n\n\tprotected _getPoint(positionX: number, positionY: number): IPoint {\n\n\t\tconst innerRadius = this.getPrivate(\"innerRadius\");\n\t\tconst startAngle = this.getPrivate(\"startAngle\");\n\t\tconst endAngle = this.getPrivate(\"endAngle\");\n\t\tconst radius = this.getPrivate(\"radius\");\n\n\t\tconst angle = startAngle + positionX * (endAngle - startAngle);\n\t\tconst r = innerRadius + (radius - innerRadius) * positionY;\n\n\t\treturn { x: r * $math.cos(angle), y: r * $math.sin(angle) };\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateLayout() {\n\t\tconst chart = this.chart;\n\t\tif (chart) {\n\t\t\tconst radius = chart.getPrivate(\"radius\", 0);\n\n\t\t\tthis.setPrivate(\"radius\", $utils.relativeToValue(this.get(\"radius\", p100), radius));\n\n\t\t\tlet innerRadius = $utils.relativeToValue(this.get(\"innerRadius\", chart.getPrivate(\"innerRadius\", 0)), radius);\n\t\t\tif (innerRadius < 0) {\n\t\t\t\tinnerRadius = radius + innerRadius;\n\t\t\t}\n\n\t\t\tthis.setPrivate(\"innerRadius\", innerRadius);\n\n\t\t\tlet startAngle = this.get(\"startAngle\", chart.get(\"startAngle\", -90));\n\t\t\tlet endAngle = this.get(\"endAngle\", chart.get(\"endAngle\", 270));\n\n\t\t\tthis.setPrivate(\"startAngle\", startAngle);\n\t\t\tthis.setPrivate(\"endAngle\", endAngle);\n\t\t}\n\t}\n\n\tprotected _updateLines(x: number, y: number) {\n\t\tif (!this._tooltipX) {\n\t\t\tthis._drawXLine(x, y);\n\t\t}\n\t\tif (!this._tooltipY) {\n\t\t\tthis._drawYLine(x, y);\n\t\t}\n\t}\n\n\tprotected _drawXLine(x: number, y: number) {\n\t\tconst innerRadius = this.getPrivate(\"innerRadius\");\n\t\tconst radius = this.getPrivate(\"radius\");\n\t\tconst angle = Math.atan2(y, x);\n\n\t\tthis.lineX.set(\"draw\", (display) => {\n\t\t\tdisplay.moveTo(innerRadius * Math.cos(angle), innerRadius * Math.sin(angle));\n\t\t\tdisplay.lineTo(radius * Math.cos(angle), radius * Math.sin(angle));\n\t\t})\n\t}\n\n\tprotected _drawYLine(x: number, y: number) {\n\t\tconst positionRadius = Math.hypot(x, y);\n\n\t\tthis.lineY.set(\"draw\", (display) => {\n\t\t\tdisplay.arc(0, 0, positionRadius, this.getPrivate(\"startAngle\", 0) * $math.RADIANS, this.getPrivate(\"endAngle\", 0) * $math.RADIANS);\n\t\t})\n\t}\n\n\tprotected _updateXLine(tooltip: Tooltip) {\n\t\tlet point = tooltip.get(\"pointTo\");\n\t\tif (point) {\n\t\t\tpoint = this._display.toLocal(point);\n\t\t\tthis._drawXLine(point.x, point.y);\n\t\t}\n\t}\n\n\tprotected _updateYLine(tooltip: Tooltip) {\n\t\tlet point = tooltip.get(\"pointTo\")\n\t\tif (point) {\n\t\t\tpoint = this._display.toLocal(point);\n\t\t\tthis._drawYLine(point.x, point.y);\n\t\t}\n\t}\n\n\tprotected _inPlot(point: IPoint): boolean {\n\t\tconst chart = this.chart;\n\n\t\tif (chart) {\n\t\t\treturn chart.inPlot(point, this.getPrivate(\"radius\"), this.getPrivate(\"innerRadius\"));\n\t\t}\n\t\treturn false;\n\t}\n\n\tprotected _updateSelection(point: IPoint) {\n\n\t\tthis.selection.set(\"draw\", (display) => {\n\t\t\tconst behavior = this.get(\"behavior\");\n\n\t\t\tconst downPoint = this._downPoint;\n\t\t\tconst cursorStartAngle = this.getPrivate(\"startAngle\");\n\t\t\tconst cursorEndAngle = this.getPrivate(\"endAngle\");\n\t\t\tlet cursorRadius = this.getPrivate(\"radius\");\n\t\t\tlet cursorInnerRadius = this.getPrivate(\"innerRadius\");\n\n\t\t\tif(cursorRadius < cursorInnerRadius){\n\t\t\t\t[cursorRadius, cursorInnerRadius] = [cursorInnerRadius, cursorRadius];\n\t\t\t}\n\n\t\t\tlet startAngle = cursorStartAngle;\n\t\t\tlet endAngle = cursorEndAngle;\n\t\t\tlet radius = cursorRadius;\n\t\t\tlet innerRadius = cursorInnerRadius;\n\n\t\t\tif (downPoint) {\n\t\t\t\tif (behavior == \"zoomXY\" || behavior == \"selectXY\") {\n\t\t\t\t\tstartAngle = Math.atan2(downPoint.y, downPoint.x) * $math.DEGREES;\n\t\t\t\t\tendAngle = Math.atan2(point.y, point.x) * $math.DEGREES;\n\t\t\t\t\tinnerRadius = Math.hypot(downPoint.x, downPoint.y);\n\t\t\t\t\tradius = Math.hypot(point.x, point.y);\n\t\t\t\t}\n\t\t\t\telse if (behavior == \"zoomX\" || behavior == \"selectX\") {\n\t\t\t\t\tstartAngle = Math.atan2(downPoint.y, downPoint.x) * $math.DEGREES;\n\t\t\t\t\tendAngle = Math.atan2(point.y, point.x) * $math.DEGREES;\n\t\t\t\t}\n\t\t\t\telse if (behavior == \"zoomY\" || behavior == \"selectY\") {\n\t\t\t\t\tinnerRadius = Math.hypot(downPoint.x, downPoint.y);\n\t\t\t\t\tradius = Math.hypot(point.x, point.y);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tinnerRadius = $math.fitToRange(innerRadius, cursorInnerRadius, cursorRadius);\n\t\t\tradius = $math.fitToRange(radius, cursorInnerRadius, cursorRadius);\n\n\t\t\tstartAngle = $math.fitAngleToRange(startAngle, cursorStartAngle, cursorEndAngle);\n\t\t\tendAngle = $math.fitAngleToRange(endAngle, cursorStartAngle, cursorEndAngle);\n\n\t\t\tif (startAngle == endAngle) {\n\t\t\t\tendAngle = startAngle + 360;\n\t\t\t}\n\n\t\t\tstartAngle *= $math.RADIANS;\n\t\t\tendAngle *= $math.RADIANS;\n\n\t\t\tthis._fillGenerator.context(display as any);\n\t\t\tthis._fillGenerator({ innerRadius: innerRadius, outerRadius: radius, startAngle: startAngle + Math.PI / 2, endAngle: endAngle + Math.PI / 2 });\n\t\t})\n\t}\n}\n"]}