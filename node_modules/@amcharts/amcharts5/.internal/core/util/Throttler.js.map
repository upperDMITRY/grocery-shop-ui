{"version":3,"file":"Throttler.js","sourceRoot":"","sources":["../../../../../src/.internal/core/util/Throttler.ts"],"names":[],"mappings":"AAAA;IAKC,mBAAY,EAAc;QAJ1B;;;;mBAA0B,IAAI;WAAC;QAC/B;;;;mBAA4B,KAAK;WAAC;QAClC;;;;;WAAwB;QAGvB,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC;IACf,CAAC;;;;;eAED;YAAA,iBAkBC;YAjBA,IAAI,IAAI,CAAC,MAAM,EAAE;gBAChB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;gBACpB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;gBAEtB,qBAAqB,CAAC;oBACrB,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC;oBAEnB,IAAI,KAAI,CAAC,QAAQ,EAAE;wBAClB,KAAI,CAAC,GAAG,EAAE,CAAC;qBACX;gBACF,CAAC,CAAC,CAAC;gBAEH,IAAI,CAAC,GAAG,EAAE,CAAC;aAEX;iBAAM;gBACN,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;aACrB;QACF,CAAC;;IACF,gBAAC;AAAD,CAAC,AA5BD,IA4BC","sourcesContent":["export class Throttler {\n\tprivate _ready: boolean = true;\n\tprivate _pending: boolean = false;\n\tprivate _fn: () => void;\n\n\tconstructor(fn: () => void) {\n\t\tthis._fn = fn;\n\t}\n\n\tpublic run(): void {\n\t\tif (this._ready) {\n\t\t\tthis._ready = false;\n\t\t\tthis._pending = false;\n\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tthis._ready = true;\n\n\t\t\t\tif (this._pending) {\n\t\t\t\t\tthis.run();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis._fn();\n\n\t\t} else {\n\t\t\tthis._pending = true;\n\t\t}\n\t}\n}\n"]}