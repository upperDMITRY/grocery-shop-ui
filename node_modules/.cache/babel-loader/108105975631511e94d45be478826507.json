{"ast":null,"code":"import _slicedToArray from\"/Users/dcurchin/Desktop/final/grocery-shop-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Box,useMediaQuery}from'@mui/material';import NavIconLink from'../../../components/home/header/NavIconLink';import AccountBoxIcon from'@mui/icons-material/AccountBox';import LogoutIcon from'@mui/icons-material/Logout';import ShoppingCartIcon from'@mui/icons-material/ShoppingCart';import FavoriteIcon from'@mui/icons-material/Favorite';import ShoppingCartBadge from'../../../components/home/header/ShoppingCartBadge';import{useSelector,useDispatch}from'react-redux';import{useEffect,useState}from'react';import{logOut}from'../../../redux/slices/authSlice';import{rewriteCart,setAnchorEl,setIsEmpty}from'../../../redux/slices/cartSlice';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var navIconStyle={fontSize:20};var accountBoxIcon=/*#__PURE__*/_jsx(AccountBoxIcon,{sx:navIconStyle});var logOutIcon=/*#__PURE__*/_jsx(LogoutIcon,{sx:navIconStyle});var shoppingCartIcon=/*#__PURE__*/_jsx(ShoppingCartIcon,{sx:navIconStyle});var favoriteIcon=/*#__PURE__*/_jsx(FavoriteIcon,{sx:navIconStyle});var NavIconLinksContainer=function NavIconLinksContainer(){var email=useSelector(function(state){return state.auth.email;});var isAuth=useSelector(function(state){return state.auth.isAuth;});var cart=useSelector(function(state){return state.cart;});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),authState=_useState2[0],setAuthState=_useState2[1];var dispatch=useDispatch();var navIconLinksContainer={display:'flex',justifyContent:{xs:'center',sm:'flex-end'},flexGrow:1,flex:useMediaQuery('(max-width:475px)')?'auto':'none',gap:1};useEffect(function(){setAuthState(isAuth);},[isAuth]);var handleLogOut=function handleLogOut(){if(authState===true){dispatch(logOut());dispatch(rewriteCart([]));axios.post('/api/auth/logout');localStorage.removeItem('visitorId');}};var dialogueCartClickHandler=function dialogueCartClickHandler(event){cart.cartItems.length?dispatch(setAnchorEl(event.currentTarget)):dispatch(setIsEmpty(event.currentTarget));};return/*#__PURE__*/_jsxs(Box,{sx:navIconLinksContainer,children:[/*#__PURE__*/_jsx(NavIconLink,{tooltip:authState?email:'Sign in',link:authState?logOutIcon:accountBoxIcon,to:authState?'/account/logout':'/account/login',onClick:handleLogOut,id:\"loginButton\"}),/*#__PURE__*/_jsx(NavIconLink,{link:shoppingCartIcon,onClick:dialogueCartClickHandler,to:\"#\",id:\"shoppingCart\"}),/*#__PURE__*/_jsx(ShoppingCartBadge,{}),/*#__PURE__*/_jsx(NavIconLink,{link:favoriteIcon,to:\"#\",id:\"favorite\"})]});};export default NavIconLinksContainer;","map":{"version":3,"sources":["/Users/dcurchin/Desktop/final/grocery-shop-ui/src/pages/home/header/NavIconLinksContainer.jsx"],"names":["Box","useMediaQuery","NavIconLink","AccountBoxIcon","LogoutIcon","ShoppingCartIcon","FavoriteIcon","ShoppingCartBadge","useSelector","useDispatch","useEffect","useState","logOut","rewriteCart","setAnchorEl","setIsEmpty","axios","navIconStyle","fontSize","accountBoxIcon","logOutIcon","shoppingCartIcon","favoriteIcon","NavIconLinksContainer","email","state","auth","isAuth","cart","authState","setAuthState","dispatch","navIconLinksContainer","display","justifyContent","xs","sm","flexGrow","flex","gap","handleLogOut","post","localStorage","removeItem","dialogueCartClickHandler","event","cartItems","length","currentTarget"],"mappings":"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","sourcesContent":["import { Box, useMediaQuery } from '@mui/material';\r\nimport NavIconLink from '../../../components/home/header/NavIconLink';\r\nimport AccountBoxIcon from '@mui/icons-material/AccountBox';\r\nimport LogoutIcon from '@mui/icons-material/Logout';\r\nimport ShoppingCartIcon from '@mui/icons-material/ShoppingCart';\r\nimport FavoriteIcon from '@mui/icons-material/Favorite';\r\nimport ShoppingCartBadge from '../../../components/home/header/ShoppingCartBadge';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useEffect, useState } from 'react';\r\nimport { logOut } from '../../../redux/slices/authSlice';\r\nimport {\r\n  rewriteCart,\r\n  setAnchorEl,\r\n  setIsEmpty,\r\n} from '../../../redux/slices/cartSlice';\r\nimport axios from 'axios';\r\n\r\nconst navIconStyle = {\r\n  fontSize: 20,\r\n};\r\n\r\nconst accountBoxIcon = <AccountBoxIcon sx={navIconStyle} />;\r\nconst logOutIcon = <LogoutIcon sx={navIconStyle} />;\r\nconst shoppingCartIcon = <ShoppingCartIcon sx={navIconStyle} />;\r\nconst favoriteIcon = <FavoriteIcon sx={navIconStyle} />;\r\n\r\nconst NavIconLinksContainer = () => {\r\n  const email = useSelector((state) => state.auth.email);\r\n  const isAuth = useSelector((state) => state.auth.isAuth);\r\n  const cart = useSelector((state) => state.cart);\r\n\r\n  const [authState, setAuthState] = useState(false);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const navIconLinksContainer = {\r\n    display: 'flex',\r\n    justifyContent: { xs: 'center', sm: 'flex-end' },\r\n    flexGrow: 1,\r\n    flex: useMediaQuery('(max-width:475px)') ? 'auto' : 'none',\r\n    gap: 1,\r\n  };\r\n\r\n  useEffect(() => {\r\n    setAuthState(isAuth);\r\n  }, [isAuth]);\r\n\r\n  const handleLogOut = () => {\r\n    if (authState === true) {\r\n      dispatch(logOut());\r\n      dispatch(rewriteCart([]));\r\n      axios.post('/api/auth/logout');\r\n      localStorage.removeItem('visitorId');\r\n    }\r\n  };\r\n\r\n  const dialogueCartClickHandler = (event) => {\r\n    cart.cartItems.length\r\n      ? dispatch(setAnchorEl(event.currentTarget))\r\n      : dispatch(setIsEmpty(event.currentTarget));\r\n  };\r\n\r\n  return (\r\n    <Box sx={navIconLinksContainer}>\r\n      <NavIconLink\r\n        tooltip={authState ? email : 'Sign in'}\r\n        link={authState ? logOutIcon : accountBoxIcon}\r\n        to={authState ? '/account/logout' : '/account/login'}\r\n        onClick={handleLogOut}\r\n        id=\"loginButton\"\r\n      />\r\n      <NavIconLink\r\n        link={shoppingCartIcon}\r\n        onClick={dialogueCartClickHandler}\r\n        to=\"#\"\r\n        id=\"shoppingCart\"\r\n      />\r\n      <ShoppingCartBadge />\r\n      <NavIconLink link={favoriteIcon} to=\"#\" id=\"favorite\" />\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default NavIconLinksContainer;\r\n"]},"metadata":{},"sourceType":"module"}