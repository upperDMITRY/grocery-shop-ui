{"ast":null,"code":"var _jsxFileName = \"/Users/dcurchin/Desktop/final/grocery-shop-ui/src/components/adminPanel/products/DialogRemoveProduct.jsx\",\n  _s = $RefreshSig$();\nimport { Button, Dialog, DialogActions, DialogContent, DialogContentText } from '@mui/material';\nimport axios from 'axios';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { setFilters, setOpenDialogRemoveProduct, setAdminProductsError } from '../../../redux/slices/adminProducts';\nimport { useProductsFilters } from '../../../hooks/useProductsFilters';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst dialogStyle = {\n  paddingLeft: '260px',\n  '& .MuiPaper-root': {\n    borderRadius: 2,\n    minWidth: '200px',\n    maxWidth: '600px'\n  }\n};\nconst dialogActionsStyle = {\n  display: 'flex',\n  justifyContent: 'center',\n  paddingBottom: '20px',\n  paddingTop: 0\n};\nconst buttonStyle = {\n  padding: '4px 8px',\n  margin: '0 10px'\n};\nconst DialogRemoveProduct = () => {\n  _s();\n  const token = useSelector(state => state.auth.token);\n  const filters = useSelector(state => state.adminProducts.filters);\n  const openDialogRemoveProduct = useSelector(state => state.adminProducts.openDialogRemoveProduct);\n  const removingProduct = useSelector(state => state.adminProducts.removingProduct);\n  const filteredProducts = useProductsFilters(filters, token);\n  const dispatch = useDispatch();\n  const numberOfElements = useSelector(state => state.adminProducts.numberOfElements);\n  const pageNumber = useSelector(state => state.adminProducts.filters.pageNumber);\n  const handleRemoveProduct = async () => {\n    try {\n      const response = await axios({\n        method: 'delete',\n        url: `/api/products/${removingProduct.id}`,\n        headers: {\n          Authorization: token\n        }\n      });\n      if (response.status >= 200 && response.status < 300) {\n        dispatch(setOpenDialogRemoveProduct(false));\n        if (numberOfElements === 1 && pageNumber > 1) {\n          dispatch(setFilters({\n            pageNumber: pageNumber - 1\n          }));\n        }\n        filteredProducts.refetch();\n      }\n    } catch (err) {\n      if (axios.isAxiosError(err)) {\n        if (err && err.response) {\n          dispatch(setAdminProductsError(err.response.data.message));\n        }\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    sx: dialogStyle,\n    open: openDialogRemoveProduct,\n    onClose: () => {\n      dispatch(setOpenDialogRemoveProduct(false));\n    },\n    disableScrollLock: true,\n    children: [/*#__PURE__*/_jsxDEV(DialogContent, {\n      children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n        align: \"center\",\n        children: [\"Remove \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: removingProduct.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 18\n        }, this), \" with ID:\", ' ', /*#__PURE__*/_jsxDEV(\"b\", {\n          children: removingProduct.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), \" from the database?\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      sx: dialogActionsStyle,\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        sx: buttonStyle,\n        variant: \"outlined\",\n        size: \"small\",\n        onClick: handleRemoveProduct,\n        children: \"Yes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        sx: buttonStyle,\n        variant: \"outlined\",\n        size: \"small\",\n        onClick: () => {\n          dispatch(setOpenDialogRemoveProduct(false));\n        },\n        autoFocus: true,\n        children: \"No\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n};\n_s(DialogRemoveProduct, \"2ibhUatnbptojDN0QV8BA/o6pZA=\", false, function () {\n  return [useSelector, useSelector, useSelector, useSelector, useProductsFilters, useDispatch, useSelector, useSelector];\n});\n_c = DialogRemoveProduct;\nexport default DialogRemoveProduct;\nvar _c;\n$RefreshReg$(_c, \"DialogRemoveProduct\");","map":{"version":3,"names":["Button","Dialog","DialogActions","DialogContent","DialogContentText","axios","useSelector","useDispatch","setFilters","setOpenDialogRemoveProduct","setAdminProductsError","useProductsFilters","jsxDEV","_jsxDEV","dialogStyle","paddingLeft","borderRadius","minWidth","maxWidth","dialogActionsStyle","display","justifyContent","paddingBottom","paddingTop","buttonStyle","padding","margin","DialogRemoveProduct","_s","token","state","auth","filters","adminProducts","openDialogRemoveProduct","removingProduct","filteredProducts","dispatch","numberOfElements","pageNumber","handleRemoveProduct","response","method","url","id","headers","Authorization","status","refetch","err","isAxiosError","data","message","sx","open","onClose","disableScrollLock","children","align","name","fileName","_jsxFileName","lineNumber","columnNumber","variant","size","onClick","autoFocus","_c","$RefreshReg$"],"sources":["/Users/dcurchin/Desktop/final/grocery-shop-ui/src/components/adminPanel/products/DialogRemoveProduct.jsx"],"sourcesContent":["import {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n} from '@mui/material';\nimport axios from 'axios';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n  setFilters,\n  setOpenDialogRemoveProduct,\n  setAdminProductsError,\n} from '../../../redux/slices/adminProducts';\nimport { useProductsFilters } from '../../../hooks/useProductsFilters';\n\nconst dialogStyle = {\n  paddingLeft: '260px',\n  '& .MuiPaper-root': {\n    borderRadius: 2,\n    minWidth: '200px',\n    maxWidth: '600px',\n  },\n};\n\nconst dialogActionsStyle = {\n  display: 'flex',\n  justifyContent: 'center',\n  paddingBottom: '20px',\n  paddingTop: 0,\n};\n\nconst buttonStyle = {\n  padding: '4px 8px',\n  margin: '0 10px',\n};\n\nconst DialogRemoveProduct = () => {\n  const token = useSelector((state) => state.auth.token);\n  const filters = useSelector((state) => state.adminProducts.filters);\n\n  const openDialogRemoveProduct = useSelector(\n    (state) => state.adminProducts.openDialogRemoveProduct\n  );\n\n  const removingProduct = useSelector(\n    (state) => state.adminProducts.removingProduct\n  );\n\n  const filteredProducts = useProductsFilters(filters, token);\n\n  const dispatch = useDispatch();\n\n  const numberOfElements = useSelector(\n    (state) => state.adminProducts.numberOfElements\n  );\n\n  const pageNumber = useSelector(\n    (state) => state.adminProducts.filters.pageNumber\n  );\n\n  const handleRemoveProduct = async () => {\n    try {\n      const response = await axios({\n        method: 'delete',\n        url: `/api/products/${removingProduct.id}`,\n        headers: {\n          Authorization: token,\n        },\n      });\n\n      if (response.status >= 200 && response.status < 300) {\n        dispatch(setOpenDialogRemoveProduct(false));\n\n        if (numberOfElements === 1 && pageNumber > 1) {\n          dispatch(setFilters({ pageNumber: pageNumber - 1 }));\n        }\n\n        filteredProducts.refetch();\n      }\n    } catch (err) {\n      if (axios.isAxiosError(err)) {\n        if (err && err.response) {\n          dispatch(setAdminProductsError(err.response.data.message));\n        }\n      }\n    }\n  };\n\n  return (\n    <Dialog\n      sx={dialogStyle}\n      open={openDialogRemoveProduct}\n      onClose={() => {\n        dispatch(setOpenDialogRemoveProduct(false));\n      }}\n      disableScrollLock\n    >\n      <DialogContent>\n        <DialogContentText align=\"center\">\n          Remove <b>{removingProduct.name}</b> with ID:{' '}\n          <b>{removingProduct.id}</b> from the database?\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions sx={dialogActionsStyle}>\n        <Button\n          sx={buttonStyle}\n          variant=\"outlined\"\n          size=\"small\"\n          onClick={handleRemoveProduct}\n        >\n          Yes\n        </Button>\n        <Button\n          sx={buttonStyle}\n          variant=\"outlined\"\n          size=\"small\"\n          onClick={() => {\n            dispatch(setOpenDialogRemoveProduct(false));\n          }}\n          autoFocus\n        >\n          No\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default DialogRemoveProduct;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}