{"ast":null,"code":"import _regeneratorRuntime from\"/Users/dcurchin/Desktop/final/grocery-shop-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/dcurchin/Desktop/final/grocery-shop-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{Button,Dialog,DialogActions,DialogContent,DialogContentText}from'@mui/material';import axios from'axios';import{useSelector,useDispatch}from'react-redux';import{setFilters,setOpenDialogRemoveProduct,setAdminProductsError}from'../../../redux/slices/adminProducts';import{useProductsFilters}from'../../../hooks/useProductsFilters';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var dialogStyle={paddingLeft:'260px','& .MuiPaper-root':{borderRadius:2,minWidth:'200px',maxWidth:'600px'}};var dialogActionsStyle={display:'flex',justifyContent:'center',paddingBottom:'20px',paddingTop:0};var buttonStyle={padding:'4px 8px',margin:'0 10px'};var DialogRemoveProduct=function DialogRemoveProduct(){var token=useSelector(function(state){return state.auth.token;});var filters=useSelector(function(state){return state.adminProducts.filters;});var openDialogRemoveProduct=useSelector(function(state){return state.adminProducts.openDialogRemoveProduct;});var removingProduct=useSelector(function(state){return state.adminProducts.removingProduct;});var filteredProducts=useProductsFilters(filters,token);var dispatch=useDispatch();var numberOfElements=useSelector(function(state){return state.adminProducts.numberOfElements;});var pageNumber=useSelector(function(state){return state.adminProducts.filters.pageNumber;});var handleRemoveProduct=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios({method:'delete',url:\"/api/products/\".concat(removingProduct.id),headers:{Authorization:token}});case 3:response=_context.sent;if(response.status>=200&&response.status<300){dispatch(setOpenDialogRemoveProduct(false));if(numberOfElements===1&&pageNumber>1){dispatch(setFilters({pageNumber:pageNumber-1}));}filteredProducts.refetch();}_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);if(axios.isAxiosError(_context.t0)){if(_context.t0&&_context.t0.response){dispatch(setAdminProductsError(_context.t0.response.data.message));}}case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function handleRemoveProduct(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Dialog,{sx:dialogStyle,open:openDialogRemoveProduct,onClose:function onClose(){dispatch(setOpenDialogRemoveProduct(false));},disableScrollLock:true,children:[/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsxs(DialogContentText,{align:\"center\",children:[\"Remove \",/*#__PURE__*/_jsx(\"b\",{children:removingProduct.name}),\" with ID:\",' ',/*#__PURE__*/_jsx(\"b\",{children:removingProduct.id}),\" from the database?\"]})}),/*#__PURE__*/_jsxs(DialogActions,{sx:dialogActionsStyle,children:[/*#__PURE__*/_jsx(Button,{sx:buttonStyle,variant:\"outlined\",size:\"small\",onClick:handleRemoveProduct,children:\"Yes\"}),/*#__PURE__*/_jsx(Button,{sx:buttonStyle,variant:\"outlined\",size:\"small\",onClick:function onClick(){dispatch(setOpenDialogRemoveProduct(false));},autoFocus:true,children:\"No\"})]})]});};export default DialogRemoveProduct;","map":{"version":3,"sources":["/Users/dcurchin/Desktop/final/grocery-shop-ui/src/components/adminPanel/products/DialogRemoveProduct.jsx"],"names":["Button","Dialog","DialogActions","DialogContent","DialogContentText","axios","useSelector","useDispatch","setFilters","setOpenDialogRemoveProduct","setAdminProductsError","useProductsFilters","dialogStyle","paddingLeft","borderRadius","minWidth","maxWidth","dialogActionsStyle","display","justifyContent","paddingBottom","paddingTop","buttonStyle","padding","margin","DialogRemoveProduct","token","state","auth","filters","adminProducts","openDialogRemoveProduct","removingProduct","filteredProducts","dispatch","numberOfElements","pageNumber","handleRemoveProduct","method","url","id","headers","Authorization","response","status","refetch","isAxiosError","data","message","name"],"mappings":"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","sourcesContent":["import {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n} from '@mui/material';\r\nimport axios from 'axios';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {\r\n  setFilters,\r\n  setOpenDialogRemoveProduct,\r\n  setAdminProductsError,\r\n} from '../../../redux/slices/adminProducts';\r\nimport { useProductsFilters } from '../../../hooks/useProductsFilters';\r\n\r\nconst dialogStyle = {\r\n  paddingLeft: '260px',\r\n  '& .MuiPaper-root': {\r\n    borderRadius: 2,\r\n    minWidth: '200px',\r\n    maxWidth: '600px',\r\n  },\r\n};\r\n\r\nconst dialogActionsStyle = {\r\n  display: 'flex',\r\n  justifyContent: 'center',\r\n  paddingBottom: '20px',\r\n  paddingTop: 0,\r\n};\r\n\r\nconst buttonStyle = {\r\n  padding: '4px 8px',\r\n  margin: '0 10px',\r\n};\r\n\r\nconst DialogRemoveProduct = () => {\r\n  const token = useSelector((state) => state.auth.token);\r\n  const filters = useSelector((state) => state.adminProducts.filters);\r\n\r\n  const openDialogRemoveProduct = useSelector(\r\n    (state) => state.adminProducts.openDialogRemoveProduct\r\n  );\r\n\r\n  const removingProduct = useSelector(\r\n    (state) => state.adminProducts.removingProduct\r\n  );\r\n\r\n  const filteredProducts = useProductsFilters(filters, token);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const numberOfElements = useSelector(\r\n    (state) => state.adminProducts.numberOfElements\r\n  );\r\n\r\n  const pageNumber = useSelector(\r\n    (state) => state.adminProducts.filters.pageNumber\r\n  );\r\n\r\n  const handleRemoveProduct = async () => {\r\n    try {\r\n      const response = await axios({\r\n        method: 'delete',\r\n        url: `/api/products/${removingProduct.id}`,\r\n        headers: {\r\n          Authorization: token,\r\n        },\r\n      });\r\n\r\n      if (response.status >= 200 && response.status < 300) {\r\n        dispatch(setOpenDialogRemoveProduct(false));\r\n\r\n        if (numberOfElements === 1 && pageNumber > 1) {\r\n          dispatch(setFilters({ pageNumber: pageNumber - 1 }));\r\n        }\r\n\r\n        filteredProducts.refetch();\r\n      }\r\n    } catch (err) {\r\n      if (axios.isAxiosError(err)) {\r\n        if (err && err.response) {\r\n          dispatch(setAdminProductsError(err.response.data.message));\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      sx={dialogStyle}\r\n      open={openDialogRemoveProduct}\r\n      onClose={() => {\r\n        dispatch(setOpenDialogRemoveProduct(false));\r\n      }}\r\n      disableScrollLock\r\n    >\r\n      <DialogContent>\r\n        <DialogContentText align=\"center\">\r\n          Remove <b>{removingProduct.name}</b> with ID:{' '}\r\n          <b>{removingProduct.id}</b> from the database?\r\n        </DialogContentText>\r\n      </DialogContent>\r\n      <DialogActions sx={dialogActionsStyle}>\r\n        <Button\r\n          sx={buttonStyle}\r\n          variant=\"outlined\"\r\n          size=\"small\"\r\n          onClick={handleRemoveProduct}\r\n        >\r\n          Yes\r\n        </Button>\r\n        <Button\r\n          sx={buttonStyle}\r\n          variant=\"outlined\"\r\n          size=\"small\"\r\n          onClick={() => {\r\n            dispatch(setOpenDialogRemoveProduct(false));\r\n          }}\r\n          autoFocus\r\n        >\r\n          No\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default DialogRemoveProduct;\r\n"]},"metadata":{},"sourceType":"module"}