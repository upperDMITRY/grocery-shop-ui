{"ast":null,"code":"import { __extends } from \"tslib\";\nimport * as $type from \"../util/Type\";\nimport * as $math from \"../util/Math\";\nimport * as $utils from \"../util/Utils\";\nimport { Rectangle } from \"./Rectangle\";\n/**\r\n * Draws a rectangle with rounded corners.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\r\n * @important\r\n */\nvar RoundedRectangle = /** @class */function (_super) {\n  __extends(RoundedRectangle, _super);\n  function RoundedRectangle() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  Object.defineProperty(RoundedRectangle.prototype, \"_beforeChanged\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      _super.prototype._beforeChanged.call(this);\n      if (this.isDirty(\"cornerRadiusTL\") || this.isDirty(\"cornerRadiusTR\") || this.isDirty(\"cornerRadiusBR\") || this.isDirty(\"cornerRadiusBL\")) {\n        this._clear = true;\n      }\n    }\n  });\n  Object.defineProperty(RoundedRectangle.prototype, \"_draw\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      var width = this.width();\n      var height = this.height();\n      var w = width;\n      var h = height;\n      var wSign = w / Math.abs(width);\n      var hSign = h / Math.abs(height);\n      if ($type.isNumber(w) && $type.isNumber(h)) {\n        var minSide = Math.min(w, h) / 2;\n        var crtl = $utils.relativeToValue(this.get(\"cornerRadiusTL\", 8), minSide);\n        var crtr = $utils.relativeToValue(this.get(\"cornerRadiusTR\", 8), minSide);\n        var crbr = $utils.relativeToValue(this.get(\"cornerRadiusBR\", 8), minSide);\n        var crbl = $utils.relativeToValue(this.get(\"cornerRadiusBL\", 8), minSide);\n        var maxcr = Math.min(Math.abs(w / 2), Math.abs(h / 2));\n        crtl = $math.fitToRange(crtl, 0, maxcr);\n        crtr = $math.fitToRange(crtr, 0, maxcr);\n        crbr = $math.fitToRange(crbr, 0, maxcr);\n        crbl = $math.fitToRange(crbl, 0, maxcr);\n        this._display.moveTo(crtl * wSign, 0);\n        this._display.lineTo(w - crtr * wSign, 0);\n        if (crtr > 0) {\n          this._display.arcTo(w, 0, w, crtr * hSign, crtr);\n        }\n        this._display.lineTo(w, h - crbr * hSign);\n        if (crbr > 0) {\n          this._display.arcTo(w, h, w - crbr * wSign, h, crbr);\n        }\n        this._display.lineTo(crbl * wSign, h);\n        if (crbl > 0) {\n          this._display.arcTo(0, h, 0, h - crbl * hSign, crbl);\n        }\n        this._display.lineTo(0, crtl * hSign);\n        if (crtl > 0) {\n          this._display.arcTo(0, 0, crtl * wSign, 0, crtl);\n        }\n      }\n    }\n  });\n  Object.defineProperty(RoundedRectangle, \"className\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: \"RoundedRectangle\"\n  });\n  Object.defineProperty(RoundedRectangle, \"classNames\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: Rectangle.classNames.concat([RoundedRectangle.className])\n  });\n  return RoundedRectangle;\n}(Rectangle);\nexport { RoundedRectangle };","map":{"version":3,"names":["$type","$math","$utils","Rectangle","RoundedRectangle","_super","__extends","value","prototype","_beforeChanged","call","isDirty","_clear","width","height","w","h","wSign","Math","abs","hSign","isNumber","minSide","min","crtl","relativeToValue","get","crtr","crbr","crbl","maxcr","fitToRange","_display","moveTo","lineTo","arcTo","Object","defineProperty","classNames","concat","className"],"sources":["../../../../../src/.internal/core/render/RoundedRectangle.ts"],"sourcesContent":["import * as $type from \"../util/Type\";\nimport * as $math from \"../util/Math\";\nimport * as $utils from \"../util/Utils\";\nimport { Rectangle, IRectangleSettings, IRectanglePrivate } from \"./Rectangle\";\n\n\nexport interface IRoundedRectangleSettings extends IRectangleSettings {\n\n\t/**\n\t * Radius of the top-left corner in pixels.\n\t */\n\tcornerRadiusTL?: number;\n\n\t/**\n\t * Radius of the top-right corner in pixels.\n\t */\n\tcornerRadiusTR?: number;\n\n\t/**\n\t * Radius of the botttom-right corner in pixels.\n\t */\n\tcornerRadiusBR?: number;\n\n\t/**\n\t * Radius of the bottom-left corner in pixels.\n\t */\n\tcornerRadiusBL?: number;\n\n}\n\nexport interface IRoundedRectanglePrivate extends IRectanglePrivate {\n}\n\n/**\n * Draws a rectangle with rounded corners.\n *\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\n * @important\n */\nexport class RoundedRectangle extends Rectangle {\n\n\tdeclare public _settings: IRoundedRectangleSettings;\n\tdeclare public _privateSettings: IRoundedRectanglePrivate;\n\n\tpublic static className: string = \"RoundedRectangle\";\n\tpublic static classNames: Array<string> = Rectangle.classNames.concat([RoundedRectangle.className]);\n\n\tpublic _beforeChanged() {\n\t\tsuper._beforeChanged();\n\n\t\tif (this.isDirty(\"cornerRadiusTL\") || this.isDirty(\"cornerRadiusTR\") || this.isDirty(\"cornerRadiusBR\") || this.isDirty(\"cornerRadiusBL\")) {\n\t\t\tthis._clear = true;\n\t\t}\n\t}\n\n\tpublic _draw() {\t\t\n\t\tlet width = this.width();\n\t\tlet height = this.height();\n\n\t\tlet w = width;\n\t\tlet h = height;\n\n\t\tlet wSign = w / Math.abs(width);\n\t\tlet hSign = h / Math.abs(height);\n\n\t\tif ($type.isNumber(w) && $type.isNumber(h)) {\n\n\t\t\tlet minSide = Math.min(w, h) / 2;\n\n\t\t\tlet crtl = $utils.relativeToValue(this.get(\"cornerRadiusTL\", 8), minSide);\n\t\t\tlet crtr = $utils.relativeToValue(this.get(\"cornerRadiusTR\", 8), minSide);\n\t\t\tlet crbr = $utils.relativeToValue(this.get(\"cornerRadiusBR\", 8), minSide);\n\t\t\tlet crbl = $utils.relativeToValue(this.get(\"cornerRadiusBL\", 8), minSide);\n\n\t\t\tlet maxcr = Math.min(Math.abs(w / 2), Math.abs(h / 2));\n\n\t\t\tcrtl = $math.fitToRange(crtl, 0, maxcr);\n\t\t\tcrtr = $math.fitToRange(crtr, 0, maxcr);\n\t\t\tcrbr = $math.fitToRange(crbr, 0, maxcr);\n\t\t\tcrbl = $math.fitToRange(crbl, 0, maxcr);\n\n\t\t\tthis._display.moveTo(crtl * wSign, 0);\n\t\t\tthis._display.lineTo(w - crtr * wSign, 0);\n\t\t\tif (crtr > 0) {\n\t\t\t\tthis._display.arcTo(w, 0, w, crtr * hSign, crtr);\n\t\t\t}\n\t\t\tthis._display.lineTo(w, h - crbr * hSign);\n\t\t\tif (crbr > 0) {\n\t\t\t\tthis._display.arcTo(w, h, w - crbr * wSign, h, crbr);\n\t\t\t}\n\t\t\tthis._display.lineTo(crbl * wSign, h);\n\t\t\tif (crbl > 0) {\n\t\t\t\tthis._display.arcTo(0, h, 0, h - crbl * hSign, crbl);\n\t\t\t}\n\t\t\tthis._display.lineTo(0, crtl * hSign);\n\t\t\tif (crtl > 0) {\n\t\t\t\tthis._display.arcTo(0, 0, crtl * wSign, 0, crtl);\n\t\t\t}\n\t\t}\n\t}\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}