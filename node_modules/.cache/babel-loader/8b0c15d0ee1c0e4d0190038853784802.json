{"ast":null,"code":"import { __extends, __read } from \"tslib\";\nimport { Scrollbar } from \"../../core/render/Scrollbar\";\nimport { XYChart } from \"./XYChart\";\nimport { Graphics } from \"../../core/render/Graphics\";\nimport * as $utils from \"../../core/util/Utils\";\n/**\r\n * Creates a scrollbar with chart preview in it.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/scrollbars/#Scrollbar_with_chart_preview} for more info\r\n * @important\r\n */\nvar XYChartScrollbar = /** @class */function (_super) {\n  __extends(XYChartScrollbar, _super);\n  function XYChartScrollbar() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    /**\r\n     * An instance of an [[XYChart]] that is used to plot chart preview in\r\n     * scrollbar.\r\n     */\n    Object.defineProperty(_this, \"chart\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: _this.children.push(XYChart.new(_this._root, {\n        themeTags: [\"chart\"],\n        interactive: false,\n        interactiveChildren: false,\n        panX: false,\n        panY: false,\n        wheelX: \"none\",\n        wheelY: \"none\"\n      }))\n    });\n    /**\r\n     * A graphics element that is displayed over inactive portion of the\r\n     * scrollbarpreview, to dim it down.\r\n     */\n    Object.defineProperty(_this, \"overlay\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: _this.children.push(Graphics.new(_this._root, {\n        themeTags: [\"overlay\"],\n        interactive: false\n      }))\n    });\n    return _this;\n  }\n  Object.defineProperty(XYChartScrollbar.prototype, \"_afterNew\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      this._addOrientationClass();\n      this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"scrollbar\", \"xy\", \"chart\", this._settings.orientation]);\n      var children = this.children;\n      children.moveValue(this.thumb);\n      children.moveValue(this.startGrip);\n      children.moveValue(this.endGrip);\n      this.thumb.set(\"opacity\", 0);\n      this.thumb.states.create(\"hover\", {\n        opacity: 0.2\n      });\n      var plotContainer = this.chart.plotContainer;\n      plotContainer.set(\"interactive\", false);\n      plotContainer.remove(\"background\");\n      plotContainer.children.removeValue(this.chart.zoomOutButton);\n      _super.prototype._afterNew.call(this);\n    }\n  });\n  Object.defineProperty(XYChartScrollbar.prototype, \"_updateThumb\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      var _this = this;\n      _super.prototype._updateThumb.call(this);\n      this.overlay.set(\"draw\", function (display) {\n        var _a, _b;\n        var startGrip = _this.startGrip;\n        var endGrip = _this.endGrip;\n        var x0 = startGrip.x();\n        var y0 = startGrip.y();\n        var x1 = endGrip.x();\n        var y1 = endGrip.y();\n        var h = _this.height();\n        var w = _this.width();\n        if (x0 > x1) {\n          _a = __read([x1, x0], 2), x0 = _a[0], x1 = _a[1];\n        }\n        if (y0 > y1) {\n          _b = __read([y1, y0], 2), y0 = _b[0], y1 = _b[1];\n        }\n        if (_this.get(\"orientation\") === \"horizontal\") {\n          display.moveTo(0, 0);\n          display.lineTo(x0, 0);\n          display.lineTo(x0, h);\n          display.lineTo(0, h);\n          display.lineTo(0, 0);\n          display.moveTo(x1, 0);\n          display.lineTo(w, 0);\n          display.lineTo(w, h);\n          display.lineTo(x1, h);\n          display.lineTo(x1, 0);\n        } else {\n          display.moveTo(0, 0);\n          display.lineTo(0, y0);\n          display.lineTo(w, y0);\n          display.lineTo(w, 0);\n          display.lineTo(0, 0);\n          display.moveTo(0, y1);\n          display.lineTo(0, h);\n          display.lineTo(w, h);\n          display.lineTo(w, y1);\n          display.lineTo(0, y1);\n        }\n      });\n    }\n  });\n  Object.defineProperty(XYChartScrollbar, \"className\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: \"XYChartScrollbar\"\n  });\n  Object.defineProperty(XYChartScrollbar, \"classNames\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: Scrollbar.classNames.concat([XYChartScrollbar.className])\n  });\n  return XYChartScrollbar;\n}(Scrollbar);\nexport { XYChartScrollbar };","map":{"version":3,"names":["Scrollbar","XYChart","Graphics","$utils","XYChartScrollbar","_super","__extends","_this","apply","arguments","Object","defineProperty","children","push","new","_root","themeTags","interactive","interactiveChildren","panX","panY","wheelX","wheelY","value","_addOrientationClass","_settings","mergeTags","orientation","moveValue","thumb","startGrip","endGrip","set","states","create","opacity","plotContainer","chart","remove","removeValue","zoomOutButton","prototype","_afterNew","call","_updateThumb","overlay","display","x0","x","y0","y","x1","y1","h","height","w","width","_a","__read","_b","get","moveTo","lineTo","classNames","concat","className"],"sources":["../../../../../src/.internal/charts/xy/XYChartScrollbar.ts"],"sourcesContent":["import { Scrollbar, IScrollbarPrivate, IScrollbarSettings } from \"../../core/render/Scrollbar\";\nimport { XYChart } from \"./XYChart\";\nimport { Graphics } from \"../../core/render/Graphics\";\nimport * as $utils from \"../../core/util/Utils\";\n\nexport interface IXYChartScrollbarSettings extends IScrollbarSettings {\n\n}\n\nexport interface IXYChartScrollbarPrivate extends IScrollbarPrivate {\n}\n\n/**\n * Creates a scrollbar with chart preview in it.\n *\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/scrollbars/#Scrollbar_with_chart_preview} for more info\n * @important\n */\nexport class XYChartScrollbar extends Scrollbar {\n\n\tdeclare public _settings: IXYChartScrollbarSettings;\n\tdeclare public _privateSettings: IXYChartScrollbarPrivate;\n\n\tpublic static className: string = \"XYChartScrollbar\";\n\tpublic static classNames: Array<string> = Scrollbar.classNames.concat([XYChartScrollbar.className]);\n\n\t/**\n\t * An instance of an [[XYChart]] that is used to plot chart preview in\n\t * scrollbar.\n\t */\n\tpublic readonly chart: XYChart = this.children.push(XYChart.new(this._root, {\n\t\tthemeTags: [\"chart\"],\n\t\tinteractive: false,\n\t\tinteractiveChildren: false,\n\t\tpanX: false,\n\t\tpanY: false,\n\t\twheelX: \"none\",\n\t\twheelY: \"none\"\n\t}));\n\n\t/**\n\t * A graphics element that is displayed over inactive portion of the\n\t * scrollbarpreview, to dim it down.\n\t */\n\tpublic readonly overlay: Graphics = this.children.push(Graphics.new(this._root, {\n\t\tthemeTags: [\"overlay\"],\n\t\tinteractive: false\n\t}));\n\n\tprotected _afterNew() {\n\t\tthis._addOrientationClass();\n\t\tthis._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"scrollbar\", \"xy\", \"chart\", this._settings.orientation]);\n\n\t\tconst children = this.children;\n\t\tchildren.moveValue(this.thumb);\n\t\tchildren.moveValue(this.startGrip);\n\t\tchildren.moveValue(this.endGrip);\n\n\t\tthis.thumb.set(\"opacity\", 0);\n\t\tthis.thumb.states.create(\"hover\", { opacity: 0.2 });\n\n\t\tconst plotContainer = this.chart.plotContainer;\n\t\tplotContainer.set(\"interactive\", false);\n\t\tplotContainer.remove(\"background\");\n\t\tplotContainer.children.removeValue(this.chart.zoomOutButton);\n\n\t\tsuper._afterNew();\n\t}\n\n\tprotected _updateThumb() {\n\t\tsuper._updateThumb();\n\n\t\tthis.overlay.set(\"draw\", (display) => {\n\t\t\tconst startGrip = this.startGrip;\n\t\t\tconst endGrip = this.endGrip;\n\n\t\t\tlet x0 = startGrip.x();\n\t\t\tlet y0 = startGrip.y();\n\n\t\t\tlet x1 = endGrip.x();\n\t\t\tlet y1 = endGrip.y();\n\n\t\t\tconst h = this.height();\n\t\t\tconst w = this.width();\n\n\t\t\tif (x0 > x1) {\n\t\t\t\t[x0, x1] = [x1, x0]\n\t\t\t}\n\n\t\t\tif (y0 > y1) {\n\t\t\t\t[y0, y1] = [y1, y0]\n\t\t\t}\n\n\t\t\tif (this.get(\"orientation\") === \"horizontal\") {\n\t\t\t\tdisplay.moveTo(0, 0);\n\t\t\t\tdisplay.lineTo(x0, 0);\n\t\t\t\tdisplay.lineTo(x0, h);\n\t\t\t\tdisplay.lineTo(0, h);\n\t\t\t\tdisplay.lineTo(0, 0);\n\n\t\t\t\tdisplay.moveTo(x1, 0);\n\t\t\t\tdisplay.lineTo(w, 0);\n\t\t\t\tdisplay.lineTo(w, h);\n\t\t\t\tdisplay.lineTo(x1, h);\n\t\t\t\tdisplay.lineTo(x1, 0);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdisplay.moveTo(0, 0);\n\t\t\t\tdisplay.lineTo(0, y0);\n\t\t\t\tdisplay.lineTo(w, y0);\n\t\t\t\tdisplay.lineTo(w, 0);\n\t\t\t\tdisplay.lineTo(0, 0);\n\n\t\t\t\tdisplay.moveTo(0, y1);\n\t\t\t\tdisplay.lineTo(0, h);\n\t\t\t\tdisplay.lineTo(w, h);\n\t\t\t\tdisplay.lineTo(w, y1);\n\t\t\t\tdisplay.lineTo(0, y1);\n\t\t\t}\n\t\t})\n\t}\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}