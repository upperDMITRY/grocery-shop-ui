{"ast":null,"code":"import { Container } from \"./render/Container\";\nimport { HorizontalLayout } from \"./render/HorizontalLayout\";\nimport { VerticalLayout } from \"./render/VerticalLayout\";\nimport { GridLayout } from \"./render/GridLayout\";\nimport { Disposer } from \"./util/Disposer\";\nimport { ResizeSensor } from \"./util/ResizeSensor\";\nimport { InterfaceColors } from \"./util/InterfaceColors\";\nimport { Graphics } from \"./render/Graphics\";\nimport { Rectangle } from \"./render/Rectangle\";\nimport { Tooltip } from \"./render/Tooltip\";\nimport { NumberFormatter } from \"./util/NumberFormatter\";\nimport { DateFormatter } from \"./util/DateFormatter\";\nimport { DurationFormatter } from \"./util/DurationFormatter\";\nimport { Language } from \"./util/Language\";\nimport { EventDispatcher } from \"./util/EventDispatcher\";\nimport { DefaultTheme } from \"../themes/DefaultTheme\";\nimport { CanvasRenderer } from \"./render/backend/CanvasRenderer\";\nimport { p100, percent } from \"./util/Percent\";\nimport { color } from \"./util/Color\";\nimport { populateString } from \"./util/PopulateString\";\nimport { registry } from \"./Registry\";\nimport * as $order from \"./util/Order\";\nimport * as $array from \"./util/Array\";\nimport * as $object from \"./util/Object\";\nimport * as $utils from \"./util/Utils\";\nimport en from \"../../locales/en\";\n\nfunction rAF(fps, callback) {\n  if (fps == null) {\n    requestAnimationFrame(callback);\n  } else {\n    setTimeout(function () {\n      requestAnimationFrame(callback);\n    }, 1000 / fps);\n  }\n} // TODO implement Disposer\n\n/**\r\n * Root element of the chart.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/getting-started/#Root_element} for more info\r\n */\n\n\nvar Root =\n/** @class */\nfunction () {\n  function Root(id, isReal) {\n    /**\r\n     * A reference to original chart container (div element).\r\n     */\n    Object.defineProperty(this, \"dom\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"_inner\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"_isDirty\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: false\n    });\n    Object.defineProperty(this, \"_isDirtyParents\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: false\n    });\n    Object.defineProperty(this, \"_dirty\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: {}\n    });\n    Object.defineProperty(this, \"_dirtyParents\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: {}\n    });\n    Object.defineProperty(this, \"_dirtyBounds\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: {}\n    });\n    Object.defineProperty(this, \"_dirtyPositions\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: {}\n    });\n    Object.defineProperty(this, \"_ticker\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: null\n    });\n    Object.defineProperty(this, \"_tickers\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: []\n    });\n    /**\r\n     * Root's event dispatcher.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/events/} for more info\r\n     */\n\n    Object.defineProperty(this, \"events\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: new EventDispatcher()\n    });\n    /**\r\n     * @todo needs description\r\n     */\n\n    Object.defineProperty(this, \"animationTime\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: null\n    });\n    Object.defineProperty(this, \"_animations\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: []\n    });\n    Object.defineProperty(this, \"_renderer\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: new CanvasRenderer()\n    });\n    Object.defineProperty(this, \"_rootContainer\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    /**\r\n     * Main content container.\r\n     */\n\n    Object.defineProperty(this, \"container\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    /**\r\n     * A [[Container]] used to display tooltips in.\r\n     */\n\n    Object.defineProperty(this, \"tooltipContainer\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"_tooltip\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    }); // Locale-related\n\n    /**\r\n     * @ignore\r\n     */\n\n    Object.defineProperty(this, \"language\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: Language.new(this, {})\n    });\n    /**\r\n     * Locale used by the chart.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/locales/}\r\n     */\n\n    Object.defineProperty(this, \"locale\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: en\n    }); // Date-time related\n\n    /**\r\n     * Use UTC when formatting date/time.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/#UTC_and_time_zones} for more info\r\n     */\n\n    Object.defineProperty(this, \"utc\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: false\n    });\n    /**\r\n     * Use specific time zone when formatting date/time.\r\n     *\r\n     * @ignore timezones are not yet supported\r\n     */\n\n    Object.defineProperty(this, \"timezone\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: null\n    });\n    /**\r\n     * The maximum FPS that the Root will run at.\r\n     *\r\n     * If `undefined` it will run at the highest FPS.\r\n     */\n\n    Object.defineProperty(this, \"fps\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    /**\r\n     * Number formatter.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-numbers/} for more info\r\n     */\n\n    Object.defineProperty(this, \"numberFormatter\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: NumberFormatter.new(this, {})\n    });\n    /**\r\n     * Date/time formatter.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/} for more info\r\n     */\n\n    Object.defineProperty(this, \"dateFormatter\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: DateFormatter.new(this, {})\n    });\n    /**\r\n     * Duration formatter.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/} for more info\r\n     */\n\n    Object.defineProperty(this, \"durationFormatter\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: DurationFormatter.new(this, {})\n    }); // Accessibility\n\n    /**\r\n     * Global tab index for using for the whole chart\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/accessibility/} for more info\r\n     */\n\n    Object.defineProperty(this, \"tabindex\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: 0\n    }); //@todo maybe make this better\n\n    Object.defineProperty(this, \"_tabindexes\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: []\n    });\n    Object.defineProperty(this, \"_focusElementDirty\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: false\n    });\n    Object.defineProperty(this, \"_focusElementContainer\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"_focusedSprite\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"_keyboardDragPoint\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"_tooltipElementContainer\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"_readerAlertElement\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"_logo\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    /**\r\n     * Used for dynamically-created CSS and JavaScript with strict source policies.\r\n     */\n\n    Object.defineProperty(this, \"nonce\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    /**\r\n     * Special color set to be used for various controls.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/#Interface_colors} for more info\r\n     */\n\n    Object.defineProperty(this, \"interfaceColors\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    /**\r\n     * An instance of vertical layout object that can be used to set `layout` setting\r\n     * of a [[Container]].\r\n     *\r\n     * @default VerticalLayout.new()\r\n     */\n\n    Object.defineProperty(this, \"verticalLayout\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: VerticalLayout.new(this, {})\n    });\n    /**\r\n     * An instance of horizontal layout object that can be used to set `layout` setting\r\n     * of a [[Container]].\r\n     *\r\n     * @default HorizontalLayout.new()\r\n     */\n\n    Object.defineProperty(this, \"horizontalLayout\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: HorizontalLayout.new(this, {})\n    });\n    /**\r\n     * An instance of grid layout object that can be used to set `layout` setting\r\n     * of a [[Container]].\r\n     *\r\n     * @default VerticalLayout.new()\r\n     */\n\n    Object.defineProperty(this, \"gridLayout\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: GridLayout.new(this, {})\n    });\n    /**\r\n     * Indicates whether chart should resized automatically when parent container\r\n     * width and/or height changes.\r\n     *\r\n     * If disabled (`autoResize = false`) you can make the chart resize manually\r\n     * by calling root element's `resize()` method.\r\n     */\n\n    Object.defineProperty(this, \"autoResize\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: true\n    });\n    Object.defineProperty(this, \"_isDisposed\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: false\n    });\n    Object.defineProperty(this, \"_disposers\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: []\n    });\n    Object.defineProperty(this, \"_resizeSensorDisposer\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"_tooltips\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: []\n    });\n\n    if (!isReal) {\n      throw new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\n    }\n\n    var dom;\n\n    if (id instanceof HTMLElement) {\n      dom = id;\n    } else {\n      dom = document.getElementById(id);\n    }\n\n    $array.each(registry.rootElements, function (root) {\n      if (root.dom === dom) {\n        throw new Error(\"You cannot have multiple Roots on the same DOM node\");\n      }\n    });\n    this.interfaceColors = InterfaceColors.new(this, {});\n\n    if (dom === null) {\n      throw new Error(\"Could not find HTML element with id `\" + id + \"`\");\n    }\n\n    this.dom = dom;\n    var inner = document.createElement(\"div\");\n    inner.style.position = \"relative\";\n    dom.appendChild(inner);\n    this._inner = inner;\n    registry.rootElements.push(this);\n  }\n\n  Object.defineProperty(Root, \"new\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value(id) {\n      var root = new Root(id, true);\n\n      root._init();\n\n      return root;\n    }\n  });\n  Object.defineProperty(Root.prototype, \"moveDOM\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value(id) {\n      var dom;\n\n      if (id instanceof HTMLElement) {\n        dom = id;\n      } else {\n        dom = document.getElementById(id);\n      }\n\n      if (dom) {\n        while (this.dom.childNodes.length > 0) {\n          dom.appendChild(this.dom.childNodes[0]);\n        }\n\n        this.dom = dom;\n\n        this._initResizeSensor();\n\n        this.resize();\n      }\n    }\n  });\n  Object.defineProperty(Root.prototype, \"_handleLogo\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value() {\n      if (this._logo) {\n        if (this._rootContainer.getPrivate(\"width\", 0) <= 150 || this._rootContainer.getPrivate(\"height\", 0) <= 60) {\n          this._logo.hide();\n        } else {\n          this._logo.show();\n        }\n      }\n    }\n  });\n  Object.defineProperty(Root.prototype, \"_showBranding\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value() {\n      if (!this._logo) {\n        var logo = this.tooltipContainer.children.push(Container.new(this, {\n          interactive: true,\n          interactiveChildren: false,\n          position: \"absolute\",\n          setStateOnChildren: true,\n          paddingTop: 9,\n          paddingRight: 9,\n          paddingBottom: 9,\n          paddingLeft: 9,\n          scale: .6,\n          y: percent(100),\n          centerY: p100,\n          tooltipText: \"Created using amCharts 5\",\n          tooltipX: p100,\n          cursorOverStyle: \"pointer\",\n          background: Rectangle.new(this, {\n            fill: color(0x474758),\n            fillOpacity: 0,\n            tooltipY: 5\n          })\n        }));\n        var tooltip = Tooltip.new(this, {\n          pointerOrientation: \"horizontal\",\n          paddingTop: 4,\n          paddingRight: 7,\n          paddingBottom: 4,\n          paddingLeft: 7\n        });\n        tooltip.label.setAll({\n          fontSize: 12\n        });\n        tooltip.get(\"background\").setAll({\n          fill: this.interfaceColors.get(\"background\"),\n          stroke: this.interfaceColors.get(\"grid\"),\n          strokeOpacity: 0.3\n        });\n        logo.set(\"tooltip\", tooltip);\n        logo.events.on(\"click\", function () {\n          window.open(\"https://www.amcharts.com/\", \"_blank\");\n        });\n        logo.states.create(\"hover\", {});\n        var m = logo.children.push(Graphics.new(this, {\n          stroke: color(0xcccccc),\n          strokeWidth: 3,\n          svgPath: \"M5 25 L13 25h13.6c3.4 0 6 0 10.3-4.3s5.2-12 8.6-12c3.4 0 4.3 8.6 7.7 8.6M83.4 25H79.8c-3.4 0-6 0-10.3-4.3s-5.2-12-8.6-12-4.3 8.6-7.7 8.6\"\n        }));\n        m.states.create(\"hover\", {\n          stroke: color(0x3CABFF)\n        });\n        var a = logo.children.push(Graphics.new(this, {\n          stroke: color(0x888888),\n          strokeWidth: 3,\n          svgPath: \"M83.4 25h-31C37 25 39.5 4.4 28.4 4.4S18.9 24.2 4.3 25H0\"\n        }));\n        a.states.create(\"hover\", {\n          stroke: color(0x474758)\n        }); //logo.set(\"tooltip\", this._tooltip);\n        //logo.setPrivate(\"tooltipTarget\", logo.get(\"background\"));\n\n        this._logo = logo;\n\n        this._handleLogo();\n      }\n    }\n  });\n  Object.defineProperty(Root.prototype, \"_init\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value() {\n      var _this = this;\n\n      var renderer = this._renderer;\n      var rootContainer = Container.new(this, {\n        visible: true,\n        width: this.dom.clientWidth,\n        height: this.dom.clientHeight\n      });\n      this._rootContainer = rootContainer;\n\n      this._rootContainer._defaultThemes.push(DefaultTheme.new(this));\n\n      var container = rootContainer.children.push(Container.new(this, {\n        visible: true,\n        width: p100,\n        height: p100\n      }));\n      this.container = container;\n      renderer.resize(this.dom.clientWidth, this.dom.clientHeight); //@todo: better appendChild - refer\n\n      this._inner.appendChild(renderer.view); // TODO: TMP TMP TMP for testing only, remove\n      //document.body.appendChild((<any>renderer)._ghostView);\n\n\n      this._initResizeSensor(); // Create element which is used to make announcements to screen reader\n\n\n      var readerAlertElement = document.createElement(\"div\");\n      readerAlertElement.setAttribute(\"role\", \"alert\");\n      readerAlertElement.style.zIndex = \"-100000\";\n      readerAlertElement.style.opacity = \"0\";\n      readerAlertElement.style.position = \"absolute\";\n      readerAlertElement.style.top = \"0\";\n      this._readerAlertElement = readerAlertElement;\n\n      this._inner.appendChild(this._readerAlertElement);\n\n      var focusElementContainer = document.createElement(\"div\");\n      focusElementContainer.style.position = \"absolute\";\n      focusElementContainer.style.pointerEvents = \"none\";\n      focusElementContainer.style.top = \"0px\";\n      focusElementContainer.style.left = \"0px\";\n      focusElementContainer.style.overflow = \"hidden\";\n      focusElementContainer.style.width = this.dom.clientWidth + \"px\";\n      focusElementContainer.style.height = this.dom.clientHeight + \"px\";\n      $utils.setInteractive(focusElementContainer, false);\n      this._focusElementContainer = focusElementContainer;\n\n      this._inner.appendChild(this._focusElementContainer);\n\n      this._tooltipElementContainer = document.createElement(\"div\");\n\n      this._inner.appendChild(this._tooltipElementContainer); // Add keyboard events for accessibility, e.g. simulating drag with arrow\n      // keys and click with ENTER\n\n\n      if ($utils.supports(\"keyboardevents\")) {\n        this._disposers.push($utils.addEventListener(document, \"keydown\", function (ev) {\n          var focusedSprite = _this._focusedSprite;\n\n          if (focusedSprite) {\n            if (ev.keyCode == 27) {\n              // ESC pressed - lose current focus\n              $utils.blur();\n              _this._focusedSprite = undefined;\n            }\n\n            var dragOffsetX = 0;\n            var dragOffsetY = 0; // TODO: figure out if using bogus MouseEvent is fine, or it will\n            // fail on some platforms\n\n            switch (ev.keyCode) {\n              case 13:\n                ev.preventDefault();\n                var downEvent = renderer.getEvent(new MouseEvent(\"click\"));\n                focusedSprite.events.dispatch(\"click\", {\n                  type: \"click\",\n                  originalEvent: downEvent.event,\n                  point: downEvent.point,\n                  simulated: true,\n                  target: focusedSprite\n                });\n                return;\n\n              case 37:\n                dragOffsetX = -6;\n                break;\n\n              case 39:\n                dragOffsetX = 6;\n                break;\n\n              case 38:\n                dragOffsetY = -6;\n                break;\n\n              case 40:\n                dragOffsetY = 6;\n                break;\n\n              default:\n                return;\n            }\n\n            if (dragOffsetX != 0 || dragOffsetY != 0) {\n              ev.preventDefault();\n\n              if (!focusedSprite.isDragging()) {\n                // Start dragging\n                _this._keyboardDragPoint = {\n                  x: 0,\n                  y: 0\n                };\n                var downEvent = renderer.getEvent(new MouseEvent(\"mousedown\", {\n                  clientX: 0,\n                  clientY: 0\n                }));\n\n                if (focusedSprite.events.isEnabled(\"pointerdown\")) {\n                  focusedSprite.events.dispatch(\"pointerdown\", {\n                    type: \"pointerdown\",\n                    originalEvent: downEvent.event,\n                    point: downEvent.point,\n                    simulated: true,\n                    target: focusedSprite\n                  });\n                }\n              } else {// Move focus marker\n                //this._positionFocusElement(focusedSprite);\n              } // Move incrementally\n\n\n              var dragPoint = _this._keyboardDragPoint;\n              dragPoint.x += dragOffsetX;\n              dragPoint.y += dragOffsetY;\n              var moveEvent = renderer.getEvent(new MouseEvent(\"mousemove\", {\n                clientX: dragPoint.x,\n                clientY: dragPoint.y\n              }), false);\n\n              if (focusedSprite.events.isEnabled(\"globalpointermove\")) {\n                focusedSprite.events.dispatch(\"globalpointermove\", {\n                  type: \"globalpointermove\",\n                  originalEvent: moveEvent.event,\n                  point: moveEvent.point,\n                  simulated: true,\n                  target: focusedSprite\n                });\n              }\n            }\n          }\n        }));\n\n        document.addEventListener(\"keyup\", function (ev) {\n          if (_this._focusedSprite) {\n            var focusedSprite = _this._focusedSprite;\n            var keyCode = ev.keyCode;\n\n            switch (keyCode) {\n              case 37:\n              case 39:\n              case 38:\n              case 40:\n                if (focusedSprite.isDragging()) {\n                  // Simulate drag stop\n                  var dragPoint = _this._keyboardDragPoint;\n                  var upEvent = renderer.getEvent(new MouseEvent(\"mouseup\", {\n                    clientX: dragPoint.x,\n                    clientY: dragPoint.y\n                  }));\n\n                  if (focusedSprite.events.isEnabled(\"globalpointerup\")) {\n                    focusedSprite.events.dispatch(\"globalpointerup\", {\n                      type: \"globalpointerup\",\n                      originalEvent: upEvent.event,\n                      point: upEvent.point,\n                      simulated: true,\n                      target: focusedSprite\n                    });\n                  } //this._positionFocusElement(focusedSprite);\n\n\n                  _this._keyboardDragPoint = undefined; // @todo dispatch mouseup event instead of calling dragStop?\n                  // this._dispatchEvent(\"globalpointerup\", target, upEvent);\n\n                  return;\n                } else if (focusedSprite.get(\"focusableGroup\")) {\n                  // Find next item in focusable group\n                  var group_1 = focusedSprite.get(\"focusableGroup\");\n\n                  var items = _this._tabindexes.filter(function (item) {\n                    return item.get(\"focusableGroup\") == group_1;\n                  });\n\n                  var index = items.indexOf(focusedSprite);\n                  var lastIndex = items.length - 1;\n                  index += keyCode == 39 || keyCode == 40 ? 1 : -1;\n\n                  if (index < 0) {\n                    index = lastIndex;\n                  } else if (index > lastIndex) {\n                    index = 0;\n                  }\n\n                  $utils.focus(items[index].getPrivate(\"focusElement\"));\n                }\n\n                break;\n            }\n          }\n        });\n      }\n\n      this._startTicker();\n\n      this.setThemes([]);\n\n      this._addTooltip();\n\n      if (!this._hasLicense()) {\n        this._showBranding();\n      }\n    }\n  });\n  Object.defineProperty(Root.prototype, \"_initResizeSensor\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value() {\n      var _this = this;\n\n      if (this._resizeSensorDisposer) {\n        this._resizeSensorDisposer.dispose();\n      }\n\n      this._resizeSensorDisposer = new ResizeSensor(this.dom, function () {\n        if (_this.autoResize) {\n          _this.resize();\n        }\n      });\n\n      this._disposers.push(this._resizeSensorDisposer);\n    }\n  });\n  /**\r\n   * If automatic resizing of char is disabled (`root.autoResize = false`), it\r\n   * can be resized manually by calling this method.\r\n   */\n\n  Object.defineProperty(Root.prototype, \"resize\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value() {\n      var dom = this.dom;\n      var w = dom.clientWidth;\n      var h = dom.clientHeight;\n\n      if (w > 0 && h > 0) {\n        var focusElementContainer = this._focusElementContainer;\n        focusElementContainer.style.width = w + \"px\";\n        focusElementContainer.style.height = h + \"px\";\n\n        this._renderer.resize(w, h);\n\n        var rootContainer = this._rootContainer;\n        rootContainer.setPrivate(\"width\", w);\n        rootContainer.setPrivate(\"height\", h);\n\n        this._render();\n\n        this._handleLogo();\n      }\n    }\n  });\n  Object.defineProperty(Root.prototype, \"_render\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value() {\n      this._renderer.render(this._rootContainer._display);\n\n      if (this._focusElementDirty) {\n        this._updateCurrentFocus();\n\n        this._focusElementDirty = false;\n      }\n    }\n  });\n  Object.defineProperty(Root.prototype, \"_runTickers\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value(currentTime) {\n      $array.each(this._tickers, function (f) {\n        f(currentTime);\n      });\n    }\n  });\n  Object.defineProperty(Root.prototype, \"_runAnimations\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value(currentTime) {\n      $array.keepIf(this._animations, function (animation) {\n        return !animation._runAnimation(currentTime);\n      });\n    }\n  });\n  Object.defineProperty(Root.prototype, \"_runDirties\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value() {\n      var _this = this; //console.log(\"tick **************************************************************\");\n\n\n      var allParents = {};\n\n      while (this._isDirtyParents) {\n        // This must be before calling _prepareChildren\n        this._isDirtyParents = false;\n        $object.keys(this._dirtyParents).forEach(function (key) {\n          var parent = _this._dirtyParents[key];\n          delete _this._dirtyParents[key];\n\n          if (!parent.isDisposed()) {\n            allParents[parent.uid] = parent;\n\n            parent._prepareChildren();\n          }\n        });\n      }\n\n      $object.keys(allParents).forEach(function (key) {\n        allParents[key]._updateChildren();\n      });\n      var objects = []; //\t\tconsole.log(\"_beforeChanged\")\n\n      $object.keys(this._dirty).forEach(function (key) {\n        var entity = _this._dirty[key];\n\n        if (entity.isDisposed()) {\n          delete _this._dirty[entity.uid];\n        } else {\n          objects.push(entity);\n\n          entity._beforeChanged();\n        }\n      }); //\t\tconsole.log(\"_changed\")\n\n      objects.forEach(function (entity) {\n        entity._changed();\n\n        delete _this._dirty[entity.uid];\n\n        entity._clearDirty();\n      });\n      this._isDirty = false;\n      var depths = {};\n      var bounds = [];\n      $object.keys(this._dirtyBounds).forEach(function (key) {\n        var entity = _this._dirtyBounds[key];\n        delete _this._dirtyBounds[key];\n\n        if (!entity.isDisposed()) {\n          depths[entity.uid] = entity.depth();\n          bounds.push(entity);\n        }\n      }); // High depth -> low depth\n\n      bounds.sort(function (x, y) {\n        return $order.compare(depths[y.uid], depths[x.uid]);\n      }); //\t\tconsole.log(\"_updateBounds\")\n\n      bounds.forEach(function (entity) {\n        entity._updateBounds();\n      }); //\t\tconsole.log(\"_updatePosition\")\n\n      var dirtyPositions = this._dirtyPositions;\n      $object.keys(dirtyPositions).forEach(function (key) {\n        var sprite = dirtyPositions[key];\n        delete dirtyPositions[key];\n\n        if (!sprite.isDisposed()) {\n          sprite._updatePosition();\n        }\n      }); //\t\tconsole.log(\"_afterChanged\")\n\n      objects.forEach(function (entity) {\n        entity._afterChanged();\n      });\n    }\n  });\n  Object.defineProperty(Root.prototype, \"_runTicker\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value(currentTime) {\n      if (!this.isDisposed()) {\n        this.animationTime = currentTime;\n\n        if (this.events.isEnabled(\"framestarted\")) {\n          this.events.dispatch(\"framestarted\", {\n            type: \"framestarted\",\n            target: this,\n            timestamp: currentTime\n          });\n        }\n\n        this._runTickers(currentTime);\n\n        this._runAnimations(currentTime);\n\n        this._runDirties();\n\n        this._render();\n\n        if (this.events.isEnabled(\"frameended\")) {\n          this.events.dispatch(\"frameended\", {\n            type: \"frameended\",\n            target: this,\n            timestamp: currentTime\n          });\n        } // No more work to do\n\n\n        if (this._tickers.length === 0 && this._animations.length === 0 && !this._isDirty) {\n          this._ticker = null;\n          this.animationTime = null;\n        } else {\n          rAF(this.fps, this._ticker);\n        }\n      }\n    }\n  });\n  Object.defineProperty(Root.prototype, \"_startTicker\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value() {\n      var _this = this;\n\n      if (this._ticker === null) {\n        this.animationTime = null;\n\n        this._ticker = function (currentTime) {\n          _this._runTicker(currentTime);\n        };\n\n        rAF(this.fps, this._ticker);\n      }\n    }\n  });\n  Object.defineProperty(Root.prototype, \"_addDirtyEntity\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value(entity) {\n      if (this._dirty[entity.uid] === undefined) {\n        this._isDirty = true;\n        this._dirty[entity.uid] = entity;\n\n        this._startTicker();\n      }\n    }\n  });\n  Object.defineProperty(Root.prototype, \"_addDirtyParent\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value(parent) {\n      if (this._dirtyParents[parent.uid] === undefined) {\n        this._isDirty = true;\n        this._isDirtyParents = true;\n        this._dirtyParents[parent.uid] = parent;\n\n        this._startTicker();\n      }\n    }\n  });\n  Object.defineProperty(Root.prototype, \"_addDirtyBounds\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value(entity) {\n      if (this._dirtyBounds[entity.uid] === undefined) {\n        this._isDirty = true;\n        this._dirtyBounds[entity.uid] = entity;\n\n        this._startTicker();\n      }\n    }\n  });\n  Object.defineProperty(Root.prototype, \"_addDirtyPosition\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value(sprite) {\n      if (this._dirtyPositions[sprite.uid] === undefined) {\n        this._isDirty = true;\n        this._dirtyPositions[sprite.uid] = sprite;\n\n        this._startTicker();\n      }\n    }\n  });\n  Object.defineProperty(Root.prototype, \"_addAnimation\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value(animation) {\n      // TODO use numeric id instead\n      if (this._animations.indexOf(animation) === -1) {\n        this._animations.push(animation);\n\n        this._startTicker();\n      }\n    }\n  });\n  Object.defineProperty(Root.prototype, \"eachFrame\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value(f) {\n      var _this = this;\n\n      this._tickers.push(f);\n\n      this._startTicker();\n\n      return new Disposer(function () {\n        $array.removeFirst(_this._tickers, f);\n      });\n    }\n  });\n  /**\r\n   * Returns width of the target container, in pixels.\r\n   *\r\n   * @return Width\r\n   */\n\n  Object.defineProperty(Root.prototype, \"width\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value() {\n      return this.dom.clientWidth;\n    }\n  });\n  /**\r\n   * Returns height of the target container, in pixels.\r\n   *\r\n   * @return Height\r\n   */\n\n  Object.defineProperty(Root.prototype, \"height\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value() {\n      return this.dom.clientHeight;\n    }\n  });\n  /**\r\n   * Disposes root and all the content in it.\r\n   */\n\n  Object.defineProperty(Root.prototype, \"dispose\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value() {\n      if (!this._isDisposed) {\n        this._isDisposed = true;\n\n        this._rootContainer.dispose();\n\n        this._renderer.dispose();\n\n        this.horizontalLayout.dispose();\n        this.verticalLayout.dispose();\n        this.interfaceColors.dispose();\n        $array.each(this._disposers, function (x) {\n          x.dispose();\n        });\n\n        if (this._inner) {\n          $utils.removeElement(this._inner);\n        }\n\n        $array.remove(registry.rootElements, this);\n      }\n    }\n  });\n  /**\r\n   * Returns `true` if root element is disposed.\r\n   *\r\n   * @return Disposed?\r\n   */\n\n  Object.defineProperty(Root.prototype, \"isDisposed\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value() {\n      return this._isDisposed;\n    }\n  });\n  /**\r\n   * Triggers screen reader read out a message.\r\n   *\r\n   * @see {@link https://www.amcharts.com/docs/v5/concepts/accessibility/} for more info\r\n   * @param  text  Alert text\r\n   */\n\n  Object.defineProperty(Root.prototype, \"readerAlert\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value(text) {\n      this._readerAlertElement.innerHTML = text;\n    }\n  });\n  /**\r\n   * Sets themes to be used for the chart.\r\n   *\r\n   * @see {@link https://www.amcharts.com/docs/v5/concepts/themes/} for more info\r\n   * @param  themes  A list of themes\r\n   */\n\n  Object.defineProperty(Root.prototype, \"setThemes\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value(themes) {\n      this._rootContainer.set(\"themes\", themes); // otherwise new themes are not applied\n\n\n      var tooltipContainer = this.tooltipContainer;\n\n      if (tooltipContainer) {\n        tooltipContainer._applyThemes();\n      } // @todo review this\n\n\n      var interfaceColors = this.interfaceColors;\n\n      if (interfaceColors) {\n        interfaceColors._applyThemes();\n      }\n    }\n  });\n  Object.defineProperty(Root.prototype, \"_addTooltip\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value() {\n      if (!this.tooltipContainer) {\n        var tooltipContainer = this._rootContainer.children.push(Container.new(this, {\n          position: \"absolute\",\n          isMeasured: false,\n          width: p100,\n          height: p100,\n          layer: 100\n        }));\n\n        this.tooltipContainer = tooltipContainer;\n        var tooltip = Tooltip.new(this, {});\n        this.container.set(\"tooltip\", tooltip);\n        tooltip.hide(0);\n        this._tooltip = tooltip;\n      }\n    }\n  });\n  /**\r\n   * Accesibility\r\n   */\n\n  Object.defineProperty(Root.prototype, \"_registerTabindexOrder\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value(target) {\n      if (target.get(\"focusable\")) {\n        $array.pushOne(this._tabindexes, target);\n      } else {\n        $array.remove(this._tabindexes, target);\n      }\n\n      this._invalidateTabindexes();\n    }\n  });\n  Object.defineProperty(Root.prototype, \"_unregisterTabindexOrder\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value(target) {\n      $array.remove(this._tabindexes, target);\n\n      this._invalidateTabindexes();\n    }\n  });\n  Object.defineProperty(Root.prototype, \"_invalidateTabindexes\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value() {\n      var _this = this;\n\n      this._tabindexes.sort(function (a, b) {\n        var aindex = a.get(\"tabindexOrder\", 0);\n        var bindex = b.get(\"tabindexOrder\", 0);\n\n        if (aindex == bindex) {\n          return 0;\n        } else if (aindex > bindex) {\n          return 1;\n        } else {\n          return -1;\n        }\n      });\n\n      var groups = [];\n      $array.each(this._tabindexes, function (item, index) {\n        if (!item.getPrivate(\"focusElement\")) {\n          _this._makeFocusElement(index, item);\n        } else {\n          _this._moveFocusElement(index, item);\n        }\n\n        var group = item.get(\"focusableGroup\");\n\n        if (group) {\n          if (groups.indexOf(group) !== -1) {\n            // Non-first element in the group, make it not directly focusable\n            item.getPrivate(\"focusElement\").setAttribute(\"tabindex\", \"-1\");\n          } else {\n            groups.push(group);\n          }\n        }\n      });\n    }\n  });\n  Object.defineProperty(Root.prototype, \"_updateCurrentFocus\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value() {\n      if (this._focusedSprite) {\n        this._decorateFocusElement(this._focusedSprite);\n\n        this._positionFocusElement(this._focusedSprite);\n      }\n    }\n  });\n  Object.defineProperty(Root.prototype, \"_decorateFocusElement\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value(target, focusElement) {\n      // Decorate with proper accessibility attributes\n      if (!focusElement) {\n        focusElement = target.getPrivate(\"focusElement\");\n      }\n\n      if (!focusElement) {\n        return;\n      }\n\n      if (target.get(\"visible\") && target.get(\"role\") != \"tooltip\" && !target.isHidden()) {\n        if (focusElement.getAttribute(\"tabindex\") != \"-1\") {\n          focusElement.setAttribute(\"tabindex\", \"\" + this.tabindex);\n        }\n      } else {\n        focusElement.removeAttribute(\"tabindex\");\n      }\n\n      var role = target.get(\"role\");\n\n      if (role) {\n        focusElement.setAttribute(\"role\", role);\n      } else {\n        focusElement.removeAttribute(\"role\");\n      }\n\n      var ariaLabel = target.get(\"ariaLabel\");\n\n      if (ariaLabel) {\n        var label = populateString(target, ariaLabel);\n        focusElement.setAttribute(\"aria-label\", label);\n      } else {\n        focusElement.removeAttribute(\"aria-label\");\n      }\n\n      var ariaLive = target.get(\"ariaLive\");\n\n      if (ariaLive) {\n        focusElement.setAttribute(\"aria-live\", ariaLive);\n      } else {\n        focusElement.removeAttribute(\"aria-live\");\n      }\n\n      var ariaChecked = target.get(\"ariaChecked\");\n\n      if (ariaChecked != null) {\n        focusElement.setAttribute(\"aria-checked\", ariaChecked ? \"true\" : \"false\");\n      } else {\n        focusElement.removeAttribute(\"aria-checked\");\n      }\n\n      if (target.get(\"ariaHidden\")) {\n        focusElement.setAttribute(\"aria-hidden\", \"hidden\");\n      } else {\n        focusElement.removeAttribute(\"aria-hidden\");\n      }\n\n      var ariaOrientation = target.get(\"ariaOrientation\");\n\n      if (ariaOrientation) {\n        focusElement.setAttribute(\"aria-orientation\", ariaOrientation);\n      } else {\n        focusElement.removeAttribute(\"aria-orientation\");\n      }\n\n      var ariaValueNow = target.get(\"ariaValueNow\");\n\n      if (ariaValueNow) {\n        focusElement.setAttribute(\"aria-valuenow\", ariaValueNow);\n      } else {\n        focusElement.removeAttribute(\"aria-valuenow\");\n      }\n\n      var ariaValueText = target.get(\"ariaValueText\");\n\n      if (ariaValueText) {\n        focusElement.setAttribute(\"aria-valuetext\", ariaValueText);\n      } else {\n        focusElement.removeAttribute(\"aria-valuetext\");\n      }\n    }\n  });\n  Object.defineProperty(Root.prototype, \"_makeFocusElement\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value(index, target) {\n      var _this = this;\n\n      if (target.getPrivate(\"focusElement\")) {\n        return;\n      } // Init\n\n\n      var focusElement = document.createElement(\"div\");\n\n      if (target.get(\"role\") != \"tooltip\") {\n        focusElement.tabIndex = this.tabindex;\n      }\n\n      focusElement.style.position = \"absolute\";\n      $utils.setInteractive(focusElement, false);\n      target.setPrivate(\"focusElement\", focusElement);\n\n      this._decorateFocusElement(target);\n\n      focusElement.addEventListener(\"focus\", function (ev) {\n        _this._handleFocus(ev, index);\n      });\n      focusElement.addEventListener(\"blur\", function (ev) {\n        _this._handleBlur(ev, index);\n      });\n\n      this._moveFocusElement(index, target);\n    }\n  });\n  Object.defineProperty(Root.prototype, \"_removeFocusElement\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value(target) {\n      // Init\n      var container = this._focusElementContainer;\n      var focusElement = target.getPrivate(\"focusElement\");\n      container.removeChild(focusElement);\n    }\n  });\n  Object.defineProperty(Root.prototype, \"_moveFocusElement\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value(index, target) {\n      // Get container\n      var container = this._focusElementContainer;\n      var focusElement = target.getPrivate(\"focusElement\");\n\n      if (focusElement === this._focusElementContainer.children[index]) {\n        // Nothing to do\n        return;\n      }\n\n      var next = this._focusElementContainer.children[index + 1];\n\n      if (next) {\n        container.insertBefore(focusElement, next);\n      } else {\n        container.append(focusElement);\n      }\n    }\n  });\n  Object.defineProperty(Root.prototype, \"_positionFocusElement\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value(target) {\n      var bounds = target.globalBounds();\n      var width = bounds.right == bounds.left ? target.width() : bounds.right - bounds.left;\n      var height = bounds.top == bounds.bottom ? target.height() : bounds.bottom - bounds.top;\n      var focusElement = target.getPrivate(\"focusElement\");\n      focusElement.style.top = bounds.top - 2 + \"px\";\n      focusElement.style.left = bounds.left - 2 + \"px\";\n      focusElement.style.width = width + 4 + \"px\";\n      focusElement.style.height = height + 4 + \"px\";\n    }\n  });\n  Object.defineProperty(Root.prototype, \"_handleFocus\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value(ev, index) {\n      // Get element\n      var focused = this._tabindexes[index]; // Size and position\n\n      this._positionFocusElement(focused); //this._decorateFocusElement(focused);\n\n\n      this._focusedSprite = focused;\n\n      if (focused.events.isEnabled(\"focus\")) {\n        focused.events.dispatch(\"focus\", {\n          type: \"focus\",\n          originalEvent: ev,\n          target: focused\n        });\n      }\n    }\n  });\n  Object.defineProperty(Root.prototype, \"_handleBlur\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value(ev, _index) {\n      var focused = this._focusedSprite;\n\n      if (focused && focused.events.isEnabled(\"blur\")) {\n        focused.events.dispatch(\"blur\", {\n          type: \"blur\",\n          originalEvent: ev,\n          target: focused\n        });\n      }\n\n      this._focusedSprite = undefined;\n    }\n  });\n  /**\r\n   * @ignore\r\n   */\n\n  Object.defineProperty(Root.prototype, \"updateTooltip\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value(target) {\n      var text = target._getText();\n\n      var tooltipElement = target.getPrivate(\"tooltipElement\");\n\n      if (target.get(\"role\") == \"tooltip\" && text != \"\") {\n        if (!tooltipElement) {\n          tooltipElement = this._makeTooltipElement(target);\n        }\n\n        if (tooltipElement.innerHTML != text) {\n          tooltipElement.innerHTML = text;\n        }\n      } else if (tooltipElement) {\n        tooltipElement.remove();\n        target.removePrivate(\"tooltipElement\");\n      }\n    }\n  });\n  Object.defineProperty(Root.prototype, \"_makeTooltipElement\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value(target) {\n      var container = this._tooltipElementContainer;\n      var tooltipElement = document.createElement(\"div\");\n      tooltipElement.style.position = \"absolute\";\n      tooltipElement.style.opacity = \"0.0000001\";\n      $utils.setInteractive(tooltipElement, false);\n\n      this._decorateFocusElement(target, tooltipElement);\n\n      container.append(tooltipElement);\n      target.setPrivate(\"tooltipElement\", tooltipElement);\n      return tooltipElement;\n    }\n  });\n  Object.defineProperty(Root.prototype, \"_invalidateAccessibility\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value(target) {\n      this._focusElementDirty = true;\n      var focusElement = target.getPrivate(\"focusElement\");\n\n      if (target.get(\"focusable\")) {\n        if (focusElement) {\n          this._decorateFocusElement(target);\n\n          this._positionFocusElement(target);\n        } // else {\n        // \tthis._renderer._makeFocusElement(0, this);\n        // }\n\n      } else if (focusElement) {\n        this._removeFocusElement(target);\n      } //this.updateCurrentFocus();\n\n    }\n  });\n  /**\r\n   * Returns `true` if `target` is currently focused.\r\n   *\r\n   * @param   target  Target\r\n   * @return          Focused?\r\n   */\n\n  Object.defineProperty(Root.prototype, \"focused\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value(target) {\n      return this._focusedSprite === target;\n    }\n  });\n  /**\r\n   * Converts document coordinates to coordinates withing root element.\r\n   *\r\n   * @param   point  Document point\r\n   * @return         Root point\r\n   */\n\n  Object.defineProperty(Root.prototype, \"documentPointToRoot\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value(point) {\n      var bbox = this.dom.getBoundingClientRect();\n      return {\n        x: point.x - bbox.left,\n        y: point.y - bbox.top\n      };\n    }\n  });\n  /**\r\n   * @ignore\r\n   */\n\n  Object.defineProperty(Root.prototype, \"addDisposer\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value(disposer) {\n      this._disposers.push(disposer);\n\n      return disposer;\n    }\n  });\n  /**\r\n  * To all the clever heads out there. Yes, we did not make any attempts to\r\n  * scramble this.\r\n  *\r\n  * This is a part of a tool meant for our users to manage their commercial\r\n  * licenses for removal of amCharts branding from charts.\r\n  *\r\n  * The only legit way to do so is to purchase a commercial license for amCharts:\r\n  * https://www.amcharts.com/online-store/\r\n  *\r\n  * Removing or altering this code, or disabling amCharts branding in any other\r\n  * way is against the license and thus illegal.\r\n  */\n\n  Object.defineProperty(Root.prototype, \"_hasLicense\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function value() {\n      for (var i = 0; i < registry.licenses.length; i++) {\n        if (registry.licenses[i].match(/^AM5C.{5,}/i)) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  });\n  return Root;\n}();\n\nexport { Root };","map":{"version":3,"sources":["../../../../src/.internal/core/Root.ts"],"names":[],"mappings":"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","sourcesContent":["import type { IAnimation } from \"./util/Animation\";\nimport type { Entity } from \"./util/Entity\";\nimport type { Sprite } from \"./render/Sprite\";\nimport type { Text } from \"./render/Text\";\nimport type { Theme } from \"./Theme\";\nimport type { IPoint } from \"./util/IPoint\";\nimport type { IRenderer } from \"./render/backend/Renderer\";\n\nimport { Container } from \"./render/Container\";\nimport { HorizontalLayout } from \"./render/HorizontalLayout\";\nimport { VerticalLayout } from \"./render/VerticalLayout\";\nimport { GridLayout } from \"./render/GridLayout\";\nimport { IDisposer, Disposer } from \"./util/Disposer\";\nimport { ResizeSensor } from \"./util/ResizeSensor\";\nimport { InterfaceColors } from \"./util/InterfaceColors\";\nimport { Graphics } from \"./render/Graphics\";\nimport { Rectangle } from \"./render/Rectangle\";\nimport { Tooltip } from \"./render/Tooltip\";\nimport { NumberFormatter } from \"./util/NumberFormatter\";\nimport { DateFormatter } from \"./util/DateFormatter\";\nimport { DurationFormatter } from \"./util/DurationFormatter\";\nimport { ILocale, Language } from \"./util/Language\";\nimport { Events, EventDispatcher } from \"./util/EventDispatcher\";\nimport { DefaultTheme } from \"../themes/DefaultTheme\";\nimport { CanvasRenderer } from \"./render/backend/CanvasRenderer\";\nimport { p100, percent } from \"./util/Percent\";\nimport { color } from \"./util/Color\";\nimport { populateString } from \"./util/PopulateString\";\nimport { registry } from \"./Registry\";\n\nimport * as $order from \"./util/Order\";\nimport * as $array from \"./util/Array\";\nimport * as $object from \"./util/Object\";\nimport * as $utils from \"./util/Utils\";\n\nimport en from \"../../locales/en\";\n\n\nfunction rAF(fps: number | undefined, callback: (currentTime: number) => void): void {\n\tif (fps == null) {\n\t\trequestAnimationFrame(callback);\n\n\t} else {\n\t\tsetTimeout(() => {\n\t\t\trequestAnimationFrame(callback);\n\t\t}, 1000 / fps);\n\t}\n}\n\n\n/**\n * @ignore\n */\ninterface IParent extends Entity {\n\t_prepareChildren(): void;\n\t_updateChildren(): void;\n}\n\ninterface IBounds extends Entity {\n\tdepth(): number;\n\t_updateBounds(): void;\n}\n\n\nexport interface IRootEvents {\n\tframestarted: {\n\t\ttimestamp: number;\n\t};\n\tframeended: {\n\t\ttimestamp: number;\n\t};\n}\n\n\n// TODO implement Disposer\n/**\n * Root element of the chart.\n *\n * @see {@link https://www.amcharts.com/docs/v5/getting-started/#Root_element} for more info\n */\nexport class Root implements IDisposer {\n\n\t/**\n\t * A reference to original chart container (div element).\n\t */\n\tpublic dom: HTMLElement;\n\tpublic _inner: HTMLElement;\n\n\tprotected _isDirty: boolean = false;\n\tprotected _isDirtyParents: boolean = false;\n\tprotected _dirty: { [id: number]: Entity } = {};\n\tprotected _dirtyParents: { [id: number]: IParent } = {};\n\tprotected _dirtyBounds: { [id: number]: IBounds } = {};\n\tprotected _dirtyPositions: { [id: number]: Sprite } = {};\n\n\tprotected _ticker: ((currentTime: number) => void) | null = null;\n\tprotected _tickers: Array<(currentTime: number) => void> = [];\n\n\t/**\n\t * Root's event dispatcher.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/events/} for more info\n\t */\n\tpublic events: EventDispatcher<Events<this, IRootEvents>> = new EventDispatcher();\n\n\t/**\n\t * @todo needs description\n\t */\n\tpublic animationTime: number | null = null;\n\n\tprivate _animations: Array<IAnimation> = [];\n\n\tpublic _renderer: IRenderer = new CanvasRenderer();\n\n\tpublic _rootContainer!: Container;\n\n\t/**\n\t * Main content container.\n\t */\n\tpublic container!: Container;\n\n\t/**\n\t * A [[Container]] used to display tooltips in.\n\t */\n\tpublic tooltipContainer!: Container\n\n\tpublic _tooltip!: Tooltip;\n\n\t// Locale-related\n\n\t/**\n\t * @ignore\n\t */\n\tpublic language: Language = Language.new(this, {});\n\n\t/**\n\t * Locale used by the chart.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/locales/}\n\t */\n\tpublic locale: ILocale = en;\n\n\t// Date-time related\n\n\t/**\n\t * Use UTC when formatting date/time.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/#UTC_and_time_zones} for more info\n\t */\n\tpublic utc: boolean = false;\n\n\t/**\n\t * Use specific time zone when formatting date/time.\n\t *\n\t * @ignore timezones are not yet supported\n\t */\n\tpublic timezone: string | null = null;\n\n\t/**\n\t * The maximum FPS that the Root will run at.\n\t *\n\t * If `undefined` it will run at the highest FPS.\n\t */\n\tpublic fps: number | undefined;\n\n\t/**\n\t * Number formatter.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-numbers/} for more info\n\t */\n\tpublic numberFormatter: NumberFormatter = NumberFormatter.new(this, {});\n\n\t/**\n\t * Date/time formatter.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/} for more info\n\t */\n\tpublic dateFormatter: DateFormatter = DateFormatter.new(this, {});\n\n\t/**\n\t * Duration formatter.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/formatters/formatting-dates/} for more info\n\t */\n\tpublic durationFormatter: DurationFormatter = DurationFormatter.new(this, {});\n\n\n\t// Accessibility\n\n\t/**\n\t * Global tab index for using for the whole chart\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/accessibility/} for more info\n\t */\n\tpublic tabindex: number = 0;\n\n\t//@todo maybe make this better\n\tprotected _tabindexes: Sprite[] = [];\n\n\tprotected _focusElementDirty: boolean = false;\n\tprotected _focusElementContainer: HTMLDivElement | undefined;\n\tprotected _focusedSprite: Sprite | undefined;\n\tprotected _keyboardDragPoint: IPoint | undefined;\n\tprotected _tooltipElementContainer: HTMLDivElement | undefined;\n\tprotected _readerAlertElement: HTMLDivElement | undefined;\n\n\tpublic _logo?: Container;\n\n\t/**\n\t * Used for dynamically-created CSS and JavaScript with strict source policies.\n\t */\n\tpublic nonce?: string;\n\n\t/**\n\t * Special color set to be used for various controls.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/#Interface_colors} for more info\n\t */\n\tpublic interfaceColors: InterfaceColors;\n\n\t/**\n\t * An instance of vertical layout object that can be used to set `layout` setting\n\t * of a [[Container]].\n\t *\n\t * @default VerticalLayout.new()\n\t */\n\tpublic verticalLayout: VerticalLayout = VerticalLayout.new(this, {});\n\n\t/**\n\t * An instance of horizontal layout object that can be used to set `layout` setting\n\t * of a [[Container]].\n\t *\n\t * @default HorizontalLayout.new()\n\t */\n\tpublic horizontalLayout: VerticalLayout = HorizontalLayout.new(this, {});\n\n\t/**\n\t * An instance of grid layout object that can be used to set `layout` setting\n\t * of a [[Container]].\n\t *\n\t * @default VerticalLayout.new()\n\t */\n\tpublic gridLayout: VerticalLayout = GridLayout.new(this, {});\n\n\t/**\n\t * Indicates whether chart should resized automatically when parent container\n\t * width and/or height changes.\n\t *\n\t * If disabled (`autoResize = false`) you can make the chart resize manually\n\t * by calling root element's `resize()` method.\n\t */\n\tpublic autoResize: boolean = true;\n\n\tprotected _isDisposed: boolean = false;\n\tprotected _disposers: Array<IDisposer> = [];\n\n\tprotected _resizeSensorDisposer?: IDisposer;\n\n\tpublic _tooltips: Array<Tooltip> = [];\n\n\tprotected constructor(id: string | HTMLElement, isReal: boolean) {\n\n\t\tif (!isReal) {\n\t\t\tthrow new Error(\"You cannot use `new Class()`, instead use `Class.new()`\");\n\t\t}\n\n\t\tlet dom: HTMLElement | null;\n\n\t\tif (id instanceof HTMLElement) {\n\t\t\tdom = id;\n\t\t}\n\t\telse {\n\t\t\tdom = document.getElementById(id);\n\t\t}\n\n\t\t$array.each(registry.rootElements, (root) => {\n\t\t\tif (root.dom === dom) {\n\t\t\t\tthrow new Error(\"You cannot have multiple Roots on the same DOM node\");\n\t\t\t}\n\t\t});\n\n\t\tthis.interfaceColors = InterfaceColors.new(this, {});\n\n\t\tif (dom === null) {\n\t\t\tthrow new Error(\"Could not find HTML element with id `\" + id + \"`\");\n\t\t}\n\n\t\tthis.dom = dom;\n\n\t\tlet inner: HTMLDivElement = document.createElement(\"div\");\n\t\tinner.style.position = \"relative\";\n\t\tdom.appendChild(inner);\n\n\t\tthis._inner = inner;\n\n\t\tregistry.rootElements.push(this);\n\t}\n\n\tpublic static new(id: string | HTMLElement): Root {\n\t\tconst root = new Root(id, true);\n\t\troot._init();\n\t\treturn root;\n\t}\n\n\tpublic moveDOM(id: string | HTMLElement): void {\n\t\tlet dom: HTMLElement | null;\n\n\t\tif (id instanceof HTMLElement) {\n\t\t\tdom = id;\n\t\t}\n\t\telse {\n\t\t\tdom = document.getElementById(id);\n\t\t}\n\n\t\tif (dom) {\n\t\t\twhile (this.dom.childNodes.length > 0) {\n\t\t\t\tdom.appendChild(this.dom.childNodes[0]);\n\t\t\t}\n\t\t\tthis.dom = dom;\n\t\t\tthis._initResizeSensor();\n\t\t\tthis.resize();\n\t\t}\n\n\t}\n\n\n\tprotected _handleLogo(): void {\n\t\tif (this._logo) {\n\t\t\tif (this._rootContainer.getPrivate(\"width\", 0) <= 150 || this._rootContainer.getPrivate(\"height\", 0) <= 60) {\n\t\t\t\tthis._logo.hide();\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis._logo.show();\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic _showBranding(): void {\n\t\tif (!this._logo) {\n\t\t\tconst logo = this.tooltipContainer.children.push(Container.new(this, {\n\t\t\t\tinteractive: true,\n\t\t\t\tinteractiveChildren: false,\n\t\t\t\tposition: \"absolute\",\n\t\t\t\tsetStateOnChildren: true,\n\t\t\t\tpaddingTop: 9,\n\t\t\t\tpaddingRight: 9,\n\t\t\t\tpaddingBottom: 9,\n\t\t\t\tpaddingLeft: 9,\n\t\t\t\tscale: .6,\n\t\t\t\ty: percent(100),\n\t\t\t\tcenterY: p100,\n\t\t\t\ttooltipText: \"Created using amCharts 5\",\n\t\t\t\ttooltipX: p100,\n\t\t\t\tcursorOverStyle: \"pointer\",\n\t\t\t\tbackground: Rectangle.new(this, {\n\t\t\t\t\tfill: color(0x474758),\n\t\t\t\t\tfillOpacity: 0,\n\t\t\t\t\ttooltipY: 5\n\t\t\t\t})\n\t\t\t}));\n\n\t\t\tconst tooltip = Tooltip.new(this, {\n\t\t\t\tpointerOrientation: \"horizontal\",\n\t\t\t\tpaddingTop: 4,\n\t\t\t\tpaddingRight: 7,\n\t\t\t\tpaddingBottom: 4,\n\t\t\t\tpaddingLeft: 7\n\t\t\t});\n\t\t\ttooltip.label.setAll({\n\t\t\t\tfontSize: 12\n\t\t\t});\n\t\t\ttooltip.get(\"background\")!.setAll({\n\t\t\t\tfill: this.interfaceColors.get(\"background\"),\n\t\t\t\tstroke: this.interfaceColors.get(\"grid\"),\n\t\t\t\tstrokeOpacity: 0.3\n\t\t\t})\n\t\t\tlogo.set(\"tooltip\", tooltip);\n\n\t\t\tlogo.events.on(\"click\", () => {\n\t\t\t\twindow.open(\"https://www.amcharts.com/\", \"_blank\");\n\t\t\t});\n\n\t\t\tlogo.states.create(\"hover\", {});\n\n\t\t\tconst m = logo.children.push(Graphics.new(this, {\n\t\t\t\tstroke: color(0xcccccc),\n\t\t\t\tstrokeWidth: 3,\n\t\t\t\tsvgPath: \"M5 25 L13 25h13.6c3.4 0 6 0 10.3-4.3s5.2-12 8.6-12c3.4 0 4.3 8.6 7.7 8.6M83.4 25H79.8c-3.4 0-6 0-10.3-4.3s-5.2-12-8.6-12-4.3 8.6-7.7 8.6\"\n\t\t\t}));\n\n\t\t\tm.states.create(\"hover\", { stroke: color(0x3CABFF) });\n\n\t\t\tconst a = logo.children.push(Graphics.new(this, {\n\t\t\t\tstroke: color(0x888888),\n\t\t\t\tstrokeWidth: 3,\n\t\t\t\tsvgPath: \"M83.4 25h-31C37 25 39.5 4.4 28.4 4.4S18.9 24.2 4.3 25H0\"\n\t\t\t}));\n\n\t\t\ta.states.create(\"hover\", { stroke: color(0x474758) });\n\n\t\t\t//logo.set(\"tooltip\", this._tooltip);\n\t\t\t//logo.setPrivate(\"tooltipTarget\", logo.get(\"background\"));\n\t\t\tthis._logo = logo;\n\n\t\t\tthis._handleLogo();\n\t\t}\n\t}\n\n\tprotected _init(): void {\n\t\tconst renderer = this._renderer;\n\t\tconst rootContainer = Container.new(this, { visible: true, width: this.dom.clientWidth, height: this.dom.clientHeight });\n\t\tthis._rootContainer = rootContainer;\n\t\tthis._rootContainer._defaultThemes.push(DefaultTheme.new(this));\n\n\t\tconst container = rootContainer.children.push(Container.new(this, { visible: true, width: p100, height: p100 }));\n\t\tthis.container = container;\n\n\t\trenderer.resize(this.dom.clientWidth, this.dom.clientHeight);\n\n\t\t//@todo: better appendChild - refer\n\t\tthis._inner.appendChild(renderer.view);\n\n\t\t// TODO: TMP TMP TMP for testing only, remove\n\t\t//document.body.appendChild((<any>renderer)._ghostView);\n\n\t\tthis._initResizeSensor();\n\n\t\t// Create element which is used to make announcements to screen reader\n\t\tconst readerAlertElement = document.createElement(\"div\");\n\t\treaderAlertElement.setAttribute(\"role\", \"alert\");\n\t\treaderAlertElement.style.zIndex = \"-100000\";\n\t\treaderAlertElement.style.opacity = \"0\";\n\t\treaderAlertElement.style.position = \"absolute\";\n\t\treaderAlertElement.style.top = \"0\";\n\t\tthis._readerAlertElement = readerAlertElement;\n\t\tthis._inner.appendChild(this._readerAlertElement);\n\n\t\tconst focusElementContainer = document.createElement(\"div\");\n\t\tfocusElementContainer.style.position = \"absolute\";\n\t\tfocusElementContainer.style.pointerEvents = \"none\";\n\t\tfocusElementContainer.style.top = \"0px\";\n\t\tfocusElementContainer.style.left = \"0px\";\n\t\tfocusElementContainer.style.overflow = \"hidden\";\n\t\tfocusElementContainer.style.width = this.dom.clientWidth + \"px\";\n\t\tfocusElementContainer.style.height = this.dom.clientHeight + \"px\";\n\t\t$utils.setInteractive(focusElementContainer, false);\n\t\tthis._focusElementContainer = focusElementContainer;\n\t\tthis._inner.appendChild(this._focusElementContainer);\n\n\t\tthis._tooltipElementContainer = document.createElement(\"div\");\n\t\tthis._inner.appendChild(this._tooltipElementContainer);\n\n\t\t// Add keyboard events for accessibility, e.g. simulating drag with arrow\n\t\t// keys and click with ENTER\n\t\tif ($utils.supports(\"keyboardevents\")) {\n\t\t\tthis._disposers.push($utils.addEventListener(document, \"keydown\", (ev: KeyboardEvent) => {\n\t\t\t\tconst focusedSprite = this._focusedSprite;\n\t\t\t\tif (focusedSprite) {\n\t\t\t\t\tif (ev.keyCode == 27) {\n\t\t\t\t\t\t// ESC pressed - lose current focus\n\t\t\t\t\t\t$utils.blur();\n\t\t\t\t\t\tthis._focusedSprite = undefined;\n\t\t\t\t\t}\n\t\t\t\t\tlet dragOffsetX = 0;\n\t\t\t\t\tlet dragOffsetY = 0;\n\t\t\t\t\t// TODO: figure out if using bogus MouseEvent is fine, or it will\n\t\t\t\t\t// fail on some platforms\n\t\t\t\t\tswitch (ev.keyCode) {\n\t\t\t\t\t\tcase 13:\n\t\t\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t\t\tconst downEvent = renderer.getEvent(new MouseEvent(\"click\"));\n\t\t\t\t\t\t\tfocusedSprite.events.dispatch(\"click\", {\n\t\t\t\t\t\t\t\ttype: \"click\",\n\t\t\t\t\t\t\t\toriginalEvent: downEvent.event,\n\t\t\t\t\t\t\t\tpoint: downEvent.point,\n\t\t\t\t\t\t\t\tsimulated: true,\n\t\t\t\t\t\t\t\ttarget: focusedSprite\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\tcase 37:\n\t\t\t\t\t\t\tdragOffsetX = -6;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 39:\n\t\t\t\t\t\t\tdragOffsetX = 6;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 38:\n\t\t\t\t\t\t\tdragOffsetY = -6;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 40:\n\t\t\t\t\t\t\tdragOffsetY = 6;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (dragOffsetX != 0 || dragOffsetY != 0) {\n\t\t\t\t\t\tev.preventDefault();\n\n\t\t\t\t\t\tif (!focusedSprite.isDragging()) {\n\t\t\t\t\t\t\t// Start dragging\n\t\t\t\t\t\t\tthis._keyboardDragPoint = {\n\t\t\t\t\t\t\t\tx: 0,\n\t\t\t\t\t\t\t\ty: 0\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst downEvent = renderer.getEvent(new MouseEvent(\"mousedown\", {\n\t\t\t\t\t\t\t\tclientX: 0,\n\t\t\t\t\t\t\t\tclientY: 0\n\t\t\t\t\t\t\t}));\n\n\t\t\t\t\t\t\tif (focusedSprite.events.isEnabled(\"pointerdown\")) {\n\t\t\t\t\t\t\t\tfocusedSprite.events.dispatch(\"pointerdown\", {\n\t\t\t\t\t\t\t\t\ttype: \"pointerdown\",\n\t\t\t\t\t\t\t\t\toriginalEvent: downEvent.event,\n\t\t\t\t\t\t\t\t\tpoint: downEvent.point,\n\t\t\t\t\t\t\t\t\tsimulated: true,\n\t\t\t\t\t\t\t\t\ttarget: focusedSprite\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t// Move focus marker\n\t\t\t\t\t\t\t//this._positionFocusElement(focusedSprite);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Move incrementally\n\t\t\t\t\t\tconst dragPoint = this._keyboardDragPoint!;\n\t\t\t\t\t\tdragPoint.x += dragOffsetX;\n\t\t\t\t\t\tdragPoint.y += dragOffsetY;\n\t\t\t\t\t\tconst moveEvent = renderer.getEvent(new MouseEvent(\"mousemove\", {\n\t\t\t\t\t\t\tclientX: dragPoint.x,\n\t\t\t\t\t\t\tclientY: dragPoint.y\n\t\t\t\t\t\t}), false);\n\n\t\t\t\t\t\tif (focusedSprite.events.isEnabled(\"globalpointermove\")) {\n\t\t\t\t\t\t\tfocusedSprite.events.dispatch(\"globalpointermove\", {\n\t\t\t\t\t\t\t\ttype: \"globalpointermove\",\n\t\t\t\t\t\t\t\toriginalEvent: moveEvent.event,\n\t\t\t\t\t\t\t\tpoint: moveEvent.point,\n\t\t\t\t\t\t\t\tsimulated: true,\n\t\t\t\t\t\t\t\ttarget: focusedSprite\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\tdocument.addEventListener(\"keyup\", (ev: KeyboardEvent) => {\n\t\t\t\tif (this._focusedSprite) {\n\t\t\t\t\tconst focusedSprite = this._focusedSprite;\n\t\t\t\t\tconst keyCode = ev.keyCode;\n\t\t\t\t\tswitch (keyCode) {\n\t\t\t\t\t\tcase 37:\n\t\t\t\t\t\tcase 39:\n\t\t\t\t\t\tcase 38:\n\t\t\t\t\t\tcase 40:\n\t\t\t\t\t\t\tif (focusedSprite.isDragging()) {\n\t\t\t\t\t\t\t\t// Simulate drag stop\n\t\t\t\t\t\t\t\tconst dragPoint = this._keyboardDragPoint!;\n\t\t\t\t\t\t\t\tconst upEvent = renderer.getEvent(new MouseEvent(\"mouseup\", {\n\t\t\t\t\t\t\t\t\tclientX: dragPoint.x,\n\t\t\t\t\t\t\t\t\tclientY: dragPoint.y\n\t\t\t\t\t\t\t\t}));\n\n\t\t\t\t\t\t\t\tif (focusedSprite.events.isEnabled(\"globalpointerup\")) {\n\t\t\t\t\t\t\t\t\tfocusedSprite.events.dispatch(\"globalpointerup\", {\n\t\t\t\t\t\t\t\t\t\ttype: \"globalpointerup\",\n\t\t\t\t\t\t\t\t\t\toriginalEvent: upEvent.event,\n\t\t\t\t\t\t\t\t\t\tpoint: upEvent.point,\n\t\t\t\t\t\t\t\t\t\tsimulated: true,\n\t\t\t\t\t\t\t\t\t\ttarget: focusedSprite\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t//this._positionFocusElement(focusedSprite);\n\t\t\t\t\t\t\t\tthis._keyboardDragPoint = undefined;\n\t\t\t\t\t\t\t\t// @todo dispatch mouseup event instead of calling dragStop?\n\t\t\t\t\t\t\t\t// this._dispatchEvent(\"globalpointerup\", target, upEvent);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if(focusedSprite.get(\"focusableGroup\")) {\n\t\t\t\t\t\t\t\t// Find next item in focusable group\n\t\t\t\t\t\t\t\tconst group = focusedSprite.get(\"focusableGroup\");\n\t\t\t\t\t\t\t\tconst items = this._tabindexes.filter(item => item.get(\"focusableGroup\") == group);\n\t\t\t\t\t\t\t\tlet index = items.indexOf(focusedSprite);\n\t\t\t\t\t\t\t\tconst lastIndex = items.length - 1;\n\t\t\t\t\t\t\t\tindex += (keyCode == 39 || keyCode == 40) ? 1 : -1;\n\t\t\t\t\t\t\t\tif (index < 0) {\n\t\t\t\t\t\t\t\t\tindex = lastIndex;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse if (index > lastIndex) {\n\t\t\t\t\t\t\t\t\tindex = 0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t$utils.focus(items[index].getPrivate(\"focusElement\")!);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tthis._startTicker();\n\t\tthis.setThemes([]);\n\n\t\tthis._addTooltip();\n\n\t\tif (!this._hasLicense()) {\n\t\t\tthis._showBranding();\n\t\t}\n\t}\n\n\tprivate _initResizeSensor(): void {\n\t\tif (this._resizeSensorDisposer) {\n\t\t\tthis._resizeSensorDisposer.dispose();\n\t\t}\n\t\tthis._resizeSensorDisposer = new ResizeSensor(this.dom, () => {\n\t\t\tif (this.autoResize) {\n\t\t\t\tthis.resize();\n\t\t\t}\n\t\t});\n\t\tthis._disposers.push(this._resizeSensorDisposer);\n\t}\n\n\t/**\n\t * If automatic resizing of char is disabled (`root.autoResize = false`), it\n\t * can be resized manually by calling this method.\n\t */\n\tpublic resize(): void {\n\t\tconst dom = this.dom;\n\t\tconst w = dom.clientWidth;\n\t\tconst h = dom.clientHeight;\n\t\tif (w > 0 && h > 0) {\n\t\t\tconst focusElementContainer = this._focusElementContainer!;\n\n\t\t\tfocusElementContainer.style.width = w + \"px\";\n\t\t\tfocusElementContainer.style.height = h + \"px\";\n\n\t\t\tthis._renderer.resize(w, h);\n\n\t\t\tconst rootContainer = this._rootContainer;\n\n\t\t\trootContainer.setPrivate(\"width\", w);\n\t\t\trootContainer.setPrivate(\"height\", h);\n\t\t\tthis._render();\n\t\t\tthis._handleLogo();\n\t\t}\n\t}\n\n\tprivate _render() {\n\t\tthis._renderer.render(this._rootContainer._display);\n\n\t\tif (this._focusElementDirty) {\n\t\t\tthis._updateCurrentFocus();\n\t\t\tthis._focusElementDirty = false;\n\t\t}\n\t}\n\n\tprivate _runTickers(currentTime: number) {\n\t\t$array.each(this._tickers, (f) => {\n\t\t\tf(currentTime);\n\t\t});\n\t}\n\n\tprivate _runAnimations(currentTime: number) {\n\t\t$array.keepIf(this._animations, (animation) => {\n\t\t\treturn !animation._runAnimation(currentTime);\n\t\t});\n\t}\n\n\tprivate _runDirties() {\n\t\t//console.log(\"tick **************************************************************\");\n\t\tlet allParents: { [id: number]: IParent } = {};\n\n\t\twhile (this._isDirtyParents) {\n\t\t\t// This must be before calling _prepareChildren\n\t\t\tthis._isDirtyParents = false;\n\n\t\t\t$object.keys(this._dirtyParents).forEach((key) => {\n\t\t\t\tconst parent = this._dirtyParents[key];\n\n\t\t\t\tdelete this._dirtyParents[key];\n\n\t\t\t\tif (!parent.isDisposed()) {\n\t\t\t\t\tallParents[parent.uid] = parent;\n\t\t\t\t\tparent._prepareChildren();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t$object.keys(allParents).forEach((key) => {\n\t\t\tallParents[key]._updateChildren();\n\t\t});\n\n\t\tconst objects: Array<Entity> = [];\n\n\t\t//\t\tconsole.log(\"_beforeChanged\")\n\t\t$object.keys(this._dirty).forEach((key) => {\n\t\t\tconst entity = this._dirty[key];\n\n\t\t\tif (entity.isDisposed()) {\n\t\t\t\tdelete this._dirty[entity.uid];\n\n\t\t\t} else {\n\t\t\t\tobjects.push(entity);\n\t\t\t\tentity._beforeChanged();\n\t\t\t}\n\t\t});\n\n\t\t//\t\tconsole.log(\"_changed\")\n\t\tobjects.forEach((entity) => {\n\t\t\tentity._changed();\n\t\t\tdelete this._dirty[entity.uid];\n\t\t\tentity._clearDirty();\n\t\t});\n\n\t\tthis._isDirty = false;\n\n\t\tconst depths: { [id: number]: number } = {};\n\t\tconst bounds: Array<IBounds> = [];\n\n\t\t$object.keys(this._dirtyBounds).forEach((key) => {\n\t\t\tconst entity = this._dirtyBounds[key];\n\n\t\t\tdelete this._dirtyBounds[key];\n\n\t\t\tif (!entity.isDisposed()) {\n\t\t\t\tdepths[entity.uid] = entity.depth();\n\t\t\t\tbounds.push(entity);\n\t\t\t}\n\t\t});\n\n\t\t// High depth -> low depth\n\t\tbounds.sort((x, y) => {\n\t\t\treturn $order.compare(depths[y.uid], depths[x.uid]);\n\t\t});\n\n\t\t//\t\tconsole.log(\"_updateBounds\")\n\t\tbounds.forEach((entity) => {\n\t\t\tentity._updateBounds();\n\t\t});\n\n\t\t//\t\tconsole.log(\"_updatePosition\")\n\t\tconst dirtyPositions = this._dirtyPositions;\n\t\t$object.keys(dirtyPositions).forEach((key) => {\n\t\t\tconst sprite = dirtyPositions[key];\n\n\t\t\tdelete dirtyPositions[key];\n\n\t\t\tif (!sprite.isDisposed()) {\n\t\t\t\tsprite._updatePosition();\n\t\t\t}\n\t\t});\n\n\t\t//\t\tconsole.log(\"_afterChanged\")\n\t\tobjects.forEach((entity) => {\n\t\t\tentity._afterChanged();\n\t\t});\n\n\t}\n\n\tprivate _runTicker(currentTime: number) {\n\t\tif (!this.isDisposed()) {\n\t\t\tthis.animationTime = currentTime;\n\n\t\t\tif (this.events.isEnabled(\"framestarted\")) {\n\t\t\t\tthis.events.dispatch(\"framestarted\", {\n\t\t\t\t\ttype: \"framestarted\",\n\t\t\t\t\ttarget: this,\n\t\t\t\t\ttimestamp: currentTime,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis._runTickers(currentTime);\n\t\t\tthis._runAnimations(currentTime);\n\t\t\tthis._runDirties();\n\t\t\tthis._render();\n\n\t\t\tif (this.events.isEnabled(\"frameended\")) {\n\t\t\t\tthis.events.dispatch(\"frameended\", {\n\t\t\t\t\ttype: \"frameended\",\n\t\t\t\t\ttarget: this,\n\t\t\t\t\ttimestamp: currentTime,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// No more work to do\n\t\t\tif (this._tickers.length === 0 &&\n\t\t\t\tthis._animations.length === 0 &&\n\t\t\t\t!this._isDirty) {\n\n\t\t\t\tthis._ticker = null;\n\t\t\t\tthis.animationTime = null;\n\n\t\t\t} else {\n\t\t\t\trAF(this.fps, this._ticker!);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate _startTicker() {\n\t\tif (this._ticker === null) {\n\t\t\tthis.animationTime = null;\n\n\t\t\tthis._ticker = (currentTime) => {\n\t\t\t\tthis._runTicker(currentTime);\n\t\t\t};\n\n\t\t\trAF(this.fps, this._ticker!);\n\t\t}\n\t}\n\n\tpublic _addDirtyEntity(entity: Entity) {\n\t\tif (this._dirty[entity.uid] === undefined) {\n\t\t\tthis._isDirty = true;\n\t\t\tthis._dirty[entity.uid] = entity;\n\t\t\tthis._startTicker();\n\t\t}\n\t}\n\n\tpublic _addDirtyParent(parent: IParent) {\n\t\tif (this._dirtyParents[parent.uid] === undefined) {\n\t\t\tthis._isDirty = true;\n\t\t\tthis._isDirtyParents = true;\n\t\t\tthis._dirtyParents[parent.uid] = parent;\n\t\t\tthis._startTicker();\n\t\t}\n\t}\n\n\tpublic _addDirtyBounds(entity: IBounds) {\n\t\tif (this._dirtyBounds[entity.uid] === undefined) {\n\t\t\tthis._isDirty = true;\n\t\t\tthis._dirtyBounds[entity.uid] = entity;\n\t\t\tthis._startTicker();\n\t\t}\n\t}\n\n\tpublic _addDirtyPosition(sprite: Sprite) {\n\t\tif (this._dirtyPositions[sprite.uid] === undefined) {\n\t\t\tthis._isDirty = true;\n\t\t\tthis._dirtyPositions[sprite.uid] = sprite;\n\t\t\tthis._startTicker();\n\t\t}\n\t}\n\n\tpublic _addAnimation(animation: IAnimation) {\n\t\t// TODO use numeric id instead\n\t\tif (this._animations.indexOf(animation) === -1) {\n\t\t\tthis._animations.push(animation);\n\t\t\tthis._startTicker();\n\t\t}\n\t}\n\n\tpublic eachFrame(f: (currentTime: number) => void): IDisposer {\n\t\tthis._tickers.push(f);\n\t\tthis._startTicker();\n\n\t\treturn new Disposer(() => {\n\t\t\t$array.removeFirst(this._tickers, f);\n\t\t});\n\t}\n\n\t/**\n\t * Returns width of the target container, in pixels.\n\t *\n\t * @return Width\n\t */\n\tpublic width(): number {\n\t\treturn this.dom.clientWidth;\n\t}\n\n\t/**\n\t * Returns height of the target container, in pixels.\n\t *\n\t * @return Height\n\t */\n\tpublic height(): number {\n\t\treturn this.dom.clientHeight;\n\t}\n\n\t/**\n\t * Disposes root and all the content in it.\n\t */\n\tpublic dispose(): void {\n\t\tif (!this._isDisposed) {\n\t\t\tthis._isDisposed = true;\n\n\t\t\tthis._rootContainer.dispose();\n\t\t\tthis._renderer.dispose();\n\t\t\tthis.horizontalLayout.dispose();\n\t\t\tthis.verticalLayout.dispose();\n\t\t\tthis.interfaceColors.dispose();\n\n\t\t\t$array.each(this._disposers, (x) => {\n\t\t\t\tx.dispose();\n\t\t\t});\n\n\t\t\tif (this._inner) {\n\t\t\t\t$utils.removeElement(this._inner);\n\t\t\t}\n\n\t\t\t$array.remove(registry.rootElements, this);\n\t\t}\n\t}\n\n\t/**\n\t * Returns `true` if root element is disposed.\n\t *\n\t * @return Disposed?\n\t */\n\tpublic isDisposed(): boolean {\n\t\treturn this._isDisposed;\n\t}\n\n\t/**\n\t * Triggers screen reader read out a message.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/accessibility/} for more info\n\t * @param  text  Alert text\n\t */\n\tpublic readerAlert(text: string): void {\n\t\tthis._readerAlertElement!.innerHTML = text;\n\t}\n\n\t/**\n\t * Sets themes to be used for the chart.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/themes/} for more info\n\t * @param  themes  A list of themes\n\t */\n\tpublic setThemes(themes: Array<Theme>): void {\n\t\tthis._rootContainer.set(\"themes\", themes);\n\n\t\t// otherwise new themes are not applied\n\t\tconst tooltipContainer = this.tooltipContainer;\n\t\tif (tooltipContainer) {\n\t\t\ttooltipContainer._applyThemes();\n\t\t}\n\n\t\t// @todo review this\n\t\tconst interfaceColors = this.interfaceColors;\n\t\tif (interfaceColors) {\n\t\t\tinterfaceColors._applyThemes();\n\t\t}\n\t}\n\n\tprotected _addTooltip() {\n\t\tif (!this.tooltipContainer) {\n\t\t\tconst tooltipContainer = this._rootContainer.children.push(Container.new(this, { position: \"absolute\", isMeasured: false, width: p100, height: p100, layer: 100 }));\n\t\t\tthis.tooltipContainer = tooltipContainer;\n\n\t\t\tconst tooltip = Tooltip.new(this, {});\n\t\t\tthis.container.set(\"tooltip\", tooltip);\n\t\t\ttooltip.hide(0);\n\t\t\tthis._tooltip = tooltip;\n\t\t}\n\t}\n\n\t/**\n\t * Accesibility\n\t */\n\n\tpublic _registerTabindexOrder(target: Sprite): void {\n\t\tif (target.get(\"focusable\")) {\n\t\t\t$array.pushOne(this._tabindexes, target);\n\t\t}\n\t\telse {\n\t\t\t$array.remove(this._tabindexes, target);\n\t\t}\n\t\tthis._invalidateTabindexes();\n\t}\n\n\tpublic _unregisterTabindexOrder(target: Sprite): void {\n\t\t$array.remove(this._tabindexes, target);\n\t\tthis._invalidateTabindexes();\n\t}\n\n\tpublic _invalidateTabindexes(): void {\n\n\t\tthis._tabindexes.sort((a: Sprite, b: Sprite) => {\n\t\t\tconst aindex = a.get(\"tabindexOrder\", 0);\n\t\t\tconst bindex = b.get(\"tabindexOrder\", 0);\n\t\t\tif (aindex == bindex) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\telse if (aindex > bindex) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t});\n\n\t\tconst groups: Array<string | number> = [];\n\t\t$array.each(this._tabindexes, (item, index) => {\n\t\t\tif (!item.getPrivate(\"focusElement\")) {\n\t\t\t\tthis._makeFocusElement(index, item);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis._moveFocusElement(index, item);\n\t\t\t}\n\t\t\tconst group = item.get(\"focusableGroup\");\n\t\t\tif (group) {\n\t\t\t\tif (groups.indexOf(group) !== -1) {\n\t\t\t\t\t// Non-first element in the group, make it not directly focusable\n\t\t\t\t\titem.getPrivate(\"focusElement\")!.setAttribute(\"tabindex\", \"-1\");\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tgroups.push(group);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t}\n\n\tpublic _updateCurrentFocus(): void {\n\t\tif (this._focusedSprite) {\n\t\t\tthis._decorateFocusElement(this._focusedSprite);\n\t\t\tthis._positionFocusElement(this._focusedSprite);\n\t\t}\n\t}\n\n\tpublic _decorateFocusElement(target: Sprite, focusElement?: HTMLDivElement): void {\n\n\t\t// Decorate with proper accessibility attributes\n\t\tif (!focusElement) {\n\t\t\tfocusElement = target.getPrivate(\"focusElement\")!;\n\t\t}\n\n\t\tif (!focusElement) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (target.get(\"visible\") && target.get(\"role\") != \"tooltip\" && !target.isHidden()) {\n\t\t\tif (focusElement.getAttribute(\"tabindex\") != \"-1\") {\n\t\t\t\tfocusElement.setAttribute(\"tabindex\", \"\" + this.tabindex);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tfocusElement.removeAttribute(\"tabindex\")\n\t\t}\n\n\t\tconst role = target.get(\"role\");\n\t\tif (role) {\n\t\t\tfocusElement.setAttribute(\"role\", role);\n\t\t}\n\t\telse {\n\t\t\tfocusElement.removeAttribute(\"role\");\n\t\t}\n\n\t\tconst ariaLabel = target.get(\"ariaLabel\");\n\t\tif (ariaLabel) {\n\t\t\tconst label = populateString(target, ariaLabel);\n\t\t\tfocusElement.setAttribute(\"aria-label\", label);\n\t\t}\n\t\telse {\n\t\t\tfocusElement.removeAttribute(\"aria-label\");\n\t\t}\n\n\t\tconst ariaLive = target.get(\"ariaLive\");\n\t\tif (ariaLive) {\n\t\t\tfocusElement.setAttribute(\"aria-live\", ariaLive);\n\t\t}\n\t\telse {\n\t\t\tfocusElement.removeAttribute(\"aria-live\");\n\t\t}\n\n\t\tconst ariaChecked = target.get(\"ariaChecked\");\n\t\tif (ariaChecked != null) {\n\t\t\tfocusElement.setAttribute(\"aria-checked\", ariaChecked ? \"true\" : \"false\");\n\t\t}\n\t\telse {\n\t\t\tfocusElement.removeAttribute(\"aria-checked\");\n\t\t}\n\n\t\tif (target.get(\"ariaHidden\")) {\n\t\t\tfocusElement.setAttribute(\"aria-hidden\", \"hidden\");\n\t\t}\n\t\telse {\n\t\t\tfocusElement.removeAttribute(\"aria-hidden\");\n\t\t}\n\n\t\tconst ariaOrientation = target.get(\"ariaOrientation\");\n\t\tif (ariaOrientation) {\n\t\t\tfocusElement.setAttribute(\"aria-orientation\", ariaOrientation);\n\t\t}\n\t\telse {\n\t\t\tfocusElement.removeAttribute(\"aria-orientation\");\n\t\t}\n\n\t\tconst ariaValueNow = target.get(\"ariaValueNow\");\n\t\tif (ariaValueNow) {\n\t\t\tfocusElement.setAttribute(\"aria-valuenow\", ariaValueNow);\n\t\t}\n\t\telse {\n\t\t\tfocusElement.removeAttribute(\"aria-valuenow\");\n\t\t}\n\n\t\tconst ariaValueText = target.get(\"ariaValueText\");\n\t\tif (ariaValueText) {\n\t\t\tfocusElement.setAttribute(\"aria-valuetext\", ariaValueText);\n\t\t}\n\t\telse {\n\t\t\tfocusElement.removeAttribute(\"aria-valuetext\");\n\t\t}\n\t}\n\n\tpublic _makeFocusElement(index: number, target: Sprite): void {\n\n\t\tif (target.getPrivate(\"focusElement\")) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Init\n\t\tconst focusElement = document.createElement(\"div\");\n\t\tif (target.get(\"role\") != \"tooltip\") {\n\t\t\tfocusElement.tabIndex = this.tabindex;\n\t\t}\n\t\tfocusElement.style.position = \"absolute\";\n\t\t$utils.setInteractive(focusElement, false);\n\n\t\ttarget.setPrivate(\"focusElement\", focusElement);\n\n\t\tthis._decorateFocusElement(target);\n\n\t\tfocusElement.addEventListener(\"focus\", (ev: FocusEvent) => {\n\t\t\tthis._handleFocus(ev, index);\n\t\t});\n\n\t\tfocusElement.addEventListener(\"blur\", (ev: FocusEvent) => {\n\t\t\tthis._handleBlur(ev, index);\n\t\t});\n\n\t\tthis._moveFocusElement(index, target);\n\n\t}\n\n\tpublic _removeFocusElement(target: Sprite): void {\n\n\t\t// Init\n\t\tconst container = this._focusElementContainer!;\n\t\tconst focusElement = target.getPrivate(\"focusElement\")!;\n\t\tcontainer.removeChild(focusElement);\n\n\t}\n\n\tprotected _moveFocusElement(index: number, target: Sprite): void {\n\n\t\t// Get container\n\t\tconst container = this._focusElementContainer!;\n\t\tconst focusElement = target.getPrivate(\"focusElement\")!;\n\n\t\tif (focusElement === this._focusElementContainer!.children[index]) {\n\t\t\t// Nothing to do\n\t\t\treturn;\n\t\t}\n\n\t\tconst next = this._focusElementContainer!.children[index + 1];\n\t\tif (next) {\n\t\t\tcontainer.insertBefore(focusElement, next);\n\t\t}\n\t\telse {\n\t\t\tcontainer.append(focusElement);\n\t\t}\n\t}\n\n\tprotected _positionFocusElement(target: Sprite): void {\n\t\tconst bounds = target.globalBounds();\n\n\t\tconst width = bounds.right == bounds.left ? target.width() : bounds.right - bounds.left;\n\t\tconst height = bounds.top == bounds.bottom ? target.height() : bounds.bottom - bounds.top;\n\n\t\tconst focusElement = target.getPrivate(\"focusElement\")!;\n\t\tfocusElement.style.top = (bounds.top - 2) + \"px\";\n\t\tfocusElement.style.left = (bounds.left - 2) + \"px\";\n\t\tfocusElement.style.width = (width + 4) + \"px\";\n\t\tfocusElement.style.height = (height + 4) + \"px\";\n\n\t}\n\n\tprotected _handleFocus(ev: FocusEvent, index: number): void {\n\t\t// Get element\n\t\tconst focused = this._tabindexes[index];\n\n\t\t// Size and position\n\t\tthis._positionFocusElement(focused);\n\t\t//this._decorateFocusElement(focused);\n\n\t\tthis._focusedSprite = focused;\n\n\t\tif (focused.events.isEnabled(\"focus\")) {\n\t\t\tfocused.events.dispatch(\"focus\", {\n\t\t\t\ttype: \"focus\",\n\t\t\t\toriginalEvent: ev,\n\t\t\t\ttarget: focused\n\t\t\t});\n\t\t}\n\t}\n\n\tprotected _handleBlur(ev: FocusEvent, _index: number): void {\n\t\tconst focused = this._focusedSprite;\n\t\tif (focused && focused.events.isEnabled(\"blur\")) {\n\t\t\tfocused.events.dispatch(\"blur\", {\n\t\t\t\ttype: \"blur\",\n\t\t\t\toriginalEvent: ev,\n\t\t\t\ttarget: focused\n\t\t\t});\n\t\t}\n\t\tthis._focusedSprite = undefined;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateTooltip(target: Text): void {\n\t\tconst text = target._getText();\n\t\tlet tooltipElement = target.getPrivate(\"tooltipElement\");\n\t\tif (target.get(\"role\") == \"tooltip\" && text != \"\") {\n\t\t\tif (!tooltipElement) {\n\t\t\t\ttooltipElement = this._makeTooltipElement(target);\n\t\t\t}\n\t\t\tif (tooltipElement.innerHTML != text) {\n\t\t\t\ttooltipElement.innerHTML = text!;\n\t\t\t}\n\t\t}\n\t\telse if (tooltipElement) {\n\t\t\ttooltipElement.remove();\n\t\t\ttarget.removePrivate(\"tooltipElement\");\n\t\t}\n\t}\n\n\tpublic _makeTooltipElement(target: Text): HTMLDivElement {\n\t\tconst container = this._tooltipElementContainer!;\n\t\tconst tooltipElement = document.createElement(\"div\");\n\t\ttooltipElement.style.position = \"absolute\";\n\t\ttooltipElement.style.opacity = \"0.0000001\";\n\n\t\t$utils.setInteractive(tooltipElement, false);\n\n\t\tthis._decorateFocusElement(target, tooltipElement);\n\t\tcontainer.append(tooltipElement);\n\t\ttarget.setPrivate(\"tooltipElement\", tooltipElement);\n\t\treturn tooltipElement;\n\t}\n\n\tpublic _invalidateAccessibility(target: Sprite): void {\n\t\tthis._focusElementDirty = true;\n\t\tconst focusElement = target.getPrivate(\"focusElement\");\n\t\tif (target.get(\"focusable\")) {\n\t\t\tif (focusElement) {\n\t\t\t\tthis._decorateFocusElement(target);\n\t\t\t\tthis._positionFocusElement(target);\n\t\t\t}\n\t\t\t// else {\n\t\t\t// \tthis._renderer._makeFocusElement(0, this);\n\t\t\t// }\n\t\t}\n\t\telse if (focusElement) {\n\t\t\tthis._removeFocusElement(target);\n\t\t}\n\t\t//this.updateCurrentFocus();\n\t}\n\n\t/**\n\t * Returns `true` if `target` is currently focused.\n\t *\n\t * @param   target  Target\n\t * @return          Focused?\n\t */\n\tpublic focused(target: Sprite): boolean {\n\t\treturn this._focusedSprite === target;\n\t}\n\n\t/**\n\t * Converts document coordinates to coordinates withing root element.\n\t *\n\t * @param   point  Document point\n\t * @return         Root point\n\t */\n\tpublic documentPointToRoot(point: IPoint): IPoint {\n\t\tconst bbox = this.dom.getBoundingClientRect();\n\t\treturn {\n\t\t\tx: point.x - bbox.left,\n\t\t\ty: point.y - bbox.top\n\t\t};\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic addDisposer<T extends IDisposer>(disposer: T): T {\n\t\tthis._disposers.push(disposer);\n\t\treturn disposer;\n\t}\n\n\t/**\n * To all the clever heads out there. Yes, we did not make any attempts to\n * scramble this.\n *\n * This is a part of a tool meant for our users to manage their commercial\n * licenses for removal of amCharts branding from charts.\n *\n * The only legit way to do so is to purchase a commercial license for amCharts:\n * https://www.amcharts.com/online-store/\n *\n * Removing or altering this code, or disabling amCharts branding in any other\n * way is against the license and thus illegal.\n */\n\tprotected _hasLicense(): boolean {\n\t\tfor (let i = 0; i < registry.licenses.length; i++) {\n\t\t\tif (registry.licenses[i].match(/^AM5C.{5,}/i)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}