{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { useQuery } from 'react-query';\nexport const useProductsFilters = (filters, token) => {\n  _s();\n\n  return useQuery(['productsFilters', filters, token], fetchApi, {\n    retry: 0,\n    staleTime: 60 * 1000 * 5,\n    cacheTime: 0\n  });\n};\n\n_s(useProductsFilters, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});\n\nconst fetchApi = async context => {\n  const [, {\n    name,\n    pageNumber\n  }, token] = context.queryKey;\n\n  try {\n    const res = await axios({\n      method: 'get',\n      url: `/api/products/?name=${name}&pageNumber=${pageNumber}`,\n      headers: {\n        Authorization: `${token}`\n      }\n    });\n\n    if (res.status >= 200 && res.status < 300) {\n      return res.data;\n    }\n  } catch (err) {\n    if (axios.isAxiosError(err)) {\n      if (err && err.response) {\n        throw Error(err.response.data.message);\n      }\n    }\n  }\n};","map":{"version":3,"sources":["/Users/dcurchin/Desktop/final/grocery-shop-ui/src/hooks/useProductsFilters.js"],"names":["axios","useQuery","useProductsFilters","filters","token","fetchApi","retry","staleTime","cacheTime","context","name","pageNumber","queryKey","res","method","url","headers","Authorization","status","data","err","isAxiosError","response","Error","message"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,aAAzB;AAEA,OAAO,MAAMC,kBAAkB,GAAG,CAACC,OAAD,EAAUC,KAAV;AAAA;;AAAA,SAChCH,QAAQ,CAAC,CAAC,iBAAD,EAAoBE,OAApB,EAA6BC,KAA7B,CAAD,EAAsCC,QAAtC,EAAgD;AACtDC,IAAAA,KAAK,EAAE,CAD+C;AAEtDC,IAAAA,SAAS,EAAE,KAAK,IAAL,GAAY,CAF+B;AAGtDC,IAAAA,SAAS,EAAE;AAH2C,GAAhD,CADwB;AAAA,CAA3B;;GAAMN,kB;UACXD,Q;;;AAMF,MAAMI,QAAQ,GAAG,MAAOI,OAAP,IAAmB;AAClC,QAAM,GAAG;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,GAAH,EAAyBP,KAAzB,IAAkCK,OAAO,CAACG,QAAhD;;AACA,MAAI;AACF,UAAMC,GAAG,GAAG,MAAMb,KAAK,CAAC;AACtBc,MAAAA,MAAM,EAAE,KADc;AAEtBC,MAAAA,GAAG,EAAG,uBAAsBL,IAAK,eAAcC,UAAW,EAFpC;AAGtBK,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,GAAEb,KAAM;AADjB;AAHa,KAAD,CAAvB;;AAOA,QAAIS,GAAG,CAACK,MAAJ,IAAc,GAAd,IAAqBL,GAAG,CAACK,MAAJ,GAAa,GAAtC,EAA2C;AACzC,aAAOL,GAAG,CAACM,IAAX;AACD;AACF,GAXD,CAWE,OAAOC,GAAP,EAAY;AACZ,QAAIpB,KAAK,CAACqB,YAAN,CAAmBD,GAAnB,CAAJ,EAA6B;AAC3B,UAAIA,GAAG,IAAIA,GAAG,CAACE,QAAf,EAAyB;AACvB,cAAMC,KAAK,CAACH,GAAG,CAACE,QAAJ,CAAaH,IAAb,CAAkBK,OAAnB,CAAX;AACD;AACF;AACF;AACF,CApBD","sourcesContent":["import axios from 'axios';\r\nimport { useQuery } from 'react-query';\r\n\r\nexport const useProductsFilters = (filters, token) =>\r\n  useQuery(['productsFilters', filters, token], fetchApi, {\r\n    retry: 0,\r\n    staleTime: 60 * 1000 * 5,\r\n    cacheTime: 0,\r\n  });\r\n\r\nconst fetchApi = async (context) => {\r\n  const [, { name, pageNumber }, token] = context.queryKey;\r\n  try {\r\n    const res = await axios({\r\n      method: 'get',\r\n      url: `/api/products/?name=${name}&pageNumber=${pageNumber}`,\r\n      headers: {\r\n        Authorization: `${token}`,\r\n      },\r\n    });\r\n    if (res.status >= 200 && res.status < 300) {\r\n      return res.data;\r\n    }\r\n  } catch (err) {\r\n    if (axios.isAxiosError(err)) {\r\n      if (err && err.response) {\r\n        throw Error(err.response.data.message);\r\n      }\r\n    }\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}