{"ast":null,"code":"import { __extends } from \"tslib\";\nimport { LineSeries } from \"./LineSeries\";\nimport { p100 } from \"../../../core/util/Percent\";\nimport { curveStepAfter } from \"d3-shape\";\n\nvar StepLineSeries =\n/** @class */\nfunction (_super) {\n  __extends(StepLineSeries, _super);\n\n  function StepLineSeries() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Object.defineProperty(StepLineSeries.prototype, \"_afterNew\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      this._setDefault(\"curveFactory\", curveStepAfter);\n\n      _super.prototype._afterNew.call(this);\n    }\n  });\n  Object.defineProperty(StepLineSeries.prototype, \"_getPoints\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function (dataItem, o) {\n      var points = o.points;\n      var width = this.get(\"stepWidth\", p100).value / 2;\n      var itemLocationX0 = dataItem.get(\"locationX\", o.locationX);\n      var itemLocationY0 = dataItem.get(\"locationY\", o.locationY);\n      var itemLocationX1 = itemLocationX0;\n      var itemLocationY1 = itemLocationY0;\n\n      if (o.baseAxis === o.xAxis) {\n        itemLocationX0 -= width;\n        itemLocationX1 += width;\n      } else if (o.baseAxis === o.yAxis) {\n        itemLocationY0 -= width;\n        itemLocationY1 += width;\n      }\n\n      var xPos0 = o.xAxis.getDataItemPositionX(dataItem, o.xField, itemLocationX0, o.vcx);\n      var yPos0 = o.yAxis.getDataItemPositionY(dataItem, o.yField, itemLocationY0, o.vcy);\n      var xPos1 = o.xAxis.getDataItemPositionX(dataItem, o.xField, itemLocationX1, o.vcx);\n      var yPos1 = o.yAxis.getDataItemPositionY(dataItem, o.yField, itemLocationY1, o.vcy);\n\n      if (this._shouldInclude(xPos0)) {\n        var iPoint0 = this.getPoint(xPos0, yPos0);\n        var point0 = [iPoint0.x, iPoint0.y];\n        var iPoint1 = this.getPoint(xPos1, yPos1);\n        var point1 = [iPoint1.x, iPoint1.y];\n\n        if (o.fillVisible) {\n          var xOpenPos0 = xPos0;\n          var yOpenPos0 = yPos0;\n          var xOpenPos1 = xPos1;\n          var yOpenPos1 = yPos1;\n\n          if (o.baseAxis === o.xAxis) {\n            yOpenPos0 = o.basePosY;\n            yOpenPos1 = o.basePosY;\n          } else if (o.baseAxis === o.yAxis) {\n            xOpenPos0 = o.basePosX;\n            xOpenPos1 = o.basePosX;\n          }\n\n          if (o.getOpen) {\n            var valueX = dataItem.get(o.xOpenField);\n            var valueY = dataItem.get(o.yOpenField);\n\n            if (valueX != null && valueY != null) {\n              itemLocationX0 = dataItem.get(\"openLocationX\", o.openLocationX);\n              itemLocationY0 = dataItem.get(\"openLocationY\", o.openLocationY);\n              itemLocationX1 = itemLocationX0;\n              itemLocationY1 = itemLocationY0;\n\n              if (o.baseAxis === o.xAxis) {\n                itemLocationX0 -= width;\n                itemLocationX1 += width;\n              } else if (o.baseAxis === o.yAxis) {\n                itemLocationY0 -= width;\n                itemLocationY1 += width;\n              }\n\n              if (o.stacked) {\n                var stackToItemX = dataItem.get(\"stackToItemX\");\n                var stackToItemY = dataItem.get(\"stackToItemY\");\n\n                if (stackToItemX) {\n                  xOpenPos0 = o.xAxis.getDataItemPositionX(stackToItemX, o.xField, itemLocationX0, stackToItemX.component.get(\"vcx\"));\n                  xOpenPos1 = o.xAxis.getDataItemPositionX(stackToItemX, o.xField, itemLocationX1, stackToItemX.component.get(\"vcx\"));\n                } else {\n                  if (o.yAxis === o.baseAxis) {\n                    xOpenPos0 = o.basePosX;\n                    xOpenPos1 = o.basePosX;\n                  } else if (o.baseAxis === o.yAxis) {\n                    xOpenPos0 = o.xAxis.getDataItemPositionX(dataItem, o.xOpenField, itemLocationX0, o.vcx);\n                    xOpenPos1 = o.xAxis.getDataItemPositionX(dataItem, o.xOpenField, itemLocationX1, o.vcx);\n                  }\n                }\n\n                if (stackToItemY) {\n                  yOpenPos0 = o.yAxis.getDataItemPositionY(stackToItemY, o.yField, itemLocationY0, stackToItemY.component.get(\"vcy\"));\n                  yOpenPos1 = o.yAxis.getDataItemPositionY(stackToItemY, o.yField, itemLocationY1, stackToItemY.component.get(\"vcy\"));\n                } else {\n                  if (o.xAxis === o.baseAxis) {\n                    yOpenPos0 = o.basePosY;\n                    yOpenPos1 = o.basePosY;\n                  } else if (o.baseAxis === o.yAxis) {\n                    yOpenPos0 = o.yAxis.getDataItemPositionY(dataItem, o.yOpenField, itemLocationY0, o.vcy);\n                    yOpenPos1 = o.yAxis.getDataItemPositionY(dataItem, o.yOpenField, itemLocationY1, o.vcy);\n                  }\n                }\n              } else {\n                xOpenPos0 = o.xAxis.getDataItemPositionX(dataItem, o.xOpenField, itemLocationX0, o.vcx);\n                yOpenPos0 = o.yAxis.getDataItemPositionY(dataItem, o.yOpenField, itemLocationY0, o.vcy);\n                xOpenPos1 = o.xAxis.getDataItemPositionX(dataItem, o.xOpenField, itemLocationX1, o.vcx);\n                yOpenPos1 = o.yAxis.getDataItemPositionY(dataItem, o.yOpenField, itemLocationY1, o.vcy);\n              }\n            }\n          }\n\n          var closeIPoint0 = this.getPoint(xOpenPos0, yOpenPos0);\n          var closeIPoint1 = this.getPoint(xOpenPos1, yOpenPos1);\n          point0[2] = closeIPoint0.x;\n          point0[3] = closeIPoint0.y;\n          point1[2] = closeIPoint1.x;\n          point1[3] = closeIPoint1.y;\n        }\n\n        points.push(point0);\n        points.push(point1);\n        dataItem.set(\"point\", {\n          x: point0[0] + (point1[0] - point0[0]) / 2,\n          y: point0[1] + (point1[1] - point0[1]) / 2\n        });\n      }\n\n      if (this.get(\"noRisers\")) {\n        o.points = [];\n        o.segments.push(points);\n      }\n    }\n  });\n  Object.defineProperty(StepLineSeries, \"className\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: \"StepLineSeries\"\n  });\n  Object.defineProperty(StepLineSeries, \"classNames\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: LineSeries.classNames.concat([StepLineSeries.className])\n  });\n  return StepLineSeries;\n}(LineSeries);\n\nexport { StepLineSeries };","map":{"version":3,"sources":["../../../../../../src/.internal/charts/xy/series/StepLineSeries.ts"],"names":[],"mappings":"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","sourcesContent":["import { LineSeries, ILineSeriesSettings, ILineSeriesPrivate, ILineSeriesDataItem } from \"./LineSeries\";\nimport type { AxisRenderer } from \"../axes/AxisRenderer\";\nimport type { Axis } from \"../axes/Axis\";\nimport { Percent, p100 } from \"../../../core/util/Percent\";\nimport type { DataItem } from \"../../../core/render/Component\";\nimport { curveStepAfter } from \"d3-shape\";\n\nexport interface IStepLineSeriesDataItem extends ILineSeriesDataItem {\n}\n\nexport interface IStepLineSeriesSettings extends ILineSeriesSettings {\n\n\t/**\n\t * Width of the step in percent relative to the cell width.\n\t *\n\t * NOTE: setting this to less than 100% makes sense only when risers are\n\t * disabled: `noRisers: true`\n\t *\n\t * @default 100%\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/step-line-series/#Step_width} for more info\n\t */\n\tstepWidth?: Percent;\n\n\t/**\n\t * Disables vertical connecting lines for the steps.\n\t *\n\t * @default false\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/step-line-series/#Disabling_risers} for more info\n\t */\n\tnoRisers?: boolean;\n\n}\n\nexport interface IStepLineSeriesPrivate extends ILineSeriesPrivate {\n}\n\nexport class StepLineSeries extends LineSeries {\n\tpublic static className: string = \"StepLineSeries\";\n\tpublic static classNames: Array<string> = LineSeries.classNames.concat([StepLineSeries.className]);\n\n\tdeclare public _settings: IStepLineSeriesSettings;\n\tdeclare public _privateSettings: IStepLineSeriesPrivate;\n\tdeclare public _dataItemSettings: IStepLineSeriesDataItem;\n\n\tprotected _afterNew() {\n\t\tthis._setDefault(\"curveFactory\", curveStepAfter);\n\t\tsuper._afterNew();\n\t}\n\n\n\tprotected _getPoints(dataItem: DataItem<this[\"_dataItemSettings\"]>, o: { points: Array<Array<number>>, segments: number[][][], stacked: boolean | undefined, getOpen: boolean, basePosX: number, basePosY: number, fillVisible: boolean | undefined, xField: string, yField: string, xOpenField: string, yOpenField: string, vcx: number, vcy: number, baseAxis: Axis<AxisRenderer>, xAxis: Axis<AxisRenderer>, yAxis: Axis<AxisRenderer>, locationX: number, locationY: number, openLocationX: number, openLocationY: number }) {\n\t\tlet points = o.points;\n\n\t\tlet width = this.get(\"stepWidth\", p100).value / 2;\n\n\t\tlet itemLocationX0 = dataItem.get(\"locationX\", o.locationX);\n\t\tlet itemLocationY0 = dataItem.get(\"locationY\", o.locationY);\n\t\tlet itemLocationX1 = itemLocationX0;\n\t\tlet itemLocationY1 = itemLocationY0;\n\n\t\tif (o.baseAxis === o.xAxis) {\n\t\t\titemLocationX0 -= width;\n\t\t\titemLocationX1 += width;\n\t\t}\n\t\telse if (o.baseAxis === o.yAxis) {\n\t\t\titemLocationY0 -= width;\n\t\t\titemLocationY1 += width;\n\t\t}\n\n\t\tlet xPos0 = o.xAxis.getDataItemPositionX(dataItem, o.xField, itemLocationX0, o.vcx);\n\t\tlet yPos0 = o.yAxis.getDataItemPositionY(dataItem, o.yField, itemLocationY0, o.vcy);\n\n\t\tlet xPos1 = o.xAxis.getDataItemPositionX(dataItem, o.xField, itemLocationX1, o.vcx);\n\t\tlet yPos1 = o.yAxis.getDataItemPositionY(dataItem, o.yField, itemLocationY1, o.vcy);\n\n\t\tif (this._shouldInclude(xPos0)) {\n\n\t\t\tconst iPoint0 = this.getPoint(xPos0, yPos0);\n\t\t\tconst point0 = [iPoint0.x, iPoint0.y];\n\n\t\t\tconst iPoint1 = this.getPoint(xPos1, yPos1);\n\t\t\tconst point1 = [iPoint1.x, iPoint1.y];\n\n\t\t\tif (o.fillVisible) {\n\t\t\t\tlet xOpenPos0: number = xPos0;\n\t\t\t\tlet yOpenPos0: number = yPos0;\n\t\t\t\tlet xOpenPos1: number = xPos1;\n\t\t\t\tlet yOpenPos1: number = yPos1;\n\n\t\t\t\tif (o.baseAxis === o.xAxis) {\n\t\t\t\t\tyOpenPos0 = o.basePosY;\n\t\t\t\t\tyOpenPos1 = o.basePosY;\n\t\t\t\t}\n\t\t\t\telse if (o.baseAxis === o.yAxis) {\n\t\t\t\t\txOpenPos0 = o.basePosX;\n\t\t\t\t\txOpenPos1 = o.basePosX;\n\t\t\t\t}\n\n\t\t\t\tif (o.getOpen) {\n\t\t\t\t\tlet valueX = dataItem.get(o.xOpenField as any);\n\t\t\t\t\tlet valueY = dataItem.get(o.yOpenField as any);\n\n\t\t\t\t\tif (valueX != null && valueY != null) {\n\t\t\t\t\t\titemLocationX0 = dataItem.get(\"openLocationX\", o.openLocationX);\n\t\t\t\t\t\titemLocationY0 = dataItem.get(\"openLocationY\", o.openLocationY);\n\n\t\t\t\t\t\titemLocationX1 = itemLocationX0;\n\t\t\t\t\t\titemLocationY1 = itemLocationY0;\n\n\t\t\t\t\t\tif (o.baseAxis === o.xAxis) {\n\t\t\t\t\t\t\titemLocationX0 -= width;\n\t\t\t\t\t\t\titemLocationX1 += width;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (o.baseAxis === o.yAxis) {\n\t\t\t\t\t\t\titemLocationY0 -= width;\n\t\t\t\t\t\t\titemLocationY1 += width;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (o.stacked) {\n\t\t\t\t\t\t\tlet stackToItemX = dataItem.get(\"stackToItemX\")!;\n\t\t\t\t\t\t\tlet stackToItemY = dataItem.get(\"stackToItemY\")!;\n\n\t\t\t\t\t\t\tif (stackToItemX) {\n\t\t\t\t\t\t\t\txOpenPos0 = o.xAxis.getDataItemPositionX(stackToItemX, o.xField, itemLocationX0, (stackToItemX.component as StepLineSeries).get(\"vcx\"));\n\t\t\t\t\t\t\t\txOpenPos1 = o.xAxis.getDataItemPositionX(stackToItemX, o.xField, itemLocationX1, (stackToItemX.component as StepLineSeries).get(\"vcx\"));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tif (o.yAxis === o.baseAxis) {\n\t\t\t\t\t\t\t\t\txOpenPos0 = o.basePosX;\n\t\t\t\t\t\t\t\t\txOpenPos1 = o.basePosX;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse if (o.baseAxis === o.yAxis) {\n\t\t\t\t\t\t\t\t\txOpenPos0 = o.xAxis.getDataItemPositionX(dataItem, o.xOpenField, itemLocationX0, o.vcx);\n\t\t\t\t\t\t\t\t\txOpenPos1 = o.xAxis.getDataItemPositionX(dataItem, o.xOpenField, itemLocationX1, o.vcx);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (stackToItemY) {\n\t\t\t\t\t\t\t\tyOpenPos0 = o.yAxis.getDataItemPositionY(stackToItemY, o.yField, itemLocationY0, (stackToItemY.component as StepLineSeries).get(\"vcy\"));\n\t\t\t\t\t\t\t\tyOpenPos1 = o.yAxis.getDataItemPositionY(stackToItemY, o.yField, itemLocationY1, (stackToItemY.component as StepLineSeries).get(\"vcy\"));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tif (o.xAxis === o.baseAxis) {\n\t\t\t\t\t\t\t\t\tyOpenPos0 = o.basePosY;\n\t\t\t\t\t\t\t\t\tyOpenPos1 = o.basePosY;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse if (o.baseAxis === o.yAxis) {\n\t\t\t\t\t\t\t\t\tyOpenPos0 = o.yAxis.getDataItemPositionY(dataItem, o.yOpenField, itemLocationY0, o.vcy);\n\t\t\t\t\t\t\t\t\tyOpenPos1 = o.yAxis.getDataItemPositionY(dataItem, o.yOpenField, itemLocationY1, o.vcy);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\txOpenPos0 = o.xAxis.getDataItemPositionX(dataItem, o.xOpenField, itemLocationX0, o.vcx);\n\t\t\t\t\t\t\tyOpenPos0 = o.yAxis.getDataItemPositionY(dataItem, o.yOpenField, itemLocationY0, o.vcy);\n\t\t\t\t\t\t\txOpenPos1 = o.xAxis.getDataItemPositionX(dataItem, o.xOpenField, itemLocationX1, o.vcx);\n\t\t\t\t\t\t\tyOpenPos1 = o.yAxis.getDataItemPositionY(dataItem, o.yOpenField, itemLocationY1, o.vcy);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet closeIPoint0 = this.getPoint(xOpenPos0, yOpenPos0);\n\t\t\t\tlet closeIPoint1 = this.getPoint(xOpenPos1, yOpenPos1);\n\n\t\t\t\tpoint0[2] = closeIPoint0.x;\n\t\t\t\tpoint0[3] = closeIPoint0.y;\n\n\t\t\t\tpoint1[2] = closeIPoint1.x;\n\t\t\t\tpoint1[3] = closeIPoint1.y;\n\t\t\t}\n\n\t\t\tpoints.push(point0);\n\t\t\tpoints.push(point1);\n\n\t\t\tdataItem.set(\"point\", {x:point0[0] + (point1[0] - point0[0]) / 2, y:point0[1] + (point1[1] - point0[1]) / 2 });\n\t\t}\n\n\t\tif (this.get(\"noRisers\")) {\n\t\t\to.points = [];\n\t\t\to.segments.push(points);\n\t\t}\n\t}\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}