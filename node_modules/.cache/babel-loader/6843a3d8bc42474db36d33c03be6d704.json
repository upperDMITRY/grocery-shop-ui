{"ast":null,"code":"var _jsxFileName = \"/Users/dcurchin/Desktop/final/grocery-shop-ui/src/components/adminPanel/products/editAndAddNewProduct/ProductForm.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useRef } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { Box, Button } from '@mui/material';\nimport { initProduct } from '../../../../redux/slices/adminProducts';\nimport Id from './Id';\nimport Name from './Name';\nimport Description from './Description';\nimport Price from './Price';\nimport Rating from './Rating';\nimport SizeType from './SizeType';\nimport Sizes from './Sizes';\nimport Image from './Image';\nimport ImageLink from './ImageLink';\nimport { setDisabledSaveButton, setAdminProductsError } from '../../../../redux/slices/adminProducts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst productFormContainerStyle = {\n  boxSizing: 'border-box',\n  display: 'flex',\n  flexDirection: 'column',\n  flexWrap: 'wrap',\n  gap: 4,\n  paddingLeft: 4,\n  paddingRight: 4,\n  paddingTop: 2,\n  maxWidth: 616,\n  minWidth: 288\n};\nconst container1Style = {\n  display: 'flex',\n  flexWrap: 'wrap',\n  gap: 4\n};\nconst container2Style = {\n  display: 'flex',\n  flexWrap: 'wrap',\n  gap: 4,\n  flexGrow: 1,\n  '@media (min-width: 893px)': {\n    width: '288px',\n    flexGrow: 0\n  }\n};\nconst container3Style = {\n  display: 'flex',\n  gap: 3,\n  flexGrow: 1\n};\nconst buttonsContainerStyle = {\n  display: 'flex',\n  paddingBottom: '32px',\n  paddingTop: '8px',\n  marginLeft: '-10px'\n};\nconst buttonStyle = {\n  margin: '0 10px'\n};\nlet prevProduct;\n\nconst ProductForm = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const token = useSelector(state => state.auth.token);\n  const id = useSelector(state => state.adminProducts.id);\n  const name = useSelector(state => state.adminProducts.name);\n  const description = useSelector(state => state.adminProducts.description);\n  const price = useSelector(state => state.adminProducts.price);\n  const rating = useSelector(state => state.adminProducts.rating);\n  const sizeType = useSelector(state => state.adminProducts.sizeType);\n  const sizes = useSelector(state => state.adminProducts.sizes);\n  const image = useSelector(state => state.adminProducts.image);\n  const imageError = useSelector(state => state.adminProducts.imageError);\n  const disabledSaveButton = useSelector(state => state.adminProducts.disabledSaveButton);\n  const nameRef = useRef();\n  useEffect(() => {\n    if (nameRef) {\n      var _nameRef$current;\n\n      (_nameRef$current = nameRef.current) === null || _nameRef$current === void 0 ? void 0 : _nameRef$current.children[0].focus();\n    }\n\n    prevProduct = {\n      id,\n      name,\n      description,\n      price,\n      rating,\n      sizeType,\n      sizes,\n      image\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    if (name.trim() && !imageError) {\n      dispatch(setDisabledSaveButton(false));\n    } else {\n      dispatch(setDisabledSaveButton(true));\n    }\n  }, [dispatch, name, imageError]);\n\n  const goBack = () => {\n    history.goBack();\n    dispatch(initProduct());\n  };\n\n  const saveProduct = async () => {\n    const product = {\n      id,\n      name,\n      description,\n      price: price || 0,\n      rating: rating || 0,\n      sizeType,\n      sizes,\n      image\n    };\n\n    if (JSON.stringify(prevProduct) !== JSON.stringify(product)) {\n      try {\n        const response = await axios({\n          method: 'post',\n          url: '/api/products',\n          headers: {\n            Authorization: token\n          },\n          data: product\n        });\n\n        if (response.status >= 200 && response.status < 300) {\n          goBack();\n        }\n      } catch (err) {\n        if (axios.isAxiosError(err)) {\n          if (err && err.response) {\n            dispatch(setAdminProductsError(err.response.data.message));\n          }\n        }\n      }\n    } else goBack();\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: productFormContainerStyle,\n    children: [/*#__PURE__*/_jsxDEV(Id, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Name, {\n      ref: nameRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Description, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: container1Style,\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: container2Style,\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: container3Style,\n          children: [/*#__PURE__*/_jsxDEV(Price, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Rating, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SizeType, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Sizes, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Image, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ImageLink, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: buttonsContainerStyle,\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        sx: buttonStyle,\n        variant: \"outlined\",\n        onClick: goBack,\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        sx: buttonStyle,\n        variant: \"outlined\",\n        onClick: saveProduct,\n        disabled: disabledSaveButton,\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 153,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProductForm, \"LZJF+UyyU0dK/SlCQJqlAvlNWSk=\", false, function () {\n  return [useDispatch, useHistory, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = ProductForm;\nexport default ProductForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductForm\");","map":{"version":3,"sources":["/Users/dcurchin/Desktop/final/grocery-shop-ui/src/components/adminPanel/products/editAndAddNewProduct/ProductForm.jsx"],"names":["useEffect","useRef","useSelector","useDispatch","useHistory","axios","Box","Button","initProduct","Id","Name","Description","Price","Rating","SizeType","Sizes","Image","ImageLink","setDisabledSaveButton","setAdminProductsError","productFormContainerStyle","boxSizing","display","flexDirection","flexWrap","gap","paddingLeft","paddingRight","paddingTop","maxWidth","minWidth","container1Style","container2Style","flexGrow","width","container3Style","buttonsContainerStyle","paddingBottom","marginLeft","buttonStyle","margin","prevProduct","ProductForm","dispatch","history","token","state","auth","id","adminProducts","name","description","price","rating","sizeType","sizes","image","imageError","disabledSaveButton","nameRef","current","children","focus","trim","goBack","saveProduct","product","JSON","stringify","response","method","url","headers","Authorization","data","status","err","isAxiosError","message"],"mappings":"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","sourcesContent":["import { useEffect, useRef } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { Box, Button } from '@mui/material';\nimport { initProduct } from '../../../../redux/slices/adminProducts';\nimport Id from './Id';\nimport Name from './Name';\nimport Description from './Description';\nimport Price from './Price';\nimport Rating from './Rating';\nimport SizeType from './SizeType';\nimport Sizes from './Sizes';\nimport Image from './Image';\nimport ImageLink from './ImageLink';\nimport {\n  setDisabledSaveButton,\n  setAdminProductsError,\n} from '../../../../redux/slices/adminProducts';\n\nconst productFormContainerStyle = {\n  boxSizing: 'border-box',\n  display: 'flex',\n  flexDirection: 'column',\n  flexWrap: 'wrap',\n  gap: 4,\n  paddingLeft: 4,\n  paddingRight: 4,\n  paddingTop: 2,\n  maxWidth: 616,\n  minWidth: 288,\n};\n\nconst container1Style = {\n  display: 'flex',\n  flexWrap: 'wrap',\n  gap: 4,\n};\n\nconst container2Style = {\n  display: 'flex',\n  flexWrap: 'wrap',\n  gap: 4,\n  flexGrow: 1,\n  '@media (min-width: 893px)': {\n    width: '288px',\n    flexGrow: 0,\n  },\n};\n\nconst container3Style = { display: 'flex', gap: 3, flexGrow: 1 };\n\nconst buttonsContainerStyle = {\n  display: 'flex',\n  paddingBottom: '32px',\n  paddingTop: '8px',\n  marginLeft: '-10px',\n};\n\nconst buttonStyle = {\n  margin: '0 10px',\n};\n\nlet prevProduct;\n\nconst ProductForm = () => {\n  const dispatch = useDispatch();\n\n  const history = useHistory();\n\n  const token = useSelector((state) => state.auth.token);\n  const id = useSelector((state) => state.adminProducts.id);\n  const name = useSelector((state) => state.adminProducts.name);\n  const description = useSelector((state) => state.adminProducts.description);\n  const price = useSelector((state) => state.adminProducts.price);\n  const rating = useSelector((state) => state.adminProducts.rating);\n  const sizeType = useSelector((state) => state.adminProducts.sizeType);\n  const sizes = useSelector((state) => state.adminProducts.sizes);\n  const image = useSelector((state) => state.adminProducts.image);\n  const imageError = useSelector((state) => state.adminProducts.imageError);\n  const disabledSaveButton = useSelector(\n    (state) => state.adminProducts.disabledSaveButton\n  );\n\n  const nameRef = useRef();\n\n  useEffect(() => {\n    if (nameRef) {\n      nameRef.current?.children[0].focus();\n    }\n    prevProduct = {\n      id,\n      name,\n      description,\n      price,\n      rating,\n      sizeType,\n      sizes,\n      image,\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (name.trim() && !imageError) {\n      dispatch(setDisabledSaveButton(false));\n    } else {\n      dispatch(setDisabledSaveButton(true));\n    }\n  }, [dispatch, name, imageError]);\n\n  const goBack = () => {\n    history.goBack();\n    dispatch(initProduct());\n  };\n\n  const saveProduct = async () => {\n    const product = {\n      id,\n      name,\n      description,\n      price: price || 0,\n      rating: rating || 0,\n      sizeType,\n      sizes,\n      image,\n    };\n\n    if (JSON.stringify(prevProduct) !== JSON.stringify(product)) {\n      try {\n        const response = await axios({\n          method: 'post',\n          url: '/api/products',\n          headers: {\n            Authorization: token,\n          },\n          data: product,\n        });\n        if (response.status >= 200 && response.status < 300) {\n          goBack();\n        }\n      } catch (err) {\n        if (axios.isAxiosError(err)) {\n          if (err && err.response) {\n            dispatch(setAdminProductsError(err.response.data.message));\n          }\n        }\n      }\n    } else goBack();\n  };\n\n  return (\n    <Box sx={productFormContainerStyle}>\n      <Id />\n      <Name ref={nameRef} />\n      <Description />\n      <Box sx={container1Style}>\n        <Box sx={container2Style}>\n          <Box sx={container3Style}>\n            <Price />\n            <Rating />\n          </Box>\n          <SizeType />\n          <Sizes />\n        </Box>\n        <Image />\n      </Box>\n      <ImageLink />\n      <Box sx={buttonsContainerStyle}>\n        <Button sx={buttonStyle} variant=\"outlined\" onClick={goBack}>\n          Cancel\n        </Button>\n        <Button\n          sx={buttonStyle}\n          variant=\"outlined\"\n          onClick={saveProduct}\n          disabled={disabledSaveButton}\n        >\n          Save\n        </Button>\n      </Box>\n    </Box>\n  );\n};\n\nexport default ProductForm;\n"]},"metadata":{},"sourceType":"module"}