{"ast":null,"code":"import { __extends, __read } from \"tslib\";\nimport { Scrollbar } from \"../../core/render/Scrollbar\";\nimport { XYChart } from \"./XYChart\";\nimport { Graphics } from \"../../core/render/Graphics\";\nimport * as $utils from \"../../core/util/Utils\";\n/**\r\n * Creates a scrollbar with chart preview in it.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/scrollbars/#Scrollbar_with_chart_preview} for more info\r\n * @important\r\n */\n\nvar XYChartScrollbar =\n/** @class */\nfunction (_super) {\n  __extends(XYChartScrollbar, _super);\n\n  function XYChartScrollbar() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    /**\r\n     * An instance of an [[XYChart]] that is used to plot chart preview in\r\n     * scrollbar.\r\n     */\n\n\n    Object.defineProperty(_this, \"chart\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: _this.children.push(XYChart.new(_this._root, {\n        themeTags: [\"chart\"],\n        interactive: false,\n        interactiveChildren: false,\n        panX: false,\n        panY: false,\n        wheelX: \"none\",\n        wheelY: \"none\"\n      }))\n    });\n    /**\r\n     * A graphics element that is displayed over inactive portion of the\r\n     * scrollbarpreview, to dim it down.\r\n     */\n\n    Object.defineProperty(_this, \"overlay\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: _this.children.push(Graphics.new(_this._root, {\n        themeTags: [\"overlay\"],\n        interactive: false\n      }))\n    });\n    return _this;\n  }\n\n  Object.defineProperty(XYChartScrollbar.prototype, \"_afterNew\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      this._addOrientationClass();\n\n      this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"scrollbar\", \"xy\", \"chart\", this._settings.orientation]);\n      var children = this.children;\n      children.moveValue(this.thumb);\n      children.moveValue(this.startGrip);\n      children.moveValue(this.endGrip);\n      this.thumb.set(\"opacity\", 0);\n      this.thumb.states.create(\"hover\", {\n        opacity: 0.2\n      });\n      var plotContainer = this.chart.plotContainer;\n      plotContainer.set(\"interactive\", false);\n      plotContainer.remove(\"background\");\n      plotContainer.children.removeValue(this.chart.zoomOutButton);\n\n      _super.prototype._afterNew.call(this);\n    }\n  });\n  Object.defineProperty(XYChartScrollbar.prototype, \"_updateThumb\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      var _this = this;\n\n      _super.prototype._updateThumb.call(this);\n\n      this.overlay.set(\"draw\", function (display) {\n        var _a, _b;\n\n        var startGrip = _this.startGrip;\n        var endGrip = _this.endGrip;\n        var x0 = startGrip.x();\n        var y0 = startGrip.y();\n        var x1 = endGrip.x();\n        var y1 = endGrip.y();\n\n        var h = _this.height();\n\n        var w = _this.width();\n\n        if (x0 > x1) {\n          _a = __read([x1, x0], 2), x0 = _a[0], x1 = _a[1];\n        }\n\n        if (y0 > y1) {\n          _b = __read([y1, y0], 2), y0 = _b[0], y1 = _b[1];\n        }\n\n        if (_this.get(\"orientation\") === \"horizontal\") {\n          display.moveTo(0, 0);\n          display.lineTo(x0, 0);\n          display.lineTo(x0, h);\n          display.lineTo(0, h);\n          display.lineTo(0, 0);\n          display.moveTo(x1, 0);\n          display.lineTo(w, 0);\n          display.lineTo(w, h);\n          display.lineTo(x1, h);\n          display.lineTo(x1, 0);\n        } else {\n          display.moveTo(0, 0);\n          display.lineTo(0, y0);\n          display.lineTo(w, y0);\n          display.lineTo(w, 0);\n          display.lineTo(0, 0);\n          display.moveTo(0, y1);\n          display.lineTo(0, h);\n          display.lineTo(w, h);\n          display.lineTo(w, y1);\n          display.lineTo(0, y1);\n        }\n      });\n    }\n  });\n  Object.defineProperty(XYChartScrollbar, \"className\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: \"XYChartScrollbar\"\n  });\n  Object.defineProperty(XYChartScrollbar, \"classNames\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: Scrollbar.classNames.concat([XYChartScrollbar.className])\n  });\n  return XYChartScrollbar;\n}(Scrollbar);\n\nexport { XYChartScrollbar };","map":{"version":3,"sources":["../../../../../src/.internal/charts/xy/XYChartScrollbar.ts"],"names":[],"mappings":"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","sourcesContent":["import { Scrollbar, IScrollbarPrivate, IScrollbarSettings } from \"../../core/render/Scrollbar\";\nimport { XYChart } from \"./XYChart\";\nimport { Graphics } from \"../../core/render/Graphics\";\nimport * as $utils from \"../../core/util/Utils\";\n\nexport interface IXYChartScrollbarSettings extends IScrollbarSettings {\n\n}\n\nexport interface IXYChartScrollbarPrivate extends IScrollbarPrivate {\n}\n\n/**\n * Creates a scrollbar with chart preview in it.\n *\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/scrollbars/#Scrollbar_with_chart_preview} for more info\n * @important\n */\nexport class XYChartScrollbar extends Scrollbar {\n\n\tdeclare public _settings: IXYChartScrollbarSettings;\n\tdeclare public _privateSettings: IXYChartScrollbarPrivate;\n\n\tpublic static className: string = \"XYChartScrollbar\";\n\tpublic static classNames: Array<string> = Scrollbar.classNames.concat([XYChartScrollbar.className]);\n\n\t/**\n\t * An instance of an [[XYChart]] that is used to plot chart preview in\n\t * scrollbar.\n\t */\n\tpublic readonly chart: XYChart = this.children.push(XYChart.new(this._root, {\n\t\tthemeTags: [\"chart\"],\n\t\tinteractive: false,\n\t\tinteractiveChildren: false,\n\t\tpanX: false,\n\t\tpanY: false,\n\t\twheelX: \"none\",\n\t\twheelY: \"none\"\n\t}));\n\n\t/**\n\t * A graphics element that is displayed over inactive portion of the\n\t * scrollbarpreview, to dim it down.\n\t */\n\tpublic readonly overlay: Graphics = this.children.push(Graphics.new(this._root, {\n\t\tthemeTags: [\"overlay\"],\n\t\tinteractive: false\n\t}));\n\n\tprotected _afterNew() {\n\t\tthis._addOrientationClass();\n\t\tthis._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"scrollbar\", \"xy\", \"chart\", this._settings.orientation]);\n\n\t\tconst children = this.children;\n\t\tchildren.moveValue(this.thumb);\n\t\tchildren.moveValue(this.startGrip);\n\t\tchildren.moveValue(this.endGrip);\n\n\t\tthis.thumb.set(\"opacity\", 0);\n\t\tthis.thumb.states.create(\"hover\", { opacity: 0.2 });\n\n\t\tconst plotContainer = this.chart.plotContainer;\n\t\tplotContainer.set(\"interactive\", false);\n\t\tplotContainer.remove(\"background\");\n\t\tplotContainer.children.removeValue(this.chart.zoomOutButton);\n\n\t\tsuper._afterNew();\n\t}\n\n\tprotected _updateThumb() {\n\t\tsuper._updateThumb();\n\n\t\tthis.overlay.set(\"draw\", (display) => {\n\t\t\tconst startGrip = this.startGrip;\n\t\t\tconst endGrip = this.endGrip;\n\n\t\t\tlet x0 = startGrip.x();\n\t\t\tlet y0 = startGrip.y();\n\n\t\t\tlet x1 = endGrip.x();\n\t\t\tlet y1 = endGrip.y();\n\n\t\t\tconst h = this.height();\n\t\t\tconst w = this.width();\n\n\t\t\tif (x0 > x1) {\n\t\t\t\t[x0, x1] = [x1, x0]\n\t\t\t}\n\n\t\t\tif (y0 > y1) {\n\t\t\t\t[y0, y1] = [y1, y0]\n\t\t\t}\n\n\t\t\tif (this.get(\"orientation\") === \"horizontal\") {\n\t\t\t\tdisplay.moveTo(0, 0);\n\t\t\t\tdisplay.lineTo(x0, 0);\n\t\t\t\tdisplay.lineTo(x0, h);\n\t\t\t\tdisplay.lineTo(0, h);\n\t\t\t\tdisplay.lineTo(0, 0);\n\n\t\t\t\tdisplay.moveTo(x1, 0);\n\t\t\t\tdisplay.lineTo(w, 0);\n\t\t\t\tdisplay.lineTo(w, h);\n\t\t\t\tdisplay.lineTo(x1, h);\n\t\t\t\tdisplay.lineTo(x1, 0);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdisplay.moveTo(0, 0);\n\t\t\t\tdisplay.lineTo(0, y0);\n\t\t\t\tdisplay.lineTo(w, y0);\n\t\t\t\tdisplay.lineTo(w, 0);\n\t\t\t\tdisplay.lineTo(0, 0);\n\n\t\t\t\tdisplay.moveTo(0, y1);\n\t\t\t\tdisplay.lineTo(0, h);\n\t\t\t\tdisplay.lineTo(w, h);\n\t\t\t\tdisplay.lineTo(w, y1);\n\t\t\t\tdisplay.lineTo(0, y1);\n\t\t\t}\n\t\t})\n\t}\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}