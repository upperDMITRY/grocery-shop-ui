{"ast":null,"code":"import { __extends } from \"tslib\";\nimport { RoundedRectangle } from \"../render/RoundedRectangle\";\nimport { Container } from \"./Container\";\nimport * as $type from \"../util/Type\";\nimport { Graphics } from \"./Graphics\";\nimport { Button } from \"./Button\";\nimport * as $utils from \"../util/Utils\";\n/**\r\n * A control that allows zooming chart's axes, or other uses requiring range\r\n * selection.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/scrollbars/} for more info\r\n */\n\nvar Scrollbar =\n/** @class */\nfunction (_super) {\n  __extends(Scrollbar, _super);\n\n  function Scrollbar() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    /**\r\n     * A thumb elment - a draggable square between the grips, used for panning\r\n     * the selection.\r\n     */\n\n\n    Object.defineProperty(_this, \"thumb\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: _this._makeThumb()\n    });\n    /**\r\n     * Start grip button.\r\n     */\n\n    Object.defineProperty(_this, \"startGrip\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: _this._makeButton()\n    });\n    /**\r\n     * End grip button.\r\n     */\n\n    Object.defineProperty(_this, \"endGrip\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: _this._makeButton()\n    });\n    Object.defineProperty(_this, \"_thumbBusy\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: false\n    });\n    Object.defineProperty(_this, \"_startDown\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: false\n    });\n    Object.defineProperty(_this, \"_endDown\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: false\n    });\n    Object.defineProperty(_this, \"_thumbDown\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: false\n    });\n    return _this;\n  }\n\n  Object.defineProperty(Scrollbar.prototype, \"_addOrientationClass\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"scrollbar\", this._settings.orientation]);\n\n      if (!this._settings.background) {\n        this._settings.background = RoundedRectangle.new(this._root, {\n          themeTags: $utils.mergeTags(this._settings.themeTags, [\"main\", \"background\"])\n        });\n      }\n    }\n  });\n  Object.defineProperty(Scrollbar.prototype, \"_makeButton\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      return this.children.push(Button.new(this._root, {\n        themeTags: [\"resize\", \"button\", this.get(\"orientation\")],\n        icon: Graphics.new(this._root, {\n          themeTags: [\"icon\"]\n        })\n      }));\n    }\n  });\n  Object.defineProperty(Scrollbar.prototype, \"_makeThumb\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      return this.children.push(RoundedRectangle.new(this._root, {\n        themeTags: [\"thumb\", this.get(\"orientation\")]\n      }));\n    }\n  });\n  Object.defineProperty(Scrollbar.prototype, \"_handleAnimation\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function (animation) {\n      var _this = this;\n\n      if (animation) {\n        this._disposers.push(animation.events.on(\"stopped\", function () {\n          _this.setPrivateRaw(\"isBusy\", false);\n\n          _this._thumbBusy = false;\n        }));\n      }\n    }\n  });\n  Object.defineProperty(Scrollbar.prototype, \"_afterNew\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      var _this = this;\n\n      this._addOrientationClass();\n\n      _super.prototype._afterNew.call(this);\n\n      var startGrip = this.startGrip;\n      var endGrip = this.endGrip;\n      var thumb = this.thumb;\n      var background = this.get(\"background\");\n\n      if (background) {\n        this._disposers.push(background.events.on(\"click\", function (event) {\n          _this.setPrivateRaw(\"isBusy\", true);\n\n          var point = _this._display.toLocal(event.point);\n\n          var w = _this.width();\n\n          var h = _this.height();\n\n          var orientation = _this.get(\"orientation\");\n\n          var newMiddle;\n\n          if (orientation == \"vertical\") {\n            newMiddle = (point.y - thumb.height() / 2) / h;\n          } else {\n            newMiddle = (point.x - thumb.width() / 2) / w;\n          }\n\n          var newCoordinate;\n          var key;\n\n          if (orientation == \"vertical\") {\n            newCoordinate = newMiddle * h;\n            key = \"y\";\n          } else {\n            newCoordinate = newMiddle * w;\n            key = \"x\";\n          }\n\n          _this._thumbBusy = true;\n\n          _this._handleAnimation(_this.thumb.animate({\n            key: key,\n            to: newCoordinate,\n            duration: _this.get(\"animationDuration\", 0),\n            easing: _this.get(\"animationEasing\")\n          }));\n        }));\n      }\n\n      this._disposers.push(thumb.events.on(\"dblclick\", function () {\n        var duration = _this.get(\"animationDuration\", 0);\n\n        var easing = _this.get(\"animationEasing\");\n\n        _this.animate({\n          key: \"start\",\n          to: 0,\n          duration: duration,\n          easing: easing\n        });\n\n        _this.animate({\n          key: \"end\",\n          to: 1,\n          duration: duration,\n          easing: easing\n        });\n      }));\n\n      this._disposers.push(startGrip.events.on(\"pointerdown\", function () {\n        _this.setPrivateRaw(\"isBusy\", true);\n\n        _this._startDown = true;\n      }));\n\n      this._disposers.push(endGrip.events.on(\"pointerdown\", function () {\n        _this.setPrivateRaw(\"isBusy\", true);\n\n        _this._endDown = true;\n      }));\n\n      this._disposers.push(thumb.events.on(\"pointerdown\", function () {\n        _this.setPrivateRaw(\"isBusy\", true);\n\n        _this._thumbDown = true;\n      }));\n\n      this._disposers.push(startGrip.events.on(\"globalpointerup\", function () {\n        if (_this._startDown) {\n          _this.setPrivateRaw(\"isBusy\", false);\n        }\n\n        _this._startDown = false;\n      }));\n\n      this._disposers.push(endGrip.events.on(\"globalpointerup\", function () {\n        if (_this._endDown) {\n          _this.setPrivateRaw(\"isBusy\", false);\n        }\n\n        _this._endDown = false;\n      }));\n\n      this._disposers.push(thumb.events.on(\"globalpointerup\", function () {\n        if (_this._thumbDown) {\n          _this.setPrivateRaw(\"isBusy\", false);\n        }\n\n        _this._thumbDown = false;\n      }));\n\n      this._disposers.push(startGrip.on(\"x\", function () {\n        _this._updateThumb();\n      }));\n\n      this._disposers.push(endGrip.on(\"x\", function () {\n        _this._updateThumb();\n      }));\n\n      this._disposers.push(startGrip.on(\"y\", function () {\n        _this._updateThumb();\n      }));\n\n      this._disposers.push(endGrip.on(\"y\", function () {\n        _this._updateThumb();\n      }));\n\n      this._disposers.push(thumb.events.on(\"positionchanged\", function () {\n        _this._updateGripsByThumb();\n      }));\n\n      if (this.get(\"orientation\") == \"vertical\") {\n        startGrip.set(\"x\", 0);\n        endGrip.set(\"x\", 0);\n\n        this._disposers.push(thumb.adapters.add(\"y\", function (value) {\n          return Math.max(Math.min(Number(value), _this.height() - thumb.height()), 0);\n        }));\n\n        this._disposers.push(thumb.adapters.add(\"x\", function (_value) {\n          return _this.width() / 2;\n        }));\n\n        this._disposers.push(startGrip.adapters.add(\"x\", function (_value) {\n          return _this.width() / 2;\n        }));\n\n        this._disposers.push(endGrip.adapters.add(\"x\", function (_value) {\n          return _this.width() / 2;\n        }));\n\n        this._disposers.push(startGrip.adapters.add(\"y\", function (value) {\n          return Math.max(Math.min(Number(value), _this.height()), 0);\n        }));\n\n        this._disposers.push(endGrip.adapters.add(\"y\", function (value) {\n          return Math.max(Math.min(Number(value), _this.height()), 0);\n        }));\n      } else {\n        startGrip.set(\"y\", 0);\n        endGrip.set(\"y\", 0);\n\n        this._disposers.push(thumb.adapters.add(\"x\", function (value) {\n          return Math.max(Math.min(Number(value), _this.width() - thumb.width()), 0);\n        }));\n\n        this._disposers.push(thumb.adapters.add(\"y\", function (_value) {\n          return _this.height() / 2;\n        }));\n\n        this._disposers.push(startGrip.adapters.add(\"y\", function (_value) {\n          return _this.height() / 2;\n        }));\n\n        this._disposers.push(endGrip.adapters.add(\"y\", function (_value) {\n          return _this.height() / 2;\n        }));\n\n        this._disposers.push(startGrip.adapters.add(\"x\", function (value) {\n          return Math.max(Math.min(Number(value), _this.width()), 0);\n        }));\n\n        this._disposers.push(endGrip.adapters.add(\"x\", function (value) {\n          return Math.max(Math.min(Number(value), _this.width()), 0);\n        }));\n      }\n    }\n  });\n  Object.defineProperty(Scrollbar.prototype, \"_updateChildren\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      _super.prototype._updateChildren.call(this);\n\n      if (this.isDirty(\"end\") || this.isDirty(\"start\") || this._sizeDirty) {\n        this.updateGrips();\n      }\n    }\n  });\n  Object.defineProperty(Scrollbar.prototype, \"_changed\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      _super.prototype._changed.call(this);\n\n      if (this.isDirty(\"start\") || this.isDirty(\"end\")) {\n        var eventType = \"rangechanged\";\n\n        if (this.events.isEnabled(eventType)) {\n          this.events.dispatch(eventType, {\n            type: eventType,\n            target: this,\n            start: this.get(\"start\", 0),\n            end: this.get(\"end\", 1)\n          });\n        }\n      }\n    }\n  });\n  /**\r\n   * @ignore\r\n   */\n\n  Object.defineProperty(Scrollbar.prototype, \"updateGrips\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      var startGrip = this.startGrip;\n      var endGrip = this.endGrip;\n      var orientation = this.get(\"orientation\");\n      var height = this.height();\n      var width = this.width();\n\n      if (orientation == \"vertical\") {\n        startGrip.set(\"y\", height * this.get(\"start\", 0));\n        endGrip.set(\"y\", height * this.get(\"end\", 1));\n      } else {\n        startGrip.set(\"x\", width * this.get(\"start\", 0));\n        endGrip.set(\"x\", width * this.get(\"end\", 1));\n      }\n\n      var valueFunction = this.getPrivate(\"positionTextFunction\");\n      var from = Math.round(this.get(\"start\", 0) * 100);\n      var to = Math.round(this.get(\"end\", 0) * 100);\n      var fromValue;\n      var toValue;\n\n      if (valueFunction) {\n        fromValue = valueFunction.call(this, this.get(\"start\", 0));\n        toValue = valueFunction.call(this, this.get(\"end\", 0));\n      } else {\n        fromValue = from + \"%\";\n        toValue = to + \"%\";\n      }\n\n      startGrip.set(\"ariaLabel\", this._t(\"From %1\", undefined, fromValue));\n      startGrip.set(\"ariaValueNow\", \"\" + from);\n      startGrip.set(\"ariaValueText\", from + \"%\");\n      endGrip.set(\"ariaLabel\", this._t(\"To %1\", undefined, toValue));\n      endGrip.set(\"ariaValueNow\", \"\" + to);\n      endGrip.set(\"ariaValueText\", to + \"%\");\n    }\n  });\n  Object.defineProperty(Scrollbar.prototype, \"_updateThumb\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      var thumb = this.thumb;\n      var startGrip = this.startGrip;\n      var endGrip = this.endGrip;\n      var height = this.height();\n      var width = this.width();\n      var x0 = startGrip.x();\n      var x1 = endGrip.x();\n      var y0 = startGrip.y();\n      var y1 = endGrip.y();\n      var start = 0;\n      var end = 1;\n\n      if (this.get(\"orientation\") == \"vertical\") {\n        if ($type.isNumber(y0) && $type.isNumber(y1)) {\n          if (!this._thumbBusy && !thumb.isDragging()) {\n            thumb.set(\"height\", y1 - y0);\n            thumb.set(\"y\", y0);\n          }\n\n          start = y0 / height;\n          end = y1 / height;\n        }\n      } else {\n        if ($type.isNumber(x0) && $type.isNumber(x1)) {\n          if (!this._thumbBusy && !thumb.isDragging()) {\n            thumb.set(\"width\", x1 - x0);\n            thumb.set(\"x\", x0);\n          }\n\n          start = x0 / width;\n          end = x1 / width;\n        }\n      }\n\n      if (this.getPrivate(\"isBusy\") && (this.get(\"start\") != start || this.get(\"end\") != end)) {\n        this.set(\"start\", start);\n        this.set(\"end\", end);\n      }\n\n      var valueFunction = this.getPrivate(\"positionTextFunction\");\n      var from = Math.round(this.get(\"start\", 0) * 100);\n      var to = Math.round(this.get(\"end\", 0) * 100);\n      var fromValue;\n      var toValue;\n\n      if (valueFunction) {\n        fromValue = valueFunction.call(this, this.get(\"start\", 0));\n        toValue = valueFunction.call(this, this.get(\"end\", 0));\n      } else {\n        fromValue = from + \"%\";\n        toValue = to + \"%\";\n      }\n\n      thumb.set(\"ariaLabel\", this._t(\"From %1 to %2\", undefined, fromValue, toValue));\n      thumb.set(\"ariaValueNow\", \"\" + from);\n      thumb.set(\"ariaValueText\", from + \"%\");\n    }\n  });\n  Object.defineProperty(Scrollbar.prototype, \"_updateGripsByThumb\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      var thumb = this.thumb;\n      var startGrip = this.startGrip;\n      var endGrip = this.endGrip;\n\n      if (this.get(\"orientation\") == \"vertical\") {\n        var thumbSize = thumb.height();\n        startGrip.set(\"y\", thumb.y());\n        endGrip.set(\"y\", thumb.y() + thumbSize);\n      } else {\n        var thumbSize = thumb.width();\n        startGrip.set(\"x\", thumb.x());\n        endGrip.set(\"x\", thumb.x() + thumbSize);\n      }\n    }\n  });\n  Object.defineProperty(Scrollbar, \"className\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: \"Scrollbar\"\n  });\n  Object.defineProperty(Scrollbar, \"classNames\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: Container.classNames.concat([Scrollbar.className])\n  });\n  return Scrollbar;\n}(Container);\n\nexport { Scrollbar };","map":{"version":3,"sources":["../../../../../src/.internal/core/render/Scrollbar.ts"],"names":[],"mappings":"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","sourcesContent":["import { RoundedRectangle } from \"../render/RoundedRectangle\";\nimport { Container, IContainerPrivate, IContainerSettings, IContainerEvents } from \"./Container\";\nimport * as $type from \"../util/Type\";\nimport { Graphics } from \"./Graphics\";\nimport { Button } from \"./Button\";\nimport type { Time } from \"../util/Animation\";\nimport * as $utils from \"../util/Utils\";\nimport type { Animation } from \"../util/Entity\";\n\nexport interface IScrollbarSettings extends IContainerSettings {\n\n\t/**\n\t * Orientation of the scrollbar.\n\t */\n\torientation: \"horizontal\" | \"vertical\";\n\n\t/**\n\t * Relative start of the selected range, with 0 meaning beginning, and 1 the\n\t * end.\n\t */\n\tstart?: number;\n\n\t/**\n\t * Relative end of the selected range, with 0 meaning beginning, and 1 the\n\t * end.\n\t */\n\tend?: number;\n\n\t/**\n\t * Number of milliseconds to play scroll animations for.\n\t */\n\tanimationDuration?: number;\n\n\t/**\n\t * Easing function to use for animations.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/animations/#Easing_functions} for more info\n\t */\n\tanimationEasing?: (t: Time) => Time;\n\n}\n\nexport interface IScrollbarPrivate extends IContainerPrivate {\n\n\t/**\n\t * @ignore\n\t */\n\tisBusy?: boolean;\n\n\t/**\n\t * @ignore\n\t */\n\tpositionTextFunction?: (position: number) => string;\n\n}\n\nexport interface IScrollbarEvents extends IContainerEvents {\n\n\t/**\n\t * Invoked when range of the selection changes.\n\t */\n\trangechanged: { start: number, end: number };\n\n}\n\n/**\n * A control that allows zooming chart's axes, or other uses requiring range\n * selection.\n *\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/scrollbars/} for more info\n */\nexport class Scrollbar extends Container {\n\n\tpublic _addOrientationClass() {\n\t\tthis._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"scrollbar\", this._settings.orientation]);\n\t\tif (!this._settings.background) {\n\t\t\tthis._settings.background = RoundedRectangle.new(this._root, {\n\t\t\t\tthemeTags: $utils.mergeTags(this._settings.themeTags, [\"main\", \"background\"])\n\t\t\t});\n\t\t}\n\t}\n\n\tdeclare public _settings: IScrollbarSettings;\n\tdeclare public _privateSettings: IScrollbarPrivate;\n\tdeclare public _events: IScrollbarEvents;\n\n\tpublic static className: string = \"Scrollbar\";\n\tpublic static classNames: Array<string> = Container.classNames.concat([Scrollbar.className]);\n\n\t/**\n\t * A thumb elment - a draggable square between the grips, used for panning\n\t * the selection.\n\t */\n\tpublic thumb: RoundedRectangle = this._makeThumb();\n\n\t/**\n\t * Start grip button.\n\t */\n\tpublic startGrip: Button = this._makeButton();\n\n\t/**\n\t * End grip button.\n\t */\n\tpublic endGrip: Button = this._makeButton();\n\n\tprotected _thumbBusy: boolean = false;\n\n\tprotected _startDown: boolean = false;\n\n\tprotected _endDown: boolean = false;\n\n\tprotected _thumbDown: boolean = false;\n\n\tprotected _makeButton(): Button {\n\t\treturn this.children.push(Button.new(this._root, {\n\t\t\tthemeTags: [\"resize\", \"button\", this.get(\"orientation\")], icon: Graphics.new(this._root, {\n\t\t\t\tthemeTags: [\"icon\"]\n\t\t\t})\n\t\t}));\n\t}\n\n\tprotected _makeThumb(): RoundedRectangle {\n\t\treturn this.children.push(RoundedRectangle.new(this._root, {\n\t\t\tthemeTags: [\"thumb\", this.get(\"orientation\")]\n\t\t}));\n\t}\n\n\tprotected _handleAnimation(animation: Animation<any>) {\n\t\tif (animation) {\n\t\t\tthis._disposers.push(\n\t\t\t\tanimation.events.on(\"stopped\", () => {\n\t\t\t\t\tthis.setPrivateRaw(\"isBusy\", false);\n\t\t\t\t\tthis._thumbBusy = false;\n\t\t\t\t})\n\t\t\t)\n\t\t}\n\t}\n\n\tprotected _afterNew() {\n\t\tthis._addOrientationClass();\n\t\tsuper._afterNew();\n\n\t\tconst startGrip = this.startGrip;\n\t\tconst endGrip = this.endGrip;\n\t\tconst thumb = this.thumb;\n\t\tconst background = this.get(\"background\");\n\n\t\tif (background) {\n\t\t\tthis._disposers.push(\n\t\t\t\tbackground.events.on(\"click\", (event) => {\n\t\t\t\t\tthis.setPrivateRaw(\"isBusy\", true);\n\t\t\t\t\tconst point = this._display.toLocal(event.point);\n\n\t\t\t\t\tconst w = this.width();\n\t\t\t\t\tconst h = this.height();\n\n\t\t\t\t\tconst orientation = this.get(\"orientation\");\n\n\t\t\t\t\tlet newMiddle: number;\n\n\t\t\t\t\tif (orientation == \"vertical\") {\n\t\t\t\t\t\tnewMiddle = (point.y - thumb.height() / 2) / h;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tnewMiddle = (point.x - thumb.width() / 2) / w;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet newCoordinate: number;\n\t\t\t\t\tlet key: \"x\" | \"y\";\n\n\t\t\t\t\tif (orientation == \"vertical\") {\n\t\t\t\t\t\tnewCoordinate = newMiddle * h;\n\t\t\t\t\t\tkey = \"y\";\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tnewCoordinate = newMiddle * w;\n\t\t\t\t\t\tkey = \"x\";\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._thumbBusy = true;\n\t\t\t\t\tthis._handleAnimation(this.thumb.animate({ key: key, to: newCoordinate, duration: this.get(\"animationDuration\", 0), easing: this.get(\"animationEasing\") }));\n\t\t\t\t})\n\t\t\t)\n\t\t}\n\n\t\tthis._disposers.push(thumb.events.on(\"dblclick\", () => {\n\t\t\tconst duration = this.get(\"animationDuration\", 0);\n\t\t\tconst easing = this.get(\"animationEasing\");\n\n\t\t\tthis.animate({ key: \"start\", to: 0, duration: duration, easing: easing });\n\t\t\tthis.animate({ key: \"end\", to: 1, duration: duration, easing: easing });\n\t\t}));\n\n\t\tthis._disposers.push(startGrip.events.on(\"pointerdown\", () => {\n\t\t\tthis.setPrivateRaw(\"isBusy\", true);\n\t\t\tthis._startDown = true;\n\t\t}))\n\n\t\tthis._disposers.push(endGrip.events.on(\"pointerdown\", () => {\n\t\t\tthis.setPrivateRaw(\"isBusy\", true);\n\t\t\tthis._endDown = true;\n\t\t}))\n\n\t\tthis._disposers.push(thumb.events.on(\"pointerdown\", () => {\n\t\t\tthis.setPrivateRaw(\"isBusy\", true);\n\t\t\tthis._thumbDown = true;\n\t\t}))\n\n\t\tthis._disposers.push(startGrip.events.on(\"globalpointerup\", () => {\n\t\t\tif (this._startDown) {\n\t\t\t\tthis.setPrivateRaw(\"isBusy\", false);\n\t\t\t}\n\t\t\tthis._startDown = false;\n\t\t}))\n\n\t\tthis._disposers.push(endGrip.events.on(\"globalpointerup\", () => {\n\t\t\tif (this._endDown) {\n\t\t\t\tthis.setPrivateRaw(\"isBusy\", false);\n\t\t\t}\n\t\t\tthis._endDown = false;\n\t\t}))\n\n\t\tthis._disposers.push(thumb.events.on(\"globalpointerup\", () => {\n\t\t\tif (this._thumbDown) {\n\t\t\t\tthis.setPrivateRaw(\"isBusy\", false);\n\t\t\t}\n\t\t\tthis._thumbDown = false;\n\t\t}))\n\n\t\tthis._disposers.push(startGrip.on(\"x\", () => {\n\t\t\tthis._updateThumb();\n\t\t}));\n\n\t\tthis._disposers.push(endGrip.on(\"x\", () => {\n\t\t\tthis._updateThumb();\n\t\t}));\n\n\t\tthis._disposers.push(startGrip.on(\"y\", () => {\n\t\t\tthis._updateThumb();\n\t\t}));\n\n\t\tthis._disposers.push(endGrip.on(\"y\", () => {\n\t\t\tthis._updateThumb();\n\t\t}));\n\n\t\tthis._disposers.push(thumb.events.on(\"positionchanged\", () => {\n\t\t\tthis._updateGripsByThumb();\n\t\t}));\n\n\t\tif (this.get(\"orientation\") == \"vertical\") {\n\t\t\tstartGrip.set(\"x\", 0);\n\t\t\tendGrip.set(\"x\", 0);\n\n\t\t\tthis._disposers.push(thumb.adapters.add(\"y\", (value) => {\n\t\t\t\treturn Math.max(Math.min(Number(value), this.height() - thumb.height()), 0);\n\t\t\t}))\n\n\t\t\tthis._disposers.push(thumb.adapters.add(\"x\", (_value) => {\n\t\t\t\treturn this.width() / 2;\n\t\t\t}))\n\n\t\t\tthis._disposers.push(startGrip.adapters.add(\"x\", (_value) => {\n\t\t\t\treturn this.width() / 2;\n\t\t\t}))\n\n\t\t\tthis._disposers.push(endGrip.adapters.add(\"x\", (_value) => {\n\t\t\t\treturn this.width() / 2;\n\t\t\t}))\n\n\t\t\tthis._disposers.push(startGrip.adapters.add(\"y\", (value) => {\n\t\t\t\treturn Math.max(Math.min(Number(value), this.height()), 0);\n\t\t\t}))\n\n\t\t\tthis._disposers.push(endGrip.adapters.add(\"y\", (value) => {\n\t\t\t\treturn Math.max(Math.min(Number(value), this.height()), 0);\n\t\t\t}))\n\t\t}\n\t\telse {\n\t\t\tstartGrip.set(\"y\", 0);\n\t\t\tendGrip.set(\"y\", 0);\n\n\t\t\tthis._disposers.push(thumb.adapters.add(\"x\", (value) => {\n\t\t\t\treturn Math.max(Math.min(Number(value), this.width() - thumb.width()), 0);\n\t\t\t}))\n\n\t\t\tthis._disposers.push(thumb.adapters.add(\"y\", (_value) => {\n\t\t\t\treturn this.height() / 2;\n\t\t\t}))\n\n\t\t\tthis._disposers.push(startGrip.adapters.add(\"y\", (_value) => {\n\t\t\t\treturn this.height() / 2;\n\t\t\t}))\n\n\t\t\tthis._disposers.push(endGrip.adapters.add(\"y\", (_value) => {\n\t\t\t\treturn this.height() / 2;\n\t\t\t}))\n\n\t\t\tthis._disposers.push(startGrip.adapters.add(\"x\", (value) => {\n\t\t\t\treturn Math.max(Math.min(Number(value), this.width()), 0);\n\t\t\t}))\n\n\t\t\tthis._disposers.push(endGrip.adapters.add(\"x\", (value) => {\n\t\t\t\treturn Math.max(Math.min(Number(value), this.width()), 0);\n\t\t\t}))\n\t\t}\n\t}\n\n\tpublic _updateChildren() {\n\t\tsuper._updateChildren();\n\n\t\tif (this.isDirty(\"end\") || this.isDirty(\"start\") || this._sizeDirty) {\n\t\t\tthis.updateGrips();\n\t\t}\n\t}\n\n\tpublic _changed() {\n\t\tsuper._changed();\n\t\tif (this.isDirty(\"start\") || this.isDirty(\"end\")) {\n\t\t\tconst eventType = \"rangechanged\";\n\t\t\tif (this.events.isEnabled(eventType)) {\n\t\t\t\tthis.events.dispatch(eventType, { type: eventType, target: this, start: this.get(\"start\", 0), end: this.get(\"end\", 1) });\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateGrips() {\n\t\tconst startGrip = this.startGrip;\n\t\tconst endGrip = this.endGrip;\n\n\t\tconst orientation = this.get(\"orientation\");\n\t\tconst height = this.height();\n\t\tconst width = this.width();\n\n\t\tif (orientation == \"vertical\") {\n\t\t\tstartGrip.set(\"y\", height * this.get(\"start\", 0));\n\t\t\tendGrip.set(\"y\", height * this.get(\"end\", 1));\n\t\t}\n\t\telse {\n\t\t\tstartGrip.set(\"x\", width * this.get(\"start\", 0));\n\t\t\tendGrip.set(\"x\", width * this.get(\"end\", 1));\n\t\t}\n\n\t\tconst valueFunction = this.getPrivate(\"positionTextFunction\");\n\t\tconst from = Math.round(this.get(\"start\", 0) * 100);\n\t\tconst to = Math.round(this.get(\"end\", 0) * 100);\n\t\tlet fromValue: string;\n\t\tlet toValue: string;\n\t\tif (valueFunction) {\n\t\t\tfromValue = valueFunction.call(this, this.get(\"start\", 0));\n\t\t\ttoValue = valueFunction.call(this, this.get(\"end\", 0));\n\t\t}\n\t\telse {\n\t\t\tfromValue = from + \"%\";\n\t\t\ttoValue = to + \"%\";\n\t\t}\n\n\t\tstartGrip.set(\"ariaLabel\", this._t(\"From %1\", undefined, fromValue));\n\t\tstartGrip.set(\"ariaValueNow\", \"\" + from);\n\t\tstartGrip.set(\"ariaValueText\", from + \"%\");\n\n\t\tendGrip.set(\"ariaLabel\", this._t(\"To %1\", undefined, toValue));\n\t\tendGrip.set(\"ariaValueNow\", \"\" + to);\n\t\tendGrip.set(\"ariaValueText\", to + \"%\");\n\t}\n\n\tprotected _updateThumb() {\n\t\tconst thumb = this.thumb;\n\t\tconst startGrip = this.startGrip;\n\t\tconst endGrip = this.endGrip;\n\n\t\tconst height = this.height();\n\t\tconst width = this.width();\n\n\t\tlet x0 = startGrip.x();\n\t\tlet x1 = endGrip.x();\n\n\t\tlet y0 = startGrip.y();\n\t\tlet y1 = endGrip.y();\n\n\t\tlet start: number = 0;\n\t\tlet end: number = 1;\n\n\t\tif (this.get(\"orientation\") == \"vertical\") {\n\t\t\tif ($type.isNumber(y0) && $type.isNumber(y1)) {\n\t\t\t\tif (!this._thumbBusy && !thumb.isDragging()) {\n\t\t\t\t\tthumb.set(\"height\", y1 - y0);\n\t\t\t\t\tthumb.set(\"y\", y0);\n\t\t\t\t}\n\t\t\t\tstart = y0 / height;\n\t\t\t\tend = y1 / height;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif ($type.isNumber(x0) && $type.isNumber(x1)) {\n\t\t\t\tif (!this._thumbBusy && !thumb.isDragging()) {\n\t\t\t\t\tthumb.set(\"width\", x1 - x0);\n\t\t\t\t\tthumb.set(\"x\", x0);\n\t\t\t\t}\n\t\t\t\tstart = x0 / width;\n\t\t\t\tend = x1 / width;\n\t\t\t}\n\t\t}\n\n\t\tif (this.getPrivate(\"isBusy\") && (this.get(\"start\") != start || this.get(\"end\") != end)) {\n\t\t\tthis.set(\"start\", start);\n\t\t\tthis.set(\"end\", end);\n\t\t}\n\n\t\tconst valueFunction = this.getPrivate(\"positionTextFunction\");\n\t\tconst from = Math.round(this.get(\"start\", 0) * 100);\n\t\tconst to = Math.round(this.get(\"end\", 0) * 100);\n\t\tlet fromValue: string;\n\t\tlet toValue: string;\n\t\tif (valueFunction) {\n\t\t\tfromValue = valueFunction.call(this, this.get(\"start\", 0));\n\t\t\ttoValue = valueFunction.call(this, this.get(\"end\", 0));\n\t\t}\n\t\telse {\n\t\t\tfromValue = from + \"%\";\n\t\t\ttoValue = to + \"%\";\n\t\t}\n\n\t\tthumb.set(\"ariaLabel\", this._t(\"From %1 to %2\", undefined, fromValue, toValue));\n\t\tthumb.set(\"ariaValueNow\", \"\" + from);\n\t\tthumb.set(\"ariaValueText\", from + \"%\");\n\t}\n\n\n\tprotected _updateGripsByThumb() {\n\n\t\tconst thumb = this.thumb;\n\t\tconst startGrip = this.startGrip;\n\t\tconst endGrip = this.endGrip;\n\n\t\tif (this.get(\"orientation\") == \"vertical\") {\n\t\t\tconst thumbSize = thumb.height();\n\t\t\tstartGrip.set(\"y\", thumb.y());\n\t\t\tendGrip.set(\"y\", thumb.y() + thumbSize);\n\t\t}\n\t\telse {\n\t\t\tconst thumbSize = thumb.width();\n\t\t\tstartGrip.set(\"x\", thumb.x());\n\t\t\tendGrip.set(\"x\", thumb.x() + thumbSize);\n\t\t}\n\t}\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}