{"ast":null,"code":"var _jsxFileName = \"/Users/dcurchin/Desktop/final/grocery-shop-ui/src/components/adminPanel/users/editAndAddNewUser/UserForm.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { Box, Button } from '@mui/material';\nimport { initUser, setEmailError, setPasswordError, setDisabledSaveButton, setAdminUsersError } from '../../../../redux/slices/adminUsers';\nimport Header from './Header';\nimport Email from './Email';\nimport Password from './Password';\nimport Role from './Role';\nimport Status from './Status';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst userFormContainerStyle = {\n  boxSizing: 'border-box',\n  display: 'flex',\n  flexDirection: 'column',\n  flexWrap: 'wrap',\n  gap: 4,\n  paddingLeft: 4,\n  paddingRight: 4,\n  paddingTop: 2,\n  maxWidth: 616,\n  minWidth: 288\n};\nconst container3Style = {\n  display: 'flex',\n  gap: 3,\n  flexGrow: 1\n};\nconst buttonsContainerStyle = {\n  display: 'flex',\n  paddingBottom: '32px',\n  paddingTop: '8px',\n  marginLeft: '-10px'\n};\nconst buttonStyle = {\n  margin: '0 10px'\n};\nconst EMAIL_REGEX = /^\\w+([-+.']\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/; // eslint-disable-next-line\n\nconst PASSWORD_REGEX = /^[a-zA-Z0-9!@#$%^&*()_+~`\\-=\\\\\\/|[\\]{};:'\",<.>?]*$/;\n\nconst UserForm = ({\n  newUser\n}) => {\n  _s();\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const token = useSelector(state => state.auth.token);\n  const email = useSelector(state => state.adminUsers.email);\n  const password = useSelector(state => state.adminUsers.password);\n  const role = useSelector(state => state.adminUsers.role);\n  const status = useSelector(state => state.adminUsers.status);\n  const disabledSaveButton = useSelector(state => state.adminUsers.disabledSaveButton);\n  const emailRef = useRef();\n  useEffect(() => {\n    if (emailRef) {\n      var _emailRef$current;\n\n      (_emailRef$current = emailRef.current) === null || _emailRef$current === void 0 ? void 0 : _emailRef$current.children[0].focus();\n    }\n\n    dispatch(setEmailError(''));\n    dispatch(setPasswordError('')); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    if (email.trim() && password.trim()) {\n      dispatch(setDisabledSaveButton(false));\n    } else {\n      dispatch(setDisabledSaveButton(true));\n    }\n  }, [dispatch, email, password]);\n\n  const goBack = () => {\n    history.goBack();\n    dispatch(initUser());\n  };\n\n  const saveUser = async e => {\n    if (!EMAIL_REGEX.test(email)) {\n      dispatch(setEmailError('Please provide correct e-mail address'));\n      return;\n    }\n\n    if (email.length < 5 || email.length > 35) {\n      dispatch(setEmailError('Email address must be at least 5 characters long, maximum 35 characters long'));\n      return;\n    }\n\n    if (!PASSWORD_REGEX.test(password)) {\n      dispatch(setPasswordError('Password can only contain english letters, numbers and special characters, and must be at least 5 characters long, maximum 10 characters long'));\n      return;\n    }\n\n    if (password.length < 5 || password.length > 10) {\n      dispatch(setPasswordError('Password must be at least 5 characters long, maximum 10 characters long'));\n      return;\n    }\n\n    const user = {\n      email: email.toLowerCase(),\n      password,\n      role,\n      status\n    };\n\n    if (newUser) {\n      try {\n        const response = await axios({\n          method: 'post',\n          url: '/api/admin/users',\n          headers: {\n            Authorization: token\n          },\n          data: user\n        });\n\n        if (response.status >= 200 && response.status < 300) {\n          goBack();\n        }\n      } catch (err) {\n        if (axios.isAxiosError(err)) {\n          if (err && err.response) {\n            dispatch(setAdminUsersError(err.response.data.message));\n          }\n        }\n      }\n    }\n\n    if (!newUser) {\n      try {\n        const response = await axios({\n          method: 'put',\n          url: '/api/admin/users',\n          headers: {\n            Authorization: token\n          },\n          data: user\n        });\n\n        if (response.status >= 200 && response.status < 300) {\n          goBack();\n        }\n      } catch (err) {\n        if (axios.isAxiosError(err)) {\n          if (err && err.response) {\n            dispatch(setAdminUsersError(err.response.data.message));\n          }\n        }\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: userFormContainerStyle,\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      newUser: newUser\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Email, {\n      ref: emailRef,\n      newUser: newUser\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Password, {\n      newUser: newUser\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: container3Style,\n      children: [/*#__PURE__*/_jsxDEV(Role, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Status, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: buttonsContainerStyle,\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        sx: buttonStyle,\n        variant: \"outlined\",\n        onClick: goBack,\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        sx: buttonStyle,\n        variant: \"outlined\",\n        onClick: saveUser,\n        disabled: disabledSaveButton,\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 176,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UserForm, \"mq5jjoBFQcRJmOor8BAZgRviOlE=\", false, function () {\n  return [useDispatch, useHistory, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = UserForm;\nexport default UserForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserForm\");","map":{"version":3,"sources":["/Users/dcurchin/Desktop/final/grocery-shop-ui/src/components/adminPanel/users/editAndAddNewUser/UserForm.jsx"],"names":["useEffect","useRef","axios","useSelector","useDispatch","useHistory","Box","Button","initUser","setEmailError","setPasswordError","setDisabledSaveButton","setAdminUsersError","Header","Email","Password","Role","Status","userFormContainerStyle","boxSizing","display","flexDirection","flexWrap","gap","paddingLeft","paddingRight","paddingTop","maxWidth","minWidth","container3Style","flexGrow","buttonsContainerStyle","paddingBottom","marginLeft","buttonStyle","margin","EMAIL_REGEX","PASSWORD_REGEX","UserForm","newUser","dispatch","history","token","state","auth","email","adminUsers","password","role","status","disabledSaveButton","emailRef","current","children","focus","trim","goBack","saveUser","e","test","length","user","toLowerCase","response","method","url","headers","Authorization","data","err","isAxiosError","message"],"mappings":"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","sourcesContent":["import { useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Box, Button } from '@mui/material';\r\nimport {\r\n  initUser,\r\n  setEmailError,\r\n  setPasswordError,\r\n  setDisabledSaveButton,\r\n  setAdminUsersError,\r\n} from '../../../../redux/slices/adminUsers';\r\nimport Header from './Header';\r\nimport Email from './Email';\r\nimport Password from './Password';\r\nimport Role from './Role';\r\nimport Status from './Status';\r\n\r\nconst userFormContainerStyle = {\r\n  boxSizing: 'border-box',\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  flexWrap: 'wrap',\r\n  gap: 4,\r\n  paddingLeft: 4,\r\n  paddingRight: 4,\r\n  paddingTop: 2,\r\n  maxWidth: 616,\r\n  minWidth: 288,\r\n};\r\n\r\nconst container3Style = { display: 'flex', gap: 3, flexGrow: 1 };\r\n\r\nconst buttonsContainerStyle = {\r\n  display: 'flex',\r\n  paddingBottom: '32px',\r\n  paddingTop: '8px',\r\n  marginLeft: '-10px',\r\n};\r\n\r\nconst buttonStyle = {\r\n  margin: '0 10px',\r\n};\r\n\r\nconst EMAIL_REGEX = /^\\w+([-+.']\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/;\r\n\r\n// eslint-disable-next-line\r\nconst PASSWORD_REGEX = /^[a-zA-Z0-9!@#$%^&*()_+~`\\-=\\\\\\/|[\\]{};:'\",<.>?]*$/;\r\n\r\nconst UserForm = ({ newUser }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const history = useHistory();\r\n\r\n  const token = useSelector((state) => state.auth.token);\r\n  const email = useSelector((state) => state.adminUsers.email);\r\n  const password = useSelector((state) => state.adminUsers.password);\r\n  const role = useSelector((state) => state.adminUsers.role);\r\n  const status = useSelector((state) => state.adminUsers.status);\r\n\r\n  const disabledSaveButton = useSelector(\r\n    (state) => state.adminUsers.disabledSaveButton\r\n  );\r\n\r\n  const emailRef = useRef();\r\n\r\n  useEffect(() => {\r\n    if (emailRef) {\r\n      emailRef.current?.children[0].focus();\r\n    }\r\n\r\n    dispatch(setEmailError(''));\r\n    dispatch(setPasswordError(''));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (email.trim() && password.trim()) {\r\n      dispatch(setDisabledSaveButton(false));\r\n    } else {\r\n      dispatch(setDisabledSaveButton(true));\r\n    }\r\n  }, [dispatch, email, password]);\r\n\r\n  const goBack = () => {\r\n    history.goBack();\r\n    dispatch(initUser());\r\n  };\r\n\r\n  const saveUser = async (e) => {\r\n    if (!EMAIL_REGEX.test(email)) {\r\n      dispatch(setEmailError('Please provide correct e-mail address'));\r\n      return;\r\n    }\r\n\r\n    if (email.length < 5 || email.length > 35) {\r\n      dispatch(\r\n        setEmailError(\r\n          'Email address must be at least 5 characters long, maximum 35 characters long'\r\n        )\r\n      );\r\n      return;\r\n    }\r\n\r\n    if (!PASSWORD_REGEX.test(password)) {\r\n      dispatch(\r\n        setPasswordError(\r\n          'Password can only contain english letters, numbers and special characters, and must be at least 5 characters long, maximum 10 characters long'\r\n        )\r\n      );\r\n      return;\r\n    }\r\n\r\n    if (password.length < 5 || password.length > 10) {\r\n      dispatch(\r\n        setPasswordError(\r\n          'Password must be at least 5 characters long, maximum 10 characters long'\r\n        )\r\n      );\r\n      return;\r\n    }\r\n\r\n    const user = {\r\n      email: email.toLowerCase(),\r\n      password,\r\n      role,\r\n      status,\r\n    };\r\n\r\n    if (newUser) {\r\n      try {\r\n        const response = await axios({\r\n          method: 'post',\r\n          url: '/api/admin/users',\r\n          headers: {\r\n            Authorization: token,\r\n          },\r\n          data: user,\r\n        });\r\n        if (response.status >= 200 && response.status < 300) {\r\n          goBack();\r\n        }\r\n      } catch (err) {\r\n        if (axios.isAxiosError(err)) {\r\n          if (err && err.response) {\r\n            dispatch(setAdminUsersError(err.response.data.message));\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    if (!newUser) {\r\n      try {\r\n        const response = await axios({\r\n          method: 'put',\r\n          url: '/api/admin/users',\r\n          headers: {\r\n            Authorization: token,\r\n          },\r\n          data: user,\r\n        });\r\n        if (response.status >= 200 && response.status < 300) {\r\n          goBack();\r\n        }\r\n      } catch (err) {\r\n        if (axios.isAxiosError(err)) {\r\n          if (err && err.response) {\r\n            dispatch(setAdminUsersError(err.response.data.message));\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box sx={userFormContainerStyle}>\r\n      <Header newUser={newUser} />\r\n      <Email ref={emailRef} newUser={newUser} />\r\n      <Password newUser={newUser} />\r\n      <Box sx={container3Style}>\r\n        <Role />\r\n        <Status />\r\n      </Box>\r\n      <Box sx={buttonsContainerStyle}>\r\n        <Button sx={buttonStyle} variant=\"outlined\" onClick={goBack}>\r\n          Cancel\r\n        </Button>\r\n        <Button\r\n          sx={buttonStyle}\r\n          variant=\"outlined\"\r\n          onClick={saveUser}\r\n          disabled={disabledSaveButton}\r\n        >\r\n          Save\r\n        </Button>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default UserForm;\r\n"]},"metadata":{},"sourceType":"module"}