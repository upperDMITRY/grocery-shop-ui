{"ast":null,"code":"var _jsxFileName = \"/Users/dcurchin/Desktop/final/grocery-shop-ui/src/pages/productDetails/ProductDetailsContainer.jsx\",\n    _s = $RefreshSig$();\n\nimport { useRef, useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useProduct } from '../../hooks/useProduct';\nimport { Box, useMediaQuery } from '@mui/material';\nimport GreenPageHeader from '../../components/common/GreenPageHeader';\nimport Spinner from '../../components/common/Spinner';\nimport ProductName from '../../components/productDetails/ProductName';\nimport ProductRating from '../../components/productDetails/ProductRating';\nimport ProductDescription from '../../components/productDetails/ProductDescription';\nimport ProductPrice from '../../components/productDetails/ProductPrice';\nimport ProductSize from '../../components/productDetails/ProductSize';\nimport ProductQuantity from '../../components/productDetails/ProductQuantity';\nimport ProductSubtotalPrice from '../../components/productDetails/ProductSubtotalPrice';\nimport AddToCartButton from '../../components/productDetails/AddToCartButton';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addItem } from '../../redux/slices/cartSlice';\nimport { addToCartRequest } from '../../helpers/addToCartRequest';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst productDetailsContainerStyle = {\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  minWidth: 320,\n  paddingLeft: {\n    xs: 4,\n    lg: 10\n  },\n  paddingRight: {\n    xs: 4,\n    lg: 10\n  },\n  paddingTop: {\n    xs: 5,\n    lg: 10\n  },\n  paddingBottom: {\n    xs: 5,\n    lg: 10\n  }\n};\n\nconst ProductDetailsContainer = () => {\n  _s();\n\n  const {\n    productId\n  } = useParams();\n  const maxWidth750 = useMediaQuery('(max-width:750px)');\n  const [quantity, setQuantity] = useState(1);\n  const [activeSize, setActiveSize] = useState(0);\n  const product = useProduct(productId);\n  const productDetailsContainerRef = useRef();\n  const dispatch = useDispatch();\n  const auth = useSelector(state => state.auth);\n  const cartItems = useSelector(state => state.cart.cartItems);\n  const {\n    token,\n    isAuth,\n    email\n  } = auth;\n  useEffect(() => {\n    var _productDetailsContai;\n\n    (_productDetailsContai = productDetailsContainerRef.current) === null || _productDetailsContai === void 0 ? void 0 : _productDetailsContai.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [product.data]);\n\n  if (product.isLoading) {\n    return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 12\n    }, this);\n  }\n\n  if (product.isError) {\n    return null;\n  }\n\n  const {\n    id,\n    image,\n    name,\n    rating,\n    description,\n    price,\n    sizes,\n    sizeType\n  } = product.data;\n\n  const handleDecreaseQuantity = e => {\n    if (quantity > 1) {\n      setQuantity(+(quantity - 1));\n    }\n\n    e.target.blur();\n  };\n\n  const handleIncreaseQuantity = e => {\n    if (quantity < 99) {\n      setQuantity(+(quantity + 1));\n    }\n\n    e.target.blur();\n  };\n\n  const handleQuantityChange = e => {\n    const number = +e.target.value;\n\n    if (number !== '') {\n      if (!Number.isNaN(number) && number > 0 && number < 100) {\n        setQuantity(number);\n      }\n    } else setQuantity('');\n  };\n\n  const handleSizeChange = index => {\n    setActiveSize(index);\n  };\n\n  const handleAddToCart = e => {\n    const product = {\n      productId: id,\n      name,\n      price,\n      sizeType,\n      size: sizes[activeSize],\n      quantity,\n      image\n    };\n    const match = cartItems.find(item => item.productId === id && item.size === product.size);\n    const index = cartItems.indexOf(match);\n\n    if (index > -1 && cartItems[index].quantity + product.quantity > 99) {\n      return;\n    } else {\n      dispatch(addItem(product));\n      addToCartRequest({\n        token,\n        isAuth,\n        productId: product.productId,\n        size: product.size,\n        quantity: product.quantity,\n        email\n      });\n    }\n\n    e.target.blur();\n  };\n\n  const columnStyle = {\n    display: 'flex',\n    width: maxWidth750 ? '100%' : 'calc(50% - 30px)',\n    flexDirection: 'column'\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(GreenPageHeader, {\n      title: \"Product\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      ref: productDetailsContainerRef,\n      sx: productDetailsContainerStyle,\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          flexWrap: 'wrap',\n          justifyContent: 'space-between',\n          maxWidth: 1100,\n          flexGrow: 1,\n          gap: '30px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: columnStyle,\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            component: \"img\",\n            src: image,\n            sx: {\n              width: '100%'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: columnStyle,\n          children: [/*#__PURE__*/_jsxDEV(ProductName, {\n            name: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ProductRating, {\n            rating: rating\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ProductDescription, {\n            description: description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ProductPrice, {\n            price: price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ProductSize, {\n            sizes: sizes,\n            activeSize: activeSize,\n            product: product.data,\n            handleSizeChange: handleSizeChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ProductQuantity, {\n            handleDecreaseQuantity: handleDecreaseQuantity,\n            handleIncreaseQuantity: handleIncreaseQuantity,\n            handleQuantityChange: handleQuantityChange,\n            quantity: quantity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ProductSubtotalPrice, {\n            price: price,\n            quantity: quantity,\n            sizes: sizes,\n            activeSize: activeSize\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(AddToCartButton, {\n            handleAddToCart: handleAddToCart,\n            disabled: !quantity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ProductDetailsContainer, \"vYe5DB4/4wv4nx0LQvIdZ9BM22Q=\", false, function () {\n  return [useParams, useMediaQuery, useProduct, useDispatch, useSelector, useSelector];\n});\n\n_c = ProductDetailsContainer;\nexport default ProductDetailsContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductDetailsContainer\");","map":{"version":3,"sources":["/Users/dcurchin/Desktop/final/grocery-shop-ui/src/pages/productDetails/ProductDetailsContainer.jsx"],"names":["useRef","useEffect","useState","useParams","useProduct","Box","useMediaQuery","GreenPageHeader","Spinner","ProductName","ProductRating","ProductDescription","ProductPrice","ProductSize","ProductQuantity","ProductSubtotalPrice","AddToCartButton","useDispatch","useSelector","addItem","addToCartRequest","productDetailsContainerStyle","display","justifyContent","alignItems","minWidth","paddingLeft","xs","lg","paddingRight","paddingTop","paddingBottom","ProductDetailsContainer","productId","maxWidth750","quantity","setQuantity","activeSize","setActiveSize","product","productDetailsContainerRef","dispatch","auth","state","cartItems","cart","token","isAuth","email","current","scrollIntoView","behavior","data","isLoading","isError","id","image","name","rating","description","price","sizes","sizeType","handleDecreaseQuantity","e","target","blur","handleIncreaseQuantity","handleQuantityChange","number","value","Number","isNaN","handleSizeChange","index","handleAddToCart","size","match","find","item","indexOf","columnStyle","width","flexDirection","flexWrap","maxWidth","flexGrow","gap"],"mappings":"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","sourcesContent":["import { useRef, useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useProduct } from '../../hooks/useProduct';\r\nimport { Box, useMediaQuery } from '@mui/material';\r\nimport GreenPageHeader from '../../components/common/GreenPageHeader';\r\nimport Spinner from '../../components/common/Spinner';\r\nimport ProductName from '../../components/productDetails/ProductName';\r\nimport ProductRating from '../../components/productDetails/ProductRating';\r\nimport ProductDescription from '../../components/productDetails/ProductDescription';\r\nimport ProductPrice from '../../components/productDetails/ProductPrice';\r\nimport ProductSize from '../../components/productDetails/ProductSize';\r\nimport ProductQuantity from '../../components/productDetails/ProductQuantity';\r\nimport ProductSubtotalPrice from '../../components/productDetails/ProductSubtotalPrice';\r\nimport AddToCartButton from '../../components/productDetails/AddToCartButton';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addItem } from '../../redux/slices/cartSlice';\r\nimport { addToCartRequest } from '../../helpers/addToCartRequest';\r\n\r\nconst productDetailsContainerStyle = {\r\n  display: 'flex',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n  minWidth: 320,\r\n  paddingLeft: { xs: 4, lg: 10 },\r\n  paddingRight: { xs: 4, lg: 10 },\r\n  paddingTop: { xs: 5, lg: 10 },\r\n  paddingBottom: { xs: 5, lg: 10 },\r\n};\r\n\r\nconst ProductDetailsContainer = () => {\r\n  const { productId } = useParams();\r\n\r\n  const maxWidth750 = useMediaQuery('(max-width:750px)');\r\n\r\n  const [quantity, setQuantity] = useState(1);\r\n\r\n  const [activeSize, setActiveSize] = useState(0);\r\n\r\n  const product = useProduct(productId);\r\n\r\n  const productDetailsContainerRef = useRef();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const auth = useSelector((state) => state.auth);\r\n  const cartItems = useSelector((state) => state.cart.cartItems);\r\n  const { token, isAuth, email } = auth;\r\n\r\n  useEffect(() => {\r\n    productDetailsContainerRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [product.data]);\r\n\r\n  if (product.isLoading) {\r\n    return <Spinner />;\r\n  }\r\n\r\n  if (product.isError) {\r\n    return null;\r\n  }\r\n\r\n  const { id, image, name, rating, description, price, sizes, sizeType } =\r\n    product.data;\r\n\r\n  const handleDecreaseQuantity = (e) => {\r\n    if (quantity > 1) {\r\n      setQuantity(+(quantity - 1));\r\n    }\r\n    e.target.blur();\r\n  };\r\n\r\n  const handleIncreaseQuantity = (e) => {\r\n    if (quantity < 99) {\r\n      setQuantity(+(quantity + 1));\r\n    }\r\n    e.target.blur();\r\n  };\r\n\r\n  const handleQuantityChange = (e) => {\r\n    const number = +e.target.value;\r\n    if (number !== '') {\r\n      if (!Number.isNaN(number) && number > 0 && number < 100) {\r\n        setQuantity(number);\r\n      }\r\n    } else setQuantity('');\r\n  };\r\n\r\n  const handleSizeChange = (index) => {\r\n    setActiveSize(index);\r\n  };\r\n\r\n  const handleAddToCart = (e) => {\r\n    const product = {\r\n      productId: id,\r\n      name,\r\n      price,\r\n      sizeType,\r\n      size: sizes[activeSize],\r\n      quantity,\r\n      image,\r\n    };\r\n\r\n    const match = cartItems.find(\r\n      (item) => item.productId === id && item.size === product.size\r\n    );\r\n    const index = cartItems.indexOf(match);\r\n    if (index > -1 && cartItems[index].quantity + product.quantity > 99) {\r\n      return;\r\n    } else {\r\n      dispatch(addItem(product));\r\n\r\n      addToCartRequest({\r\n        token,\r\n        isAuth,\r\n        productId: product.productId,\r\n        size: product.size,\r\n        quantity: product.quantity,\r\n        email,\r\n      });\r\n    }\r\n\r\n    e.target.blur();\r\n  };\r\n\r\n  const columnStyle = {\r\n    display: 'flex',\r\n    width: maxWidth750 ? '100%' : 'calc(50% - 30px)',\r\n    flexDirection: 'column',\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <GreenPageHeader title=\"Product\" />\r\n      <Box ref={productDetailsContainerRef} sx={productDetailsContainerStyle}>\r\n        <Box\r\n          sx={{\r\n            display: 'flex',\r\n            flexWrap: 'wrap',\r\n            justifyContent: 'space-between',\r\n            maxWidth: 1100,\r\n            flexGrow: 1,\r\n            gap: '30px',\r\n          }}\r\n        >\r\n          <Box sx={columnStyle}>\r\n            <Box component=\"img\" src={image} sx={{ width: '100%' }}></Box>\r\n          </Box>\r\n          <Box sx={columnStyle}>\r\n            <ProductName name={name} />\r\n\r\n            <ProductRating rating={rating} />\r\n\r\n            <ProductDescription description={description} />\r\n\r\n            <ProductPrice price={price} />\r\n\r\n            <ProductSize\r\n              sizes={sizes}\r\n              activeSize={activeSize}\r\n              product={product.data}\r\n              handleSizeChange={handleSizeChange}\r\n            />\r\n\r\n            <ProductQuantity\r\n              handleDecreaseQuantity={handleDecreaseQuantity}\r\n              handleIncreaseQuantity={handleIncreaseQuantity}\r\n              handleQuantityChange={handleQuantityChange}\r\n              quantity={quantity}\r\n            />\r\n\r\n            <ProductSubtotalPrice\r\n              price={price}\r\n              quantity={quantity}\r\n              sizes={sizes}\r\n              activeSize={activeSize}\r\n            />\r\n\r\n            <AddToCartButton\r\n              handleAddToCart={handleAddToCart}\r\n              disabled={!quantity}\r\n            />\r\n          </Box>\r\n        </Box>\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductDetailsContainer;\r\n"]},"metadata":{},"sourceType":"module"}