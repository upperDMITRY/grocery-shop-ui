{"ast":null,"code":"var _jsxFileName = \"/Users/dcurchin/Desktop/final/grocery-shop-ui/src/components/allProducts/ProductCard.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Box, Card, CardActions, CardContent, Skeleton, Rating } from '@mui/material';\nimport { addItem } from '../../redux/slices/cartSlice';\nimport { addToCartRequest } from '../../helpers/addToCartRequest';\nimport CommonButton from '../common/buttons/CommonButton';\nimport SizeButton from './SizeButton';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SIZE_TYPES = {\n  KILOS: 'kg',\n  PACKS: 'pcs'\n};\nconst cardStyle = {\n  minWidth: {\n    xs: 275,\n    sm: 336\n  },\n  width: {\n    xs: 275,\n    sm: 336\n  },\n  borderRadius: 2,\n  boxShadow: '0 5px 10px rgba(0,0,0,0.2)',\n  backgroundColor: 'grey'\n};\nconst cardContentStyle = {\n  display: 'flex',\n  flexDirection: 'column',\n  padding: {\n    xs: 1,\n    sm: 1.5\n  },\n  ':last-child': {\n    paddingBottom: {\n      xs: 1,\n      sm: 1.5\n    }\n  },\n  height: '100%'\n};\nconst nameStyle = {\n  typography: 'h5',\n  fontSize: '1.3rem',\n  fontWeight: 500,\n  wordBreak: 'break-word'\n};\nconst dollarSignStyle = {\n  fontSize: '1.2rem',\n  color: 'grey60.main',\n  display: 'inline'\n};\nconst priceStyle = {\n  fontSize: '1.4rem',\n  marginLeft: '2px',\n  fontWeight: 600,\n  color: 'primary.main',\n  display: 'inline'\n};\nconst ratingContainerStyle = {\n  marginTop: {\n    xs: 0.5,\n    sm: 1.5\n  },\n  display: 'flex',\n  alignItems: 'center'\n};\nconst ratingStarsStyle = {\n  color: 'grey60.main',\n  fontSize: {\n    xs: '16px',\n    sm: '17px'\n  }\n};\nconst ratingStyle = {\n  display: 'inline',\n  marginLeft: '8px',\n  fontSize: '1rem',\n  fontWeight: 600\n};\nconst sizeTypesContainerStyle = {\n  display: 'flex',\n  gap: 1,\n  marginTop: {\n    xs: 1,\n    sm: 2\n  },\n  flexWrap: 'wrap'\n};\nconst sizeTypeTextStyle = {\n  display: 'inline',\n  textTransform: 'capitalize',\n  fontSize: '1rem'\n};\nconst imageContainerStyle = {\n  overflow: 'hidden',\n  borderRadius: 1,\n  position: 'relative',\n  padding: 0,\n  margin: 0,\n  height: {\n    xs: 100,\n    sm: 150\n  }\n};\nconst imageSkeletonStyle = {\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  width: {\n    xs: 100,\n    sm: 150\n  },\n  height: {\n    xs: 100,\n    sm: 150\n  }\n};\nconst imageStyle = {\n  width: {\n    xs: 100,\n    sm: 150\n  },\n  marginRight: 0,\n  position: 'relative'\n};\nconst descriptionStyle = {\n  typography: 'body2',\n  marginTop: {\n    xs: 2.5,\n    sm: 2\n  }\n};\nconst textWithButtonContainer = {\n  display: 'flex',\n  flexGrow: 1,\n  flexDirection: 'column',\n  justifyContent: 'space-between'\n};\nconst cardActionsStyle = {\n  display: 'flex',\n  gap: 2,\n  padding: 0,\n  paddingBottom: 1,\n  marginTop: 3,\n  '& a': {\n    textDecoration: 'none'\n  }\n};\n\nconst ProductCard = ({\n  product,\n  numberOfElements\n}) => {\n  _s();\n\n  const [imageLoaded, setImageLoaded] = useState(false);\n  const {\n    id,\n    image,\n    name,\n    description,\n    price,\n    rating,\n    sizeType,\n    sizes\n  } = product;\n  const cartItems = useSelector(state => state.cart.cartItems);\n  const auth = useSelector(state => state.auth);\n  const {\n    token,\n    isAuth,\n    email\n  } = auth;\n  const [active, setActive] = useState(0);\n  const dispatch = useDispatch();\n\n  const addToCartClickHandler = e => {\n    const product = {\n      productId: id,\n      name,\n      price,\n      image,\n      sizeType,\n      size: sizes[active],\n      quantity: 1\n    };\n    const match = cartItems.find(item => item.productId === id && item.size === product.size);\n    const index = cartItems.indexOf(match);\n\n    if (index > -1 && cartItems[index].quantity > 98) {\n      return;\n    } else {\n      dispatch(addItem(product));\n      addToCartRequest({\n        token,\n        isAuth,\n        productId: product.productId,\n        size: product.size,\n        quantity: product.quantity,\n        email\n      });\n    }\n\n    e.target.blur();\n  };\n\n  const sizeClickHandle = index => {\n    setActive(index);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    sx: cardStyle,\n    children: /*#__PURE__*/_jsxDEV(CardContent, {\n      sx: cardContentStyle,\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: `/products/${id}`,\n        style: {\n          textDecoration: 'none',\n          color: '#000'\n        },\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: nameStyle,\n          children: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: textWithButtonContainer,\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                typography: 'body2'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  marginTop: 2\n                },\n                children: [/*#__PURE__*/_jsxDEV(Box, {\n                  sx: dollarSignStyle,\n                  children: \"MLD\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  sx: priceStyle,\n                  children: price\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: ratingContainerStyle,\n                children: [/*#__PURE__*/_jsxDEV(Rating, {\n                  readOnly: true,\n                  value: rating,\n                  precision: 0.1,\n                  sx: ratingStarsStyle\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 19\n                }, this), rating === 0 ? null : /*#__PURE__*/_jsxDEV(Box, {\n                  sx: ratingStyle,\n                  children: rating\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 42\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                children: /*#__PURE__*/_jsxDEV(Box, {\n                  sx: sizeTypesContainerStyle,\n                  children: [sizes.map((size, index) => /*#__PURE__*/_jsxDEV(SizeButton, {\n                    index: index,\n                    active: index === active ? true : false,\n                    size: size,\n                    onClick: sizeClickHandle\n                  }, size, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 215,\n                    columnNumber: 23\n                  }, this)), /*#__PURE__*/_jsxDEV(Box, {\n                    sx: sizeTypeTextStyle,\n                    children: SIZE_TYPES[sizeType]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: imageContainerStyle,\n          children: [!imageLoaded && /*#__PURE__*/_jsxDEV(Skeleton, {\n            sx: imageSkeletonStyle,\n            animation: \"wave\",\n            variant: \"rectangular\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: `/products/${id}`,\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              component: \"img\",\n              sx: imageStyle,\n              alt: name,\n              src: image,\n              onLoad: () => setImageLoaded(true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: descriptionStyle,\n        children: description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n        sx: cardActionsStyle,\n        children: /*#__PURE__*/_jsxDEV(CommonButton, {\n          padding: \"10px 35px\",\n          onClick: addToCartClickHandler,\n          children: \"Add to Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 187,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProductCard, \"vS7Uo5kBShLmrFB+Wb2m3uW+u5I=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n\n_c = ProductCard;\nexport default ProductCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductCard\");","map":{"version":3,"sources":["/Users/dcurchin/Desktop/final/grocery-shop-ui/src/components/allProducts/ProductCard.jsx"],"names":["useState","Link","useDispatch","useSelector","Box","Card","CardActions","CardContent","Skeleton","Rating","addItem","addToCartRequest","CommonButton","SizeButton","SIZE_TYPES","KILOS","PACKS","cardStyle","minWidth","xs","sm","width","borderRadius","boxShadow","backgroundColor","cardContentStyle","display","flexDirection","padding","paddingBottom","height","nameStyle","typography","fontSize","fontWeight","wordBreak","dollarSignStyle","color","priceStyle","marginLeft","ratingContainerStyle","marginTop","alignItems","ratingStarsStyle","ratingStyle","sizeTypesContainerStyle","gap","flexWrap","sizeTypeTextStyle","textTransform","imageContainerStyle","overflow","position","margin","imageSkeletonStyle","top","left","imageStyle","marginRight","descriptionStyle","textWithButtonContainer","flexGrow","justifyContent","cardActionsStyle","textDecoration","ProductCard","product","numberOfElements","imageLoaded","setImageLoaded","id","image","name","description","price","rating","sizeType","sizes","cartItems","state","cart","auth","token","isAuth","email","active","setActive","dispatch","addToCartClickHandler","e","productId","size","quantity","match","find","item","index","indexOf","target","blur","sizeClickHandle","map"],"mappings":"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","sourcesContent":["import { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  Box,\n  Card,\n  CardActions,\n  CardContent,\n  Skeleton,\n  Rating,\n} from '@mui/material';\nimport { addItem } from '../../redux/slices/cartSlice';\nimport { addToCartRequest } from '../../helpers/addToCartRequest';\nimport CommonButton from '../common/buttons/CommonButton';\nimport SizeButton from './SizeButton';\n\nconst SIZE_TYPES = {\n  KILOS: 'kg',\n  PACKS: 'pcs',\n};\n\nconst cardStyle = {\n  minWidth: { xs: 275, sm: 336 },\n  width: { xs: 275, sm: 336 },\n  borderRadius: 2,\n  boxShadow: '0 5px 10px rgba(0,0,0,0.2)',\n  backgroundColor: 'grey',\n};\n\nconst cardContentStyle = {\n  display: 'flex',\n  flexDirection: 'column',\n  padding: { xs: 1, sm: 1.5 },\n  ':last-child': { paddingBottom: { xs: 1, sm: 1.5 } },\n  height: '100%',\n};\n\nconst nameStyle = {\n  typography: 'h5',\n  fontSize: '1.3rem',\n  fontWeight: 500,\n  wordBreak: 'break-word',\n};\n\nconst dollarSignStyle = {\n  fontSize: '1.2rem',\n  color: 'grey60.main',\n  display: 'inline',\n};\n\nconst priceStyle = {\n  fontSize: '1.4rem',\n  marginLeft: '2px',\n  fontWeight: 600,\n  color: 'primary.main',\n  display: 'inline',\n};\n\nconst ratingContainerStyle = {\n  marginTop: { xs: 0.5, sm: 1.5 },\n  display: 'flex',\n  alignItems: 'center',\n};\n\nconst ratingStarsStyle = {\n  color: 'grey60.main',\n  fontSize: { xs: '16px', sm: '17px' },\n};\n\nconst ratingStyle = {\n  display: 'inline',\n  marginLeft: '8px',\n  fontSize: '1rem',\n  fontWeight: 600,\n};\n\nconst sizeTypesContainerStyle = {\n  display: 'flex',\n  gap: 1,\n  marginTop: { xs: 1, sm: 2 },\n  flexWrap: 'wrap',\n};\n\nconst sizeTypeTextStyle = {\n  display: 'inline',\n  textTransform: 'capitalize',\n  fontSize: '1rem',\n};\n\nconst imageContainerStyle = {\n  overflow: 'hidden',\n  borderRadius: 1,\n  position: 'relative',\n  padding: 0,\n  margin: 0,\n  height: { xs: 100, sm: 150 },\n};\n\nconst imageSkeletonStyle = {\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  width: { xs: 100, sm: 150 },\n  height: { xs: 100, sm: 150 },\n};\n\nconst imageStyle = {\n  width: { xs: 100, sm: 150 },\n  marginRight: 0,\n  position: 'relative',\n};\n\nconst descriptionStyle = {\n  typography: 'body2',\n  marginTop: { xs: 2.5, sm: 2 },\n};\n\nconst textWithButtonContainer = {\n  display: 'flex',\n  flexGrow: 1,\n  flexDirection: 'column',\n  justifyContent: 'space-between',\n};\n\nconst cardActionsStyle = {\n  display: 'flex',\n  gap: 2,\n  padding: 0,\n  paddingBottom: 1,\n  marginTop: 3,\n  '& a': {\n    textDecoration: 'none',\n  },\n};\n\nconst ProductCard = ({ product, numberOfElements }) => {\n  const [imageLoaded, setImageLoaded] = useState(false);\n  const { id, image, name, description, price, rating, sizeType, sizes } =\n    product;\n\n  const cartItems = useSelector((state) => state.cart.cartItems);\n  const auth = useSelector((state) => state.auth);\n  const { token, isAuth, email } = auth;\n\n  const [active, setActive] = useState(0);\n\n  const dispatch = useDispatch();\n\n  const addToCartClickHandler = (e) => {\n    const product = {\n      productId: id,\n      name,\n      price,\n      image,\n      sizeType,\n      size: sizes[active],\n      quantity: 1,\n    };\n\n    const match = cartItems.find(\n      (item) => item.productId === id && item.size === product.size\n    );\n    const index = cartItems.indexOf(match);\n    if (index > -1 && cartItems[index].quantity > 98) {\n      return;\n    } else {\n      dispatch(addItem(product));\n\n      addToCartRequest({\n        token,\n        isAuth,\n        productId: product.productId,\n        size: product.size,\n        quantity: product.quantity,\n        email,\n      });\n    }\n\n    e.target.blur();\n  };\n\n  const sizeClickHandle = (index) => {\n    setActive(index);\n  };\n\n  return (\n    <Card sx={cardStyle}>\n      <CardContent sx={cardContentStyle}>\n        <Link\n          to={`/products/${id}`}\n          style={{ textDecoration: 'none', color: '#000' }}\n        >\n          <Box sx={nameStyle}>{name}</Box>\n        </Link>\n        <Box sx={{ display: 'flex' }}>\n          <Box sx={textWithButtonContainer}>\n            <Box>\n              <Box sx={{ typography: 'body2' }}>\n                <Box sx={{ marginTop: 2 }}>\n                  <Box sx={dollarSignStyle}>MLD</Box>\n                  <Box sx={priceStyle}>{price}</Box>\n                </Box>\n                <Box sx={ratingContainerStyle}>\n                  <Rating\n                    readOnly\n                    value={rating}\n                    precision={0.1}\n                    sx={ratingStarsStyle}\n                  />\n                  {rating === 0 ? null : <Box sx={ratingStyle}>{rating}</Box>}\n                </Box>\n                <Box>\n                  <Box sx={sizeTypesContainerStyle}>\n                    {sizes.map((size, index) => (\n                      <SizeButton\n                        key={size}\n                        index={index}\n                        active={index === active ? true : false}\n                        size={size}\n                        onClick={sizeClickHandle}\n                      />\n                    ))}\n                    <Box sx={sizeTypeTextStyle}>{SIZE_TYPES[sizeType]}</Box>\n                  </Box>\n                </Box>\n              </Box>\n            </Box>\n          </Box>\n          <Box sx={imageContainerStyle}>\n            {!imageLoaded && (\n              <Skeleton\n                sx={imageSkeletonStyle}\n                animation=\"wave\"\n                variant=\"rectangular\"\n              />\n            )}\n            <Link to={`/products/${id}`}>\n              <Box\n                component=\"img\"\n                sx={imageStyle}\n                alt={name}\n                src={image}\n                onLoad={() => setImageLoaded(true)}\n              />\n            </Link>\n          </Box>\n        </Box>\n\n        <Box sx={descriptionStyle}>{description}</Box>\n\n        <CardActions sx={cardActionsStyle}>\n          <CommonButton padding=\"10px 35px\" onClick={addToCartClickHandler}>\n            Add to Cart\n          </CommonButton>\n        </CardActions>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default ProductCard;\n"]},"metadata":{},"sourceType":"module"}