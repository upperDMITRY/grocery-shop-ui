{"ast":null,"code":"import _slicedToArray from\"/Users/dcurchin/Desktop/final/grocery-shop-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Box from'@mui/system/Box';import{Card,CardActions,CardContent,CardMedia,Rating,Typography}from'@mui/material';import KgButton from'./KgButton';import CommonButton from'../../common/buttons/CommonButton';import{Link}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{addItem}from'../../../redux/slices/cartSlice';import{useState}from'react';import{addToCartRequest}from'../../../helpers/addToCartRequest';//Components style setup\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var cardSx={height:'100%',padding:'20px 10px',borderRadius:'10px',display:'flex',justifyContent:'center','&:hover':{borderColor:'primary.main'}};var cardContentSx={display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'space-between',padding:0,'&:last-child':{paddingBottom:0}};var boxSx={display:'flex',flexDirection:'column',alignItems:'center'};var kgBoxSx={marginTop:'20px',display:'flex',justifyContent:'center',gap:'15px'};var cardNameSx={fontSize:'1.5rem',fontWeight:600,letterSpacing:'1px',marginTop:'10px',textAlign:'center'};var ratingSx={color:'black',fontSize:'18px',marginTop:'10px',marginBottom:'10px'};var cardPriceSx={fontSize:'1.5rem',fontWeight:600,letterSpacing:'1px'};var MostPopularProduct=function MostPopularProduct(_ref){var productItem=_ref.productItem;var auth=useSelector(function(state){return state.auth;});var cartItems=useSelector(function(state){return state.cart.cartItems;});var token=auth.token,isAuth=auth.isAuth,email=auth.email;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),active=_useState2[0],setActive=_useState2[1];var dispatch=useDispatch();var id=productItem.id,name=productItem.name,price=productItem.price,image=productItem.image,sizeType=productItem.sizeType,sizes=productItem.sizes;var addToCartClickHandler=function addToCartClickHandler(e){var product={productId:id,name:name,price:price,image:image,sizeType:sizeType,size:sizes[active],quantity:1};var match=cartItems.find(function(item){return item.productId===id&&item.size===product.size;});var index=cartItems.indexOf(match);if(index>-1&&cartItems[index].quantity>98){return;}else{dispatch(addItem(product));addToCartRequest({token:token,isAuth:isAuth,productId:product.productId,size:product.size,quantity:product.quantity,email:email});}e.target.blur();};var sizeClickHandle=function sizeClickHandle(index){setActive(index);};return/*#__PURE__*/_jsx(Card,{variant:\"outlined\",sx:cardSx,children:/*#__PURE__*/_jsxs(CardContent,{sx:cardContentSx,children:[/*#__PURE__*/_jsxs(Box,{sx:boxSx,children:[/*#__PURE__*/_jsx(Link,{to:\"/products/\".concat(productItem.id),children:/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(CardMedia,{component:\"img\",width:\"100%\",image:productItem.image,alt:\"product\",sx:{':hover':{cursor:'pointer'}}})})}),/*#__PURE__*/_jsx(Box,{sx:kgBoxSx,children:productItem.sizes.map(function(item,index){return/*#__PURE__*/_jsx(KgButton,{index:index,active:index===active?true:false,units:productItem.sizeType==='KILOS'?'kg':'pcs',value:item,onClick:sizeClickHandle},index);})}),/*#__PURE__*/_jsx(Typography,{sx:cardNameSx,children:productItem.name})]}),/*#__PURE__*/_jsxs(Box,{sx:boxSx,children:[/*#__PURE__*/_jsx(Rating,{name:\"half-rating-read\",readOnly:true,value:productItem.rating,precision:0.1,sx:ratingSx}),/*#__PURE__*/_jsx(Typography,{color:\"primary\",sx:cardPriceSx,children:\"$\".concat(productItem.price.toFixed(2))}),/*#__PURE__*/_jsx(CardActions,{sx:{marginTop:'10px'},children:/*#__PURE__*/_jsx(CommonButton,{padding:\"10px 35px\",onClick:addToCartClickHandler,children:'Add to Cart'})})]})]})});};export default MostPopularProduct;","map":{"version":3,"sources":["/Users/dcurchin/Desktop/final/grocery-shop-ui/src/components/home/mostPopularProducts/MostPopularProduct.jsx"],"names":["Box","Card","CardActions","CardContent","CardMedia","Rating","Typography","KgButton","CommonButton","Link","useDispatch","useSelector","addItem","useState","addToCartRequest","cardSx","height","padding","borderRadius","display","justifyContent","borderColor","cardContentSx","flexDirection","alignItems","paddingBottom","boxSx","kgBoxSx","marginTop","gap","cardNameSx","fontSize","fontWeight","letterSpacing","textAlign","ratingSx","color","marginBottom","cardPriceSx","MostPopularProduct","productItem","auth","state","cartItems","cart","token","isAuth","email","active","setActive","dispatch","id","name","price","image","sizeType","sizes","addToCartClickHandler","e","product","productId","size","quantity","match","find","item","index","indexOf","target","blur","sizeClickHandle","cursor","map","rating","toFixed"],"mappings":"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","sourcesContent":["import Box from '@mui/system/Box';\r\nimport {\r\n  Card,\r\n  CardActions,\r\n  CardContent,\r\n  CardMedia,\r\n  Rating,\r\n  Typography,\r\n} from '@mui/material';\r\nimport KgButton from './KgButton';\r\nimport CommonButton from '../../common/buttons/CommonButton';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addItem } from '../../../redux/slices/cartSlice';\r\nimport { useState } from 'react';\r\nimport { addToCartRequest } from '../../../helpers/addToCartRequest';\r\n\r\n//Components style setup\r\nconst cardSx = {\r\n  height: '100%',\r\n  padding: '20px 10px',\r\n  borderRadius: '10px',\r\n  display: 'flex',\r\n  justifyContent: 'center',\r\n  '&:hover': {\r\n    borderColor: 'primary.main',\r\n  },\r\n};\r\n\r\nconst cardContentSx = {\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  alignItems: 'center',\r\n  justifyContent: 'space-between',\r\n  padding: 0,\r\n  '&:last-child': {\r\n    paddingBottom: 0,\r\n  },\r\n};\r\n\r\nconst boxSx = {\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  alignItems: 'center',\r\n};\r\n\r\nconst kgBoxSx = {\r\n  marginTop: '20px',\r\n  display: 'flex',\r\n  justifyContent: 'center',\r\n  gap: '15px',\r\n};\r\n\r\nconst cardNameSx = {\r\n  fontSize: '1.5rem',\r\n  fontWeight: 600,\r\n  letterSpacing: '1px',\r\n  marginTop: '10px',\r\n  textAlign: 'center',\r\n};\r\n\r\nconst ratingSx = {\r\n  color: 'black',\r\n  fontSize: '18px',\r\n  marginTop: '10px',\r\n  marginBottom: '10px',\r\n};\r\n\r\nconst cardPriceSx = {\r\n  fontSize: '1.5rem',\r\n  fontWeight: 600,\r\n  letterSpacing: '1px',\r\n};\r\n\r\nconst MostPopularProduct = ({ productItem }) => {\r\n  const auth = useSelector((state) => state.auth);\r\n  const cartItems = useSelector((state) => state.cart.cartItems);\r\n  const { token, isAuth, email } = auth;\r\n\r\n  const [active, setActive] = useState(0);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const { id, name, price, image, sizeType, sizes } = productItem;\r\n\r\n  const addToCartClickHandler = (e) => {\r\n    const product = {\r\n      productId: id,\r\n      name,\r\n      price,\r\n      image,\r\n      sizeType,\r\n      size: sizes[active],\r\n      quantity: 1,\r\n    };\r\n\r\n    const match = cartItems.find(\r\n      (item) => item.productId === id && item.size === product.size\r\n    );\r\n    const index = cartItems.indexOf(match);\r\n    if (index > -1 && cartItems[index].quantity > 98) {\r\n      return;\r\n    } else {\r\n      dispatch(addItem(product));\r\n\r\n      addToCartRequest({\r\n        token,\r\n        isAuth,\r\n        productId: product.productId,\r\n        size: product.size,\r\n        quantity: product.quantity,\r\n        email,\r\n      });\r\n    }\r\n\r\n    e.target.blur();\r\n  };\r\n\r\n  const sizeClickHandle = (index) => {\r\n    setActive(index);\r\n  };\r\n\r\n  return (\r\n    <Card variant=\"outlined\" sx={cardSx}>\r\n      <CardContent sx={cardContentSx}>\r\n        <Box sx={boxSx}>\r\n          <Link to={`/products/${productItem.id}`}>\r\n            <Box>\r\n              <CardMedia\r\n                component=\"img\"\r\n                width=\"100%\"\r\n                image={productItem.image}\r\n                alt=\"product\"\r\n                sx={{ ':hover': { cursor: 'pointer' } }}\r\n              />\r\n            </Box>\r\n          </Link>\r\n          <Box sx={kgBoxSx}>\r\n            {productItem.sizes.map((item, index) => (\r\n              <KgButton\r\n                index={index}\r\n                active={index === active ? true : false}\r\n                key={index}\r\n                units={productItem.sizeType === 'KILOS' ? 'kg' : 'pcs'}\r\n                value={item}\r\n                onClick={sizeClickHandle}\r\n              />\r\n            ))}\r\n          </Box>\r\n          <Typography sx={cardNameSx}>{productItem.name}</Typography>\r\n        </Box>\r\n        <Box sx={boxSx}>\r\n          <Rating\r\n            name=\"half-rating-read\"\r\n            readOnly\r\n            value={productItem.rating}\r\n            precision={0.1}\r\n            sx={ratingSx}\r\n          />\r\n          <Typography color=\"primary\" sx={cardPriceSx}>\r\n            {`$${productItem.price.toFixed(2)}`}\r\n          </Typography>\r\n          <CardActions sx={{ marginTop: '10px' }}>\r\n            <CommonButton padding=\"10px 35px\" onClick={addToCartClickHandler}>\r\n              {'Add to Cart'}\r\n            </CommonButton>\r\n          </CardActions>\r\n        </Box>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default MostPopularProduct;\r\n"]},"metadata":{},"sourceType":"module"}