{"ast":null,"code":"var _jsxFileName = \"/Users/dcurchin/Desktop/final/grocery-shop-ui/src/components/cartItem/CartItem.jsx\",\n    _s = $RefreshSig$();\n\nimport { Box } from '@mui/system';\nimport ProductQuantity from './ProductQuantity';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { deleteItem, addItem } from '../../redux/slices/cartSlice';\nimport ProductImage from './ProductImage';\nimport ProductName from './ProductName';\nimport ProductSize from './ProductSize';\nimport ProductPrice from './ProductPrice';\nimport ProductTotalPrice from './ProductTotalPrice';\nimport { addToCartRequest } from '../../helpers/addToCartRequest';\nimport { deleteFromCartRequest } from '../../helpers/deleteFromCartRequest';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cartStyle = {\n  display: 'flex',\n  alignItems: 'flex-start',\n  paddingBottom: '20px',\n  borderBottom: '1px solid #dadada',\n  '@media (max-width: 750px)': {\n    display: 'block',\n    textAlign: 'center',\n    fontSize: '20px'\n  }\n};\nconst cardRightSide = {\n  display: 'flex',\n  flexDirection: 'column',\n  marginLeft: '30px',\n  gap: '1.1em',\n  alignItems: 'flex-start',\n  '@media (max-width: 750px)': {\n    paddingTop: '20px',\n    fontSize: '20px',\n    alignItems: 'center'\n  }\n};\n\nconst CartItem = ({\n  cartItem\n}) => {\n  _s();\n\n  const dispatch = useDispatch();\n  const auth = useSelector(state => state.auth);\n  const {\n    token,\n    isAuth,\n    email\n  } = auth;\n  const {\n    image,\n    name,\n    price,\n    productId,\n    quantity,\n    size,\n    sizeType\n  } = cartItem;\n\n  const deleteCartItemHandle = () => {\n    dispatch(deleteItem({\n      productId,\n      size\n    }));\n    deleteFromCartRequest({\n      token,\n      isAuth,\n      email,\n      productId,\n      size,\n      quantity\n    });\n  };\n\n  const product = {\n    productId,\n    name,\n    price,\n    quantity: 0,\n    size,\n    sizeType,\n    image\n  };\n\n  const handleIncreaseQuantity = e => {\n    if (quantity < 99) {\n      product.quantity += 1;\n      dispatch(addItem(product));\n      addToCartRequest({\n        token,\n        isAuth,\n        email,\n        productId,\n        size,\n        quantity: 1\n      });\n    }\n\n    e.target.blur();\n  };\n\n  const handleDecreaseQuantity = e => {\n    if (quantity > 1) {\n      product.quantity -= 1;\n      dispatch(addItem(product));\n      deleteFromCartRequest({\n        token,\n        isAuth,\n        email,\n        productId,\n        size,\n        quantity: 1\n      });\n    }\n\n    e.target.blur();\n  };\n\n  const handleQuantityChange = e => {\n    let number = e.target.value;\n\n    if (number === '') {\n      number = 1;\n    }\n\n    if (!Number.isNaN(+number) && +number > 0 && +number < 100) {\n      product.quantity = +number - cartItem.quantity;\n      dispatch(addItem(product));\n\n      if (product.quantity > 0) {\n        addToCartRequest({\n          token,\n          isAuth,\n          email,\n          productId,\n          size,\n          quantity: product.quantity\n        });\n      }\n\n      if (product.quantity < 0) {\n        deleteFromCartRequest({\n          token,\n          isAuth,\n          email,\n          productId,\n          size,\n          quantity: -product.quantity\n        });\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: cartStyle,\n      id: `viewCart_cartItem_${productId}_${size}`,\n      children: [/*#__PURE__*/_jsxDEV(ProductImage, {\n        productId: productId,\n        name: name,\n        image: image,\n        deleteCartItemHandle: deleteCartItemHandle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: cardRightSide,\n        children: [/*#__PURE__*/_jsxDEV(ProductName, {\n          productId: productId,\n          name: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProductSize, {\n          size: size,\n          sizeType: sizeType\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProductPrice, {\n          price: price\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProductQuantity, {\n          handleDecreaseQuantity: handleDecreaseQuantity,\n          handleIncreaseQuantity: handleIncreaseQuantity,\n          handleQuantityChange: handleQuantityChange,\n          quantity: quantity\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ProductTotalPrice, {\n          price: price,\n          size: size,\n          quantity: quantity\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CartItem, \"YoL3MY/DTxNXge8Ee1pCe8WXBhQ=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = CartItem;\nexport default CartItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartItem\");","map":{"version":3,"sources":["/Users/dcurchin/Desktop/final/grocery-shop-ui/src/components/cartItem/CartItem.jsx"],"names":["Box","ProductQuantity","useDispatch","useSelector","deleteItem","addItem","ProductImage","ProductName","ProductSize","ProductPrice","ProductTotalPrice","addToCartRequest","deleteFromCartRequest","cartStyle","display","alignItems","paddingBottom","borderBottom","textAlign","fontSize","cardRightSide","flexDirection","marginLeft","gap","paddingTop","CartItem","cartItem","dispatch","auth","state","token","isAuth","email","image","name","price","productId","quantity","size","sizeType","deleteCartItemHandle","product","handleIncreaseQuantity","e","target","blur","handleDecreaseQuantity","handleQuantityChange","number","value","Number","isNaN"],"mappings":"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","sourcesContent":["import { Box } from '@mui/system';\r\nimport ProductQuantity from './ProductQuantity';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { deleteItem, addItem } from '../../redux/slices/cartSlice';\r\nimport ProductImage from './ProductImage';\r\nimport ProductName from './ProductName';\r\nimport ProductSize from './ProductSize';\r\nimport ProductPrice from './ProductPrice';\r\nimport ProductTotalPrice from './ProductTotalPrice';\r\nimport { addToCartRequest } from '../../helpers/addToCartRequest';\r\nimport { deleteFromCartRequest } from '../../helpers/deleteFromCartRequest';\r\n\r\nconst cartStyle = {\r\n  display: 'flex',\r\n  alignItems: 'flex-start',\r\n  paddingBottom: '20px',\r\n  borderBottom: '1px solid #dadada',\r\n  '@media (max-width: 750px)': {\r\n    display: 'block',\r\n    textAlign: 'center',\r\n    fontSize: '20px',\r\n  },\r\n};\r\n\r\nconst cardRightSide = {\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  marginLeft: '30px',\r\n  gap: '1.1em',\r\n  alignItems: 'flex-start',\r\n  '@media (max-width: 750px)': {\r\n    paddingTop: '20px',\r\n    fontSize: '20px',\r\n    alignItems: 'center',\r\n  },\r\n};\r\n\r\nconst CartItem = ({ cartItem }) => {\r\n  const dispatch = useDispatch();\r\n  const auth = useSelector((state) => state.auth);\r\n  const { token, isAuth, email } = auth;\r\n\r\n  const { image, name, price, productId, quantity, size, sizeType } = cartItem;\r\n\r\n  const deleteCartItemHandle = () => {\r\n    dispatch(deleteItem({ productId, size }));\r\n    deleteFromCartRequest({\r\n      token,\r\n      isAuth,\r\n      email,\r\n      productId,\r\n      size,\r\n      quantity,\r\n    });\r\n  };\r\n\r\n  const product = {\r\n    productId,\r\n    name,\r\n    price,\r\n    quantity: 0,\r\n    size,\r\n    sizeType,\r\n    image,\r\n  };\r\n\r\n  const handleIncreaseQuantity = (e) => {\r\n    if (quantity < 99) {\r\n      product.quantity += 1;\r\n      dispatch(addItem(product));\r\n      addToCartRequest({\r\n        token,\r\n        isAuth,\r\n        email,\r\n        productId,\r\n        size,\r\n        quantity: 1,\r\n      });\r\n    }\r\n    e.target.blur();\r\n  };\r\n\r\n  const handleDecreaseQuantity = (e) => {\r\n    if (quantity > 1) {\r\n      product.quantity -= 1;\r\n      dispatch(addItem(product));\r\n      deleteFromCartRequest({\r\n        token,\r\n        isAuth,\r\n        email,\r\n        productId,\r\n        size,\r\n        quantity: 1,\r\n      });\r\n    }\r\n    e.target.blur();\r\n  };\r\n\r\n  const handleQuantityChange = (e) => {\r\n    let number = e.target.value;\r\n    if (number === '') {\r\n      number = 1;\r\n    }\r\n\r\n    if (!Number.isNaN(+number) && +number > 0 && +number < 100) {\r\n      product.quantity = +number - cartItem.quantity;\r\n      dispatch(addItem(product));\r\n      if (product.quantity > 0) {\r\n        addToCartRequest({\r\n          token,\r\n          isAuth,\r\n          email,\r\n          productId,\r\n          size,\r\n          quantity: product.quantity,\r\n        });\r\n      }\r\n      if (product.quantity < 0) {\r\n        deleteFromCartRequest({\r\n          token,\r\n          isAuth,\r\n          email,\r\n          productId,\r\n          size,\r\n          quantity: -product.quantity,\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Box sx={cartStyle} id={`viewCart_cartItem_${productId}_${size}`}>\r\n        <ProductImage\r\n          productId={productId}\r\n          name={name}\r\n          image={image}\r\n          deleteCartItemHandle={deleteCartItemHandle}\r\n        />\r\n        <Box sx={cardRightSide}>\r\n          <ProductName productId={productId} name={name} />\r\n          <ProductSize size={size} sizeType={sizeType} />\r\n          <ProductPrice price={price} />\r\n          <ProductQuantity\r\n            handleDecreaseQuantity={handleDecreaseQuantity}\r\n            handleIncreaseQuantity={handleIncreaseQuantity}\r\n            handleQuantityChange={handleQuantityChange}\r\n            quantity={quantity}\r\n          />\r\n          <ProductTotalPrice price={price} size={size} quantity={quantity} />\r\n        </Box>\r\n      </Box>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CartItem;\r\n"]},"metadata":{},"sourceType":"module"}