{"ast":null,"code":"import{Box}from'@mui/system';import ProductQuantity from'./ProductQuantity';import{useDispatch,useSelector}from'react-redux';import{deleteItem,addItem}from'../../redux/slices/cartSlice';import ProductImage from'./ProductImage';import ProductName from'./ProductName';import ProductSize from'./ProductSize';import ProductPrice from'./ProductPrice';import ProductTotalPrice from'./ProductTotalPrice';import{addToCartRequest}from'../../helpers/addToCartRequest';import{deleteFromCartRequest}from'../../helpers/deleteFromCartRequest';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var cartStyle={display:'flex',alignItems:'flex-start',paddingBottom:'20px',borderBottom:'1px solid #dadada','@media (max-width: 750px)':{display:'block',textAlign:'center',fontSize:'20px'}};var cardRightSide={display:'flex',flexDirection:'column',marginLeft:'30px',gap:'1.1em',alignItems:'flex-start','@media (max-width: 750px)':{paddingTop:'20px',fontSize:'20px',alignItems:'center'}};var CartItem=function CartItem(_ref){var cartItem=_ref.cartItem;var dispatch=useDispatch();var auth=useSelector(function(state){return state.auth;});var token=auth.token,isAuth=auth.isAuth,email=auth.email;var image=cartItem.image,name=cartItem.name,price=cartItem.price,productId=cartItem.productId,quantity=cartItem.quantity,size=cartItem.size,sizeType=cartItem.sizeType;var deleteCartItemHandle=function deleteCartItemHandle(){dispatch(deleteItem({productId:productId,size:size}));deleteFromCartRequest({token:token,isAuth:isAuth,email:email,productId:productId,size:size,quantity:quantity});};var product={productId:productId,name:name,price:price,quantity:0,size:size,sizeType:sizeType,image:image};var handleIncreaseQuantity=function handleIncreaseQuantity(e){if(quantity<99){product.quantity+=1;dispatch(addItem(product));addToCartRequest({token:token,isAuth:isAuth,email:email,productId:productId,size:size,quantity:1});}e.target.blur();};var handleDecreaseQuantity=function handleDecreaseQuantity(e){if(quantity>1){product.quantity-=1;dispatch(addItem(product));deleteFromCartRequest({token:token,isAuth:isAuth,email:email,productId:productId,size:size,quantity:1});}e.target.blur();};var handleQuantityChange=function handleQuantityChange(e){var number=e.target.value;if(number===''){number=1;}if(!Number.isNaN(+number)&&+number>0&&+number<100){product.quantity=+number-cartItem.quantity;dispatch(addItem(product));if(product.quantity>0){addToCartRequest({token:token,isAuth:isAuth,email:email,productId:productId,size:size,quantity:product.quantity});}if(product.quantity<0){deleteFromCartRequest({token:token,isAuth:isAuth,email:email,productId:productId,size:size,quantity:-product.quantity});}}};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Box,{sx:cartStyle,id:\"viewCart_cartItem_\".concat(productId,\"_\").concat(size),children:[/*#__PURE__*/_jsx(ProductImage,{productId:productId,name:name,image:image,deleteCartItemHandle:deleteCartItemHandle}),/*#__PURE__*/_jsxs(Box,{sx:cardRightSide,children:[/*#__PURE__*/_jsx(ProductName,{productId:productId,name:name}),/*#__PURE__*/_jsx(ProductSize,{size:size,sizeType:sizeType}),/*#__PURE__*/_jsx(ProductPrice,{price:price}),/*#__PURE__*/_jsx(ProductQuantity,{handleDecreaseQuantity:handleDecreaseQuantity,handleIncreaseQuantity:handleIncreaseQuantity,handleQuantityChange:handleQuantityChange,quantity:quantity}),/*#__PURE__*/_jsx(ProductTotalPrice,{price:price,size:size,quantity:quantity})]})]})});};export default CartItem;","map":{"version":3,"sources":["/Users/dcurchin/Desktop/final/grocery-shop-ui/src/components/cartItem/CartItem.jsx"],"names":["Box","ProductQuantity","useDispatch","useSelector","deleteItem","addItem","ProductImage","ProductName","ProductSize","ProductPrice","ProductTotalPrice","addToCartRequest","deleteFromCartRequest","cartStyle","display","alignItems","paddingBottom","borderBottom","textAlign","fontSize","cardRightSide","flexDirection","marginLeft","gap","paddingTop","CartItem","cartItem","dispatch","auth","state","token","isAuth","email","image","name","price","productId","quantity","size","sizeType","deleteCartItemHandle","product","handleIncreaseQuantity","e","target","blur","handleDecreaseQuantity","handleQuantityChange","number","value","Number","isNaN"],"mappings":"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","sourcesContent":["import { Box } from '@mui/system';\r\nimport ProductQuantity from './ProductQuantity';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { deleteItem, addItem } from '../../redux/slices/cartSlice';\r\nimport ProductImage from './ProductImage';\r\nimport ProductName from './ProductName';\r\nimport ProductSize from './ProductSize';\r\nimport ProductPrice from './ProductPrice';\r\nimport ProductTotalPrice from './ProductTotalPrice';\r\nimport { addToCartRequest } from '../../helpers/addToCartRequest';\r\nimport { deleteFromCartRequest } from '../../helpers/deleteFromCartRequest';\r\n\r\nconst cartStyle = {\r\n  display: 'flex',\r\n  alignItems: 'flex-start',\r\n  paddingBottom: '20px',\r\n  borderBottom: '1px solid #dadada',\r\n  '@media (max-width: 750px)': {\r\n    display: 'block',\r\n    textAlign: 'center',\r\n    fontSize: '20px',\r\n  },\r\n};\r\n\r\nconst cardRightSide = {\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  marginLeft: '30px',\r\n  gap: '1.1em',\r\n  alignItems: 'flex-start',\r\n  '@media (max-width: 750px)': {\r\n    paddingTop: '20px',\r\n    fontSize: '20px',\r\n    alignItems: 'center',\r\n  },\r\n};\r\n\r\nconst CartItem = ({ cartItem }) => {\r\n  const dispatch = useDispatch();\r\n  const auth = useSelector((state) => state.auth);\r\n  const { token, isAuth, email } = auth;\r\n\r\n  const { image, name, price, productId, quantity, size, sizeType } = cartItem;\r\n\r\n  const deleteCartItemHandle = () => {\r\n    dispatch(deleteItem({ productId, size }));\r\n    deleteFromCartRequest({\r\n      token,\r\n      isAuth,\r\n      email,\r\n      productId,\r\n      size,\r\n      quantity,\r\n    });\r\n  };\r\n\r\n  const product = {\r\n    productId,\r\n    name,\r\n    price,\r\n    quantity: 0,\r\n    size,\r\n    sizeType,\r\n    image,\r\n  };\r\n\r\n  const handleIncreaseQuantity = (e) => {\r\n    if (quantity < 99) {\r\n      product.quantity += 1;\r\n      dispatch(addItem(product));\r\n      addToCartRequest({\r\n        token,\r\n        isAuth,\r\n        email,\r\n        productId,\r\n        size,\r\n        quantity: 1,\r\n      });\r\n    }\r\n    e.target.blur();\r\n  };\r\n\r\n  const handleDecreaseQuantity = (e) => {\r\n    if (quantity > 1) {\r\n      product.quantity -= 1;\r\n      dispatch(addItem(product));\r\n      deleteFromCartRequest({\r\n        token,\r\n        isAuth,\r\n        email,\r\n        productId,\r\n        size,\r\n        quantity: 1,\r\n      });\r\n    }\r\n    e.target.blur();\r\n  };\r\n\r\n  const handleQuantityChange = (e) => {\r\n    let number = e.target.value;\r\n    if (number === '') {\r\n      number = 1;\r\n    }\r\n\r\n    if (!Number.isNaN(+number) && +number > 0 && +number < 100) {\r\n      product.quantity = +number - cartItem.quantity;\r\n      dispatch(addItem(product));\r\n      if (product.quantity > 0) {\r\n        addToCartRequest({\r\n          token,\r\n          isAuth,\r\n          email,\r\n          productId,\r\n          size,\r\n          quantity: product.quantity,\r\n        });\r\n      }\r\n      if (product.quantity < 0) {\r\n        deleteFromCartRequest({\r\n          token,\r\n          isAuth,\r\n          email,\r\n          productId,\r\n          size,\r\n          quantity: -product.quantity,\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Box sx={cartStyle} id={`viewCart_cartItem_${productId}_${size}`}>\r\n        <ProductImage\r\n          productId={productId}\r\n          name={name}\r\n          image={image}\r\n          deleteCartItemHandle={deleteCartItemHandle}\r\n        />\r\n        <Box sx={cardRightSide}>\r\n          <ProductName productId={productId} name={name} />\r\n          <ProductSize size={size} sizeType={sizeType} />\r\n          <ProductPrice price={price} />\r\n          <ProductQuantity\r\n            handleDecreaseQuantity={handleDecreaseQuantity}\r\n            handleIncreaseQuantity={handleIncreaseQuantity}\r\n            handleQuantityChange={handleQuantityChange}\r\n            quantity={quantity}\r\n          />\r\n          <ProductTotalPrice price={price} size={size} quantity={quantity} />\r\n        </Box>\r\n      </Box>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CartItem;\r\n"]},"metadata":{},"sourceType":"module"}