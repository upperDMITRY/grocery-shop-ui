{"ast":null,"code":"import{memo}from'react';import{useSelector,useDispatch}from'react-redux';import{Box,Skeleton,Typography}from'@mui/material';import ErrorOutlineIcon from'@mui/icons-material/ErrorOutline';import{setImageLoaded,setImageError}from'../../../../redux/slices/adminProducts';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var imageContainerStyle={position:'relative',padding:0,margin:'0 auto',width:232,height:232,overflow:'hidden',borderRadius:1};var imageSkeletonStyle={position:'absolute',top:0,left:0,width:232,height:232,borderRadius:1};var imageErrorContainerStyle={display:'flex',flexDirection:'column',justifyContent:'center',alignItems:'center',height:'100%',backgroundColor:'#e3e3e3',borderRadius:1};var Image=/*#__PURE__*/memo(function(){var dispatch=useDispatch();var image=useSelector(function(state){return state.adminProducts.image;});var imageError=useSelector(function(state){return state.adminProducts.imageError;});var imageLoaded=useSelector(function(state){return state.adminProducts.imageLoaded;});var productCardImageStyle={width:232,borderRadius:1,marginRight:0,position:'relative',display:imageLoaded?'block':'none'};return/*#__PURE__*/_jsxs(Box,{sx:imageContainerStyle,children:[!imageLoaded&&/*#__PURE__*/_jsx(Skeleton,{sx:imageSkeletonStyle,animation:\"wave\",variant:\"rectangular\"}),imageError&&/*#__PURE__*/_jsx(Box,{sx:imageErrorContainerStyle,children:image.trim()===''?null:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ErrorOutlineIcon,{fontSize:\"large\"}),/*#__PURE__*/_jsx(Typography,{children:\"Image loading error\"})]})}),/*#__PURE__*/_jsx(Box,{component:\"img\",sx:productCardImageStyle,alt:\"Product image\",src:image,onLoad:function onLoad(){dispatch(setImageError(false));dispatch(setImageLoaded(true));},onError:function onError(){dispatch(setImageLoaded(true));dispatch(setImageError(true));}})]});});export default Image;","map":{"version":3,"sources":["/Users/dcurchin/Desktop/final/grocery-shop-ui/src/components/adminPanel/products/editAndAddNewProduct/Image.jsx"],"names":["memo","useSelector","useDispatch","Box","Skeleton","Typography","ErrorOutlineIcon","setImageLoaded","setImageError","imageContainerStyle","position","padding","margin","width","height","overflow","borderRadius","imageSkeletonStyle","top","left","imageErrorContainerStyle","display","flexDirection","justifyContent","alignItems","backgroundColor","Image","dispatch","image","state","adminProducts","imageError","imageLoaded","productCardImageStyle","marginRight","trim"],"mappings":"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","sourcesContent":["import { memo } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Box, Skeleton, Typography } from '@mui/material';\r\nimport ErrorOutlineIcon from '@mui/icons-material/ErrorOutline';\r\nimport {\r\n  setImageLoaded,\r\n  setImageError,\r\n} from '../../../../redux/slices/adminProducts';\r\n\r\nconst imageContainerStyle = {\r\n  position: 'relative',\r\n  padding: 0,\r\n  margin: '0 auto',\r\n  width: 232,\r\n  height: 232,\r\n  overflow: 'hidden',\r\n  borderRadius: 1,\r\n};\r\n\r\nconst imageSkeletonStyle = {\r\n  position: 'absolute',\r\n  top: 0,\r\n  left: 0,\r\n  width: 232,\r\n  height: 232,\r\n  borderRadius: 1,\r\n};\r\n\r\nconst imageErrorContainerStyle = {\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n  height: '100%',\r\n  backgroundColor: '#e3e3e3',\r\n  borderRadius: 1,\r\n};\r\n\r\nconst Image = memo(() => {\r\n  const dispatch = useDispatch();\r\n\r\n  const image = useSelector((state) => state.adminProducts.image);\r\n  const imageError = useSelector((state) => state.adminProducts.imageError);\r\n  const imageLoaded = useSelector((state) => state.adminProducts.imageLoaded);\r\n\r\n  const productCardImageStyle = {\r\n    width: 232,\r\n    borderRadius: 1,\r\n    marginRight: 0,\r\n    position: 'relative',\r\n    display: imageLoaded ? 'block' : 'none',\r\n  };\r\n\r\n  return (\r\n    <Box sx={imageContainerStyle}>\r\n      {!imageLoaded && (\r\n        <Skeleton\r\n          sx={imageSkeletonStyle}\r\n          animation=\"wave\"\r\n          variant=\"rectangular\"\r\n        />\r\n      )}\r\n\r\n      {imageError && (\r\n        <Box sx={imageErrorContainerStyle}>\r\n          {image.trim() === '' ? null : (\r\n            <>\r\n              <ErrorOutlineIcon fontSize=\"large\" />\r\n              <Typography>Image loading error</Typography>\r\n            </>\r\n          )}\r\n        </Box>\r\n      )}\r\n\r\n      <Box\r\n        component=\"img\"\r\n        sx={productCardImageStyle}\r\n        alt=\"Product image\"\r\n        src={image}\r\n        onLoad={() => {\r\n          dispatch(setImageError(false));\r\n          dispatch(setImageLoaded(true));\r\n        }}\r\n        onError={() => {\r\n          dispatch(setImageLoaded(true));\r\n          dispatch(setImageError(true));\r\n        }}\r\n      />\r\n    </Box>\r\n  );\r\n});\r\n\r\nexport default Image;\r\n"]},"metadata":{},"sourceType":"module"}