{"ast":null,"code":"var Throttler =\n/** @class */\nfunction () {\n  function Throttler(fn) {\n    Object.defineProperty(this, \"_ready\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: true\n    });\n    Object.defineProperty(this, \"_pending\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: false\n    });\n    Object.defineProperty(this, \"_fn\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    this._fn = fn;\n  }\n\n  Object.defineProperty(Throttler.prototype, \"run\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      var _this = this;\n\n      if (this._ready) {\n        this._ready = false;\n        this._pending = false;\n        requestAnimationFrame(function () {\n          _this._ready = true;\n\n          if (_this._pending) {\n            _this.run();\n          }\n        });\n\n        this._fn();\n      } else {\n        this._pending = true;\n      }\n    }\n  });\n  return Throttler;\n}();\n\nexport { Throttler };","map":{"version":3,"sources":["../../../../../src/.internal/core/util/Throttler.ts"],"names":[],"mappings":"AAAA,IAAA,SAAA;AAAA;AAAA,YAAA;AAKC,WAAA,SAAA,CAAY,EAAZ,EAA0B;AAJ1B,IAAA,MAAA,CAAA,cAAA,CAAA,IAAA,EAAA,QAAA,EAAA;sBAAA;wBAAA;oBAAA;aAA0B;AAA1B,KAAA;AACA,IAAA,MAAA,CAAA,cAAA,CAAA,IAAA,EAAA,UAAA,EAAA;sBAAA;wBAAA;oBAAA;aAA4B;AAA5B,KAAA;AACA,IAAA,MAAA,CAAA,cAAA,CAAA,IAAA,EAAA,KAAA,EAAA;sBAAA;wBAAA;oBAAA;;AAAA,KAAA;AAGC,SAAK,GAAL,GAAW,EAAX;AACA;;;;;;WAED,YAAA;AAAA,UAAA,KAAA,GAAA,IAAA;;AACC,UAAI,KAAK,MAAT,EAAiB;AAChB,aAAK,MAAL,GAAc,KAAd;AACA,aAAK,QAAL,GAAgB,KAAhB;AAEA,QAAA,qBAAqB,CAAC,YAAA;AACrB,UAAA,KAAI,CAAC,MAAL,GAAc,IAAd;;AAEA,cAAI,KAAI,CAAC,QAAT,EAAmB;AAClB,YAAA,KAAI,CAAC,GAAL;AACA;AACD,SANoB,CAArB;;AAQA,aAAK,GAAL;AAEA,OAdD,MAcO;AACN,aAAK,QAAL,GAAgB,IAAhB;AACA;AACD;;AACF,SAAA,SAAA;AAAC,CA5BD,EAAA","sourcesContent":["export class Throttler {\n\tprivate _ready: boolean = true;\n\tprivate _pending: boolean = false;\n\tprivate _fn: () => void;\n\n\tconstructor(fn: () => void) {\n\t\tthis._fn = fn;\n\t}\n\n\tpublic run(): void {\n\t\tif (this._ready) {\n\t\t\tthis._ready = false;\n\t\t\tthis._pending = false;\n\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tthis._ready = true;\n\n\t\t\t\tif (this._pending) {\n\t\t\t\t\tthis.run();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis._fn();\n\n\t\t} else {\n\t\t\tthis._pending = true;\n\t\t}\n\t}\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}