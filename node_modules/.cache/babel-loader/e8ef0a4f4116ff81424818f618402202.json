{"ast":null,"code":"var _s = $RefreshSig$();\nimport axios from 'axios';\nimport { useQuery } from 'react-query';\nexport const useProductsFilters = (filters, token) => {\n  _s();\n  return useQuery(['productsFilters', filters, token], fetchApi, {\n    retry: 0,\n    staleTime: 60 * 1000 * 5,\n    cacheTime: 0\n  });\n};\n_s(useProductsFilters, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});\nconst fetchApi = async context => {\n  const [, {\n    name,\n    pageNumber\n  }, token] = context.queryKey;\n  try {\n    const res = await axios({\n      method: 'get',\n      url: `/api/products/?name=${name}&pageNumber=${pageNumber}`,\n      headers: {\n        Authorization: `${token}`\n      }\n    });\n    if (res.status >= 200 && res.status < 300) {\n      return res.data;\n    }\n  } catch (err) {\n    if (axios.isAxiosError(err)) {\n      if (err && err.response) {\n        throw Error(err.response.data.message);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","useQuery","useProductsFilters","filters","token","_s","fetchApi","retry","staleTime","cacheTime","context","name","pageNumber","queryKey","res","method","url","headers","Authorization","status","data","err","isAxiosError","response","Error","message"],"sources":["/Users/dcurchin/Desktop/final/grocery-shop-ui/src/hooks/useProductsFilters.js"],"sourcesContent":["import axios from 'axios';\nimport { useQuery } from 'react-query';\n\nexport const useProductsFilters = (filters, token) =>\n  useQuery(['productsFilters', filters, token], fetchApi, {\n    retry: 0,\n    staleTime: 60 * 1000 * 5,\n    cacheTime: 0,\n  });\n\nconst fetchApi = async (context) => {\n  const [, { name, pageNumber }, token] = context.queryKey;\n  try {\n    const res = await axios({\n      method: 'get',\n      url: `/api/products/?name=${name}&pageNumber=${pageNumber}`,\n      headers: {\n        Authorization: `${token}`,\n      },\n    });\n    if (res.status >= 200 && res.status < 300) {\n      return res.data;\n    }\n  } catch (err) {\n    if (axios.isAxiosError(err)) {\n      if (err && err.response) {\n        throw Error(err.response.data.message);\n      }\n    }\n  }\n};\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,aAAa;AAEtC,OAAO,MAAMC,kBAAkB,GAAGA,CAACC,OAAO,EAAEC,KAAK;EAAAC,EAAA;EAAA,OAC/CJ,QAAQ,CAAC,CAAC,iBAAiB,EAAEE,OAAO,EAAEC,KAAK,CAAC,EAAEE,QAAQ,EAAE;IACtDC,KAAK,EAAE,CAAC;IACRC,SAAS,EAAE,EAAE,GAAG,IAAI,GAAG,CAAC;IACxBC,SAAS,EAAE;EACb,CAAC,CAAC;AAAA;AAACJ,EAAA,CALQH,kBAAkB;EAAA,QAC7BD,QAAQ;AAAA;AAMV,MAAMK,QAAQ,GAAG,MAAOI,OAAO,IAAK;EAClC,MAAM,GAAG;IAAEC,IAAI;IAAEC;EAAW,CAAC,EAAER,KAAK,CAAC,GAAGM,OAAO,CAACG,QAAQ;EACxD,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMd,KAAK,CAAC;MACtBe,MAAM,EAAE,KAAK;MACbC,GAAG,EAAG,uBAAsBL,IAAK,eAAcC,UAAW,EAAC;MAC3DK,OAAO,EAAE;QACPC,aAAa,EAAG,GAAEd,KAAM;MAC1B;IACF,CAAC,CAAC;IACF,IAAIU,GAAG,CAACK,MAAM,IAAI,GAAG,IAAIL,GAAG,CAACK,MAAM,GAAG,GAAG,EAAE;MACzC,OAAOL,GAAG,CAACM,IAAI;IACjB;EACF,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZ,IAAIrB,KAAK,CAACsB,YAAY,CAACD,GAAG,CAAC,EAAE;MAC3B,IAAIA,GAAG,IAAIA,GAAG,CAACE,QAAQ,EAAE;QACvB,MAAMC,KAAK,CAACH,GAAG,CAACE,QAAQ,CAACH,IAAI,CAACK,OAAO,CAAC;MACxC;IACF;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module"}