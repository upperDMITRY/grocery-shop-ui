{"ast":null,"code":"import { __extends, __read } from \"tslib\";\nimport { AxisRenderer } from \"./AxisRenderer\";\nimport { p100 } from \"../../../core/util/Percent\";\nimport * as $type from \"../../../core/util/Type\";\nimport * as $utils from \"../../../core/util/Utils\";\nimport { Rectangle } from \"../../../core/render/Rectangle\";\n/**\r\n * Used to render vertical axis.\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/#Axis_renderer} for more info\r\n * @important\r\n */\nvar AxisRendererY = /** @class */function (_super) {\n  __extends(AxisRendererY, _super);\n  function AxisRendererY() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    Object.defineProperty(_this, \"_downY\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(_this, \"thumb\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: Rectangle.new(_this._root, {\n        height: p100,\n        themeTags: [\"axis\", \"y\", \"thumb\"]\n      })\n    });\n    return _this;\n  }\n  Object.defineProperty(AxisRendererY.prototype, \"_afterNew\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      this._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"renderer\", \"y\"]);\n      if (this._settings.opposite) {\n        this._settings.themeTags.push(\"opposite\");\n      }\n      _super.prototype._afterNew.call(this);\n      this.setPrivateRaw(\"letter\", \"Y\");\n      var gridTemplate = this.grid.template;\n      gridTemplate.set(\"width\", p100);\n      gridTemplate.set(\"height\", 0);\n      gridTemplate.set(\"draw\", function (display, graphics) {\n        display.moveTo(0, 0);\n        display.lineTo(graphics.width(), 0);\n      });\n      this.set(\"draw\", function (display, renderer) {\n        display.moveTo(0, 0);\n        display.lineTo(0, renderer.height());\n      });\n    }\n  });\n  Object.defineProperty(AxisRendererY.prototype, \"_getPan\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function (point1, point2) {\n      return (point1.y - point2.y) / this.height();\n    }\n  });\n  Object.defineProperty(AxisRendererY.prototype, \"_changed\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      _super.prototype._changed.call(this);\n      var axis = this.axis;\n      if (this.isDirty(\"inside\")) {\n        axis.markDirtySize();\n      }\n      var thumb = this.thumb;\n      var opposite = \"opposite\";\n      if (this.isDirty(opposite)) {\n        var chart = this.chart;\n        var axisChildren = axis.children;\n        if (chart) {\n          if (this.get(opposite)) {\n            var children = chart.rightAxesContainer.children;\n            if (children.indexOf(axis) == -1) {\n              children.moveValue(axis, 0);\n            }\n            axis.addTag(opposite);\n            axisChildren.moveValue(this, 0);\n            thumb.set(\"centerX\", 0);\n          } else {\n            var children = chart.leftAxesContainer.children;\n            if (children.indexOf(axis) == -1) {\n              children.moveValue(axis);\n            }\n            axis.removeTag(\"opposite\");\n            axisChildren.moveValue(this);\n            thumb.set(\"centerX\", p100);\n          }\n          axis.markDirtySize();\n        }\n        axis.ghostLabel._applyThemes();\n      }\n      thumb.setPrivate(\"width\", axis.labelsContainer.width());\n    }\n  });\n  /**\r\n   * @ignore\r\n   */\n  Object.defineProperty(AxisRendererY.prototype, \"processAxis\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      _super.prototype.processAxis.call(this);\n      var axis = this.axis;\n      if (axis.get(\"height\") == null) {\n        axis.set(\"height\", p100);\n      }\n      var horizontalLayout = this._root.horizontalLayout;\n      axis.set(\"layout\", horizontalLayout);\n      axis.labelsContainer.set(\"height\", p100);\n      axis.axisHeader.set(\"layout\", horizontalLayout);\n    }\n  });\n  Object.defineProperty(AxisRendererY.prototype, \"_updatePositions\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      var axis = this.axis;\n      axis.gridContainer.set(\"y\", axis.y() - $utils.relativeToValue(axis.get(\"centerY\", 0), axis.height()));\n      axis.bulletsContainer.set(\"x\", this.x());\n      var chart = axis.chart;\n      if (chart) {\n        var plotContainer = chart.plotContainer;\n        var axisHeader = axis.axisHeader;\n        var height = axis.get(\"marginTop\", 0);\n        if (axisHeader.children.length > 0) {\n          height = axis.axisHeader.height();\n          axis.set(\"marginTop\", height);\n        } else {\n          axisHeader.set(\"height\", height);\n        }\n        axisHeader.setAll({\n          y: axis.y() - height,\n          x: -1,\n          width: plotContainer.width() + 2\n        });\n      }\n    }\n  });\n  /**\r\n   * @ignore\r\n   */\n  Object.defineProperty(AxisRendererY.prototype, \"axisLength\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      return this.axis.innerHeight();\n    }\n  });\n  /**\r\n   * Converts axis relative position to actual coordinate in pixels.\r\n   *\r\n   * @param   position  Position\r\n   * @return            Point\r\n   */\n  Object.defineProperty(AxisRendererY.prototype, \"positionToPoint\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function (position) {\n      return {\n        x: 0,\n        y: this.positionToCoordinate(position)\n      };\n    }\n  });\n  /**\r\n   * @ignore\r\n   */\n  Object.defineProperty(AxisRendererY.prototype, \"updateLabel\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function (label, position, endPosition, count) {\n      if (label) {\n        if (!$type.isNumber(position)) {\n          position = 0;\n        }\n        var location_1 = 0.5;\n        if ($type.isNumber(count) && count > 1) {\n          location_1 = label.get(\"multiLocation\", location_1);\n        } else {\n          location_1 = label.get(\"location\", location_1);\n        }\n        var opposite = this.get(\"opposite\");\n        var inside = label.get(\"inside\", this.get(\"inside\", false));\n        if (opposite) {\n          label.set(\"x\", 0);\n          if (inside) {\n            label.set(\"position\", \"absolute\");\n          } else {\n            label.set(\"position\", \"relative\");\n          }\n        } else {\n          if (inside) {\n            label.set(\"x\", 0);\n            label.set(\"position\", \"absolute\");\n          } else {\n            label.set(\"x\", undefined);\n            label.set(\"position\", \"relative\");\n          }\n        }\n        if ($type.isNumber(endPosition) && endPosition != position) {\n          position = position + (endPosition - position) * location_1;\n        }\n        label.set(\"y\", this.positionToCoordinate(position));\n        this.toggleVisibility(label, position, label.get(\"minPosition\", 0), label.get(\"maxPosition\", 1));\n      }\n    }\n  });\n  /**\r\n   * @ignore\r\n   */\n  Object.defineProperty(AxisRendererY.prototype, \"updateGrid\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function (grid, position, endPosition) {\n      if (grid) {\n        if (!$type.isNumber(position)) {\n          position = 0;\n        }\n        var location_2 = grid.get(\"location\", 0.5);\n        if ($type.isNumber(endPosition) && endPosition != position) {\n          position = position + (endPosition - position) * location_2;\n        }\n        var y = this.positionToCoordinate(position);\n        grid.set(\"y\", y);\n        this.toggleVisibility(grid, position, 0, 1);\n      }\n    }\n  });\n  /**\r\n   * @ignore\r\n   */\n  Object.defineProperty(AxisRendererY.prototype, \"updateTick\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function (tick, position, endPosition, count) {\n      if (tick) {\n        if (!$type.isNumber(position)) {\n          position = 0;\n        }\n        var location_3 = 0.5;\n        if ($type.isNumber(count) && count > 1) {\n          location_3 = tick.get(\"multiLocation\", location_3);\n        } else {\n          location_3 = tick.get(\"location\", location_3);\n        }\n        if ($type.isNumber(endPosition) && endPosition != position) {\n          position = position + (endPosition - position) * location_3;\n        }\n        tick.set(\"y\", this.positionToCoordinate(position));\n        var length_1 = tick.get(\"length\", 0);\n        var inside = tick.get(\"inside\", this.get(\"inside\", false));\n        if (this.get(\"opposite\")) {\n          tick.set(\"x\", 0);\n          if (inside) {\n            length_1 *= -1;\n          }\n        } else {\n          if (!inside) {\n            length_1 *= -1;\n          }\n        }\n        tick.set(\"draw\", function (display) {\n          display.moveTo(0, 0);\n          display.lineTo(length_1, 0);\n        });\n        this.toggleVisibility(tick, position, tick.get(\"minPosition\", 0), tick.get(\"maxPosition\", 1));\n      }\n    }\n  });\n  /**\r\n   * @ignore\r\n   */\n  Object.defineProperty(AxisRendererY.prototype, \"updateBullet\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function (bullet, position, endPosition) {\n      if (bullet) {\n        var sprite = bullet.get(\"sprite\");\n        if (sprite) {\n          if (!$type.isNumber(position)) {\n            position = 0;\n          }\n          var location_4 = bullet.get(\"location\", 0.5);\n          if ($type.isNumber(endPosition) && endPosition != position) {\n            position = position + (endPosition - position) * location_4;\n          }\n          sprite.set(\"y\", this.positionToCoordinate(position));\n          this.toggleVisibility(sprite, position, 0, 1);\n        }\n      }\n    }\n  });\n  /**\r\n   * @ignore\r\n   */\n  Object.defineProperty(AxisRendererY.prototype, \"updateFill\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function (fill, position, endPosition) {\n      if (fill) {\n        if (!$type.isNumber(position)) {\n          position = 0;\n        }\n        if (!$type.isNumber(endPosition)) {\n          endPosition = 1;\n        }\n        var y0 = this.positionToCoordinate(position);\n        var y1 = this.positionToCoordinate(endPosition);\n        this.fillDrawMethod(fill, y0, y1);\n      }\n    }\n  });\n  Object.defineProperty(AxisRendererY.prototype, \"fillDrawMethod\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function (fill, y0, y1) {\n      var _this = this;\n      fill.set(\"draw\", function (display) {\n        var _a;\n        // using for holes, so can not be rectangle\n        var w = _this.axis.gridContainer.width();\n        var h = _this.height();\n        if (y1 < y0) {\n          _a = __read([y0, y1], 2), y1 = _a[0], y0 = _a[1];\n        }\n        if (y0 > h || y1 < 0) {\n          return;\n        }\n        y0 = Math.max(0, y0);\n        y1 = Math.min(h, y1);\n        display.moveTo(0, y0);\n        display.lineTo(w, y0);\n        display.lineTo(w, y1);\n        display.lineTo(0, y1);\n        display.lineTo(0, y0);\n      });\n    }\n  });\n  /**\r\n   * Converts relative position (0-1) on axis to a pixel coordinate.\r\n   *\r\n   * @param position  Position (0-1)\r\n   * @return Coordinate (px)\r\n   */\n  Object.defineProperty(AxisRendererY.prototype, \"positionToCoordinate\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function (position) {\n      if (!this._inversed) {\n        return (this._end - position) * this._axisLength;\n      } else {\n        return (position - this._start) * this._axisLength;\n      }\n    }\n  });\n  /**\r\n   * @ignore\r\n   */\n  Object.defineProperty(AxisRendererY.prototype, \"positionTooltip\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function (tooltip, position) {\n      this._positionTooltip(tooltip, {\n        x: 0,\n        y: this.positionToCoordinate(position)\n      });\n    }\n  });\n  /**\r\n   * @ignore\r\n   */\n  Object.defineProperty(AxisRendererY.prototype, \"updateTooltipBounds\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function (tooltip) {\n      var inside = this.get(\"inside\");\n      var num = 100000;\n      var global = this._display.toGlobal({\n        x: 0,\n        y: 0\n      });\n      var y = global.y;\n      var x = 0;\n      var h = this.axisLength();\n      var w = num;\n      var pointerOrientation = \"right\";\n      if (this.get(\"opposite\")) {\n        if (inside) {\n          pointerOrientation = \"right\";\n          x = global.x - num;\n          w = num;\n        } else {\n          pointerOrientation = \"left\";\n          x = global.x;\n          w = num;\n        }\n      } else {\n        if (inside) {\n          pointerOrientation = \"left\";\n          x = global.x;\n          w = num;\n        } else {\n          pointerOrientation = \"right\";\n          x = global.x - num;\n          w = num;\n        }\n      }\n      var bounds = {\n        left: x,\n        right: x + w,\n        top: y,\n        bottom: y + h\n      };\n      var oldBounds = tooltip.get(\"bounds\");\n      if (!$utils.sameBounds(bounds, oldBounds)) {\n        tooltip.set(\"bounds\", bounds);\n        tooltip.set(\"pointerOrientation\", pointerOrientation);\n      }\n    }\n  });\n  Object.defineProperty(AxisRendererY.prototype, \"_updateLC\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function () {\n      var axis = this.axis;\n      var parent = axis.parent;\n      if (parent) {\n        var h = parent.innerHeight();\n        this._lc = this.axisLength() / h;\n        this._ls = axis.y() / h;\n      }\n    }\n  });\n  /**\r\n   * @ignore\r\n   */\n  Object.defineProperty(AxisRendererY.prototype, \"toAxisPosition\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function (position) {\n      var start = this._start || 0;\n      var end = this._end || 1;\n      position -= this._ls;\n      position = position * (end - start) / this._lc;\n      if (this.get(\"inversed\")) {\n        position = start + position;\n      } else {\n        position = end - position;\n      }\n      return position;\n    }\n  });\n  /**\r\n   * @ignore\r\n   */\n  Object.defineProperty(AxisRendererY.prototype, \"fixPosition\", {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: function (position) {\n      if (!this.get(\"inversed\")) {\n        return 1 - position;\n      }\n      return position;\n    }\n  });\n  Object.defineProperty(AxisRendererY, \"className\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: \"AxisRendererY\"\n  });\n  Object.defineProperty(AxisRendererY, \"classNames\", {\n    enumerable: true,\n    configurable: true,\n    writable: true,\n    value: AxisRenderer.classNames.concat([AxisRendererY.className])\n  });\n  return AxisRendererY;\n}(AxisRenderer);\nexport { AxisRendererY };","map":{"version":3,"names":["AxisRenderer","p100","$type","$utils","Rectangle","AxisRendererY","_super","__extends","_this","apply","arguments","Object","defineProperty","new","_root","height","themeTags","value","_settings","mergeTags","opposite","push","prototype","_afterNew","call","setPrivateRaw","gridTemplate","grid","template","set","display","graphics","moveTo","lineTo","width","renderer","point1","point2","y","_changed","axis","isDirty","markDirtySize","thumb","chart","axisChildren","children","get","rightAxesContainer","indexOf","moveValue","addTag","leftAxesContainer","removeTag","ghostLabel","_applyThemes","setPrivate","labelsContainer","processAxis","horizontalLayout","axisHeader","gridContainer","relativeToValue","bulletsContainer","x","plotContainer","length","setAll","innerHeight","position","positionToCoordinate","label","endPosition","count","isNumber","location_1","inside","undefined","toggleVisibility","location_2","tick","location_3","length_1","bullet","sprite","location_4","fill","y0","y1","fillDrawMethod","w","h","_a","__read","Math","max","min","_inversed","_end","_axisLength","_start","tooltip","_positionTooltip","num","global","_display","toGlobal","axisLength","pointerOrientation","bounds","left","right","top","bottom","oldBounds","sameBounds","parent","_lc","_ls","start","end","classNames","concat","className"],"sources":["../../../../../../src/.internal/charts/xy/axes/AxisRendererY.ts"],"sourcesContent":["import { AxisRenderer, IAxisRendererSettings, IAxisRendererPrivate } from \"./AxisRenderer\";\nimport { p100 } from \"../../../core/util/Percent\";\nimport type { IPoint } from \"../../../core/util/IPoint\";\nimport * as $type from \"../../../core/util/Type\";\nimport * as $utils from \"../../../core/util/Utils\";\nimport type { Graphics } from \"../../../core/render/Graphics\";\nimport type { AxisLabel } from \"./AxisLabel\";\nimport type { AxisBullet } from \"./AxisBullet\";\nimport type { Grid } from \"./Grid\";\nimport type { AxisTick } from \"./AxisTick\";\nimport type { Tooltip } from \"../../../core/render/Tooltip\";\nimport type { Template } from \"../../../core/util/Template\";\nimport { Rectangle } from \"../../../core/render/Rectangle\";\n\nexport interface IAxisRendererYSettings extends IAxisRendererSettings {\n\n\t/**\n\t * If set to `true` the axis will be drawn on the opposite side of the plot\n\t * area.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/axes/#Axis_position} for more info\n\t * @default false\n\t */\n\topposite?: boolean;\n\n\t/**\n\t * If set to `true`, all axis elements (ticks, labels) will be drawn inside\n\t * plot area.\n\t *\n\t * @default false\n\t */\n\tinside?: boolean;\n}\n\nexport interface IAxisRendererYPrivate extends IAxisRendererPrivate {\n}\n\n/**\n * Used to render vertical axis.\n *\n * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/#Axis_renderer} for more info\n * @important\n */\nexport class AxisRendererY extends AxisRenderer {\n\n\tpublic static className: string = \"AxisRendererY\";\n\tpublic static classNames: Array<string> = AxisRenderer.classNames.concat([AxisRendererY.className]);\n\n\tdeclare public _settings: IAxisRendererYSettings;\n\tdeclare public _privateSettings: IAxisRendererYPrivate;\n\n\tdeclare public readonly labelTemplate: Template<AxisLabel>;\n\n\tprotected _downY?: number;\n\n\tpublic thumb: Rectangle = Rectangle.new(this._root, { height: p100, themeTags: [\"axis\", \"y\", \"thumb\"] });\n\n\tpublic _afterNew() {\n\t\tthis._settings.themeTags = $utils.mergeTags(this._settings.themeTags, [\"renderer\", \"y\"]);\n\t\tif (this._settings.opposite) {\n\t\t\tthis._settings.themeTags.push(\"opposite\");\n\t\t}\n\n\t\tsuper._afterNew();\n\t\tthis.setPrivateRaw(\"letter\", \"Y\");\n\n\t\tconst gridTemplate = this.grid.template;\n\t\tgridTemplate.set(\"width\", p100);\n\t\tgridTemplate.set(\"height\", 0);\n\t\tgridTemplate.set(\"draw\", (display, graphics) => {\n\t\t\tdisplay.moveTo(0, 0);\n\t\t\tdisplay.lineTo(graphics.width(), 0);\n\t\t});\n\n\t\tthis.set(\"draw\", (display, renderer) => {\n\t\t\tdisplay.moveTo(0, 0);\n\t\t\tdisplay.lineTo(0, renderer.height());\n\t\t});\n\t}\n\n\tprotected _getPan(point1: IPoint, point2: IPoint): number {\n\t\treturn (point1.y - point2.y) / this.height();\n\t}\n\n\tpublic _changed() {\n\t\tsuper._changed();\n\n\t\tconst axis = this.axis;\n\n\t\tif (this.isDirty(\"inside\")) {\n\t\t\taxis.markDirtySize();\n\t\t}\n\n\t\tconst thumb = this.thumb;\n\t\tconst opposite = \"opposite\"\n\t\tif (this.isDirty(opposite)) {\n\t\t\tconst chart = this.chart;\n\t\t\tconst axisChildren = axis.children;\n\n\t\t\tif (chart) {\n\t\t\t\tif (this.get(opposite)) {\n\t\t\t\t\tconst children = chart.rightAxesContainer.children;\n\t\t\t\t\tif (children.indexOf(axis) == -1) {\n\t\t\t\t\t\tchildren.moveValue(axis, 0);\n\t\t\t\t\t}\t\t\t\t\t\n\t\t\t\t\taxis.addTag(opposite);\t\t\t\t\t\n\t\t\t\t\taxisChildren.moveValue(this, 0);\n\t\t\t\t\tthumb.set(\"centerX\", 0);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tconst children = chart.leftAxesContainer.children;\n\t\t\t\t\tif (children.indexOf(axis) == -1) {\n\t\t\t\t\t\tchildren.moveValue(axis);\n\t\t\t\t\t}\n\t\t\t\t\taxis.removeTag(\"opposite\");\n\n\t\t\t\t\taxisChildren.moveValue(this);\n\t\t\t\t\tthumb.set(\"centerX\", p100);\n\t\t\t\t}\n\t\t\t\taxis.markDirtySize();\n\t\t\t}\t\t\t\n\t\t\taxis.ghostLabel._applyThemes();\n\t\t}\n\t\tthumb.setPrivate(\"width\", axis.labelsContainer.width());\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic processAxis() {\n\t\tsuper.processAxis();\n\t\tconst axis = this.axis;\n\t\tif (axis.get(\"height\") == null) {\n\t\t\taxis.set(\"height\", p100);\n\t\t}\n\t\tconst horizontalLayout = this._root.horizontalLayout;\n\t\taxis.set(\"layout\", horizontalLayout);\n\t\taxis.labelsContainer.set(\"height\", p100);\n\t\taxis.axisHeader.set(\"layout\", horizontalLayout);\n\t}\n\n\tpublic _updatePositions() {\n\t\tconst axis = this.axis;\n\t\taxis.gridContainer.set(\"y\", axis.y() - $utils.relativeToValue(axis.get(\"centerY\", 0), axis.height()));\n\t\taxis.bulletsContainer.set(\"x\", this.x());\n\n\t\tconst chart = axis.chart;\n\t\tif (chart) {\n\t\t\tconst plotContainer = chart.plotContainer;\n\t\t\tconst axisHeader = axis.axisHeader;\n\t\t\tlet height = axis.get(\"marginTop\", 0);\n\n\t\t\tif (axisHeader.children.length > 0) {\n\t\t\t\theight = axis.axisHeader.height();\n\t\t\t\taxis.set(\"marginTop\", height);\n\t\t\t}\n\t\t\telse {\n\t\t\t\taxisHeader.set(\"height\", height);\n\t\t\t}\n\t\t\taxisHeader.setAll({ y: axis.y() - height, x: -1, width: plotContainer.width() + 2 });\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic axisLength(): number {\n\t\treturn this.axis.innerHeight();\n\t}\n\n\t/**\n\t * Converts axis relative position to actual coordinate in pixels.\n\t *\n\t * @param   position  Position\n\t * @return            Point\n\t */\n\tpublic positionToPoint(position: number): IPoint {\n\t\treturn { x: 0, y: this.positionToCoordinate(position) };\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateLabel(label?: AxisLabel, position?: number, endPosition?: number, count?: number) {\n\t\tif (label) {\n\t\t\tif (!$type.isNumber(position)) {\n\t\t\t\tposition = 0;\n\t\t\t}\n\n\t\t\tlet location = 0.5;\n\t\t\tif ($type.isNumber(count) && count > 1) {\n\t\t\t\tlocation = label.get(\"multiLocation\", location)\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlocation = label.get(\"location\", location)\n\t\t\t}\n\n\t\t\tconst opposite = this.get(\"opposite\");\n\t\t\tconst inside = label.get(\"inside\", this.get(\"inside\", false));\n\n\t\t\tif (opposite) {\n\t\t\t\tlabel.set(\"x\", 0);\n\n\t\t\t\tif (inside) {\n\t\t\t\t\tlabel.set(\"position\", \"absolute\");\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tlabel.set(\"position\", \"relative\");\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (inside) {\n\t\t\t\t\tlabel.set(\"x\", 0);\n\t\t\t\t\tlabel.set(\"position\", \"absolute\");\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tlabel.set(\"x\", undefined);\n\t\t\t\t\tlabel.set(\"position\", \"relative\");\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ($type.isNumber(endPosition) && endPosition != position) {\n\t\t\t\tposition = position + (endPosition - position) * location;\n\t\t\t}\n\n\t\t\tlabel.set(\"y\", this.positionToCoordinate(position));\n\t\t\tthis.toggleVisibility(label, position, label.get(\"minPosition\", 0), label.get(\"maxPosition\", 1));\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateGrid(grid?: Grid, position?: number, endPosition?: number) {\n\t\tif (grid) {\n\t\t\tif (!$type.isNumber(position)) {\n\t\t\t\tposition = 0;\n\t\t\t}\n\n\t\t\tlet location = grid.get(\"location\", 0.5);\n\t\t\tif ($type.isNumber(endPosition) && endPosition != position) {\n\t\t\t\tposition = position + (endPosition - position) * location;\n\t\t\t}\n\n\t\t\tlet y = this.positionToCoordinate(position);\n\n\t\t\tgrid.set(\"y\", y);\n\n\t\t\tthis.toggleVisibility(grid, position, 0, 1);\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateTick(tick?: AxisTick, position?: number, endPosition?: number, count?: number) {\n\t\tif (tick) {\n\t\t\tif (!$type.isNumber(position)) {\n\t\t\t\tposition = 0;\n\t\t\t}\n\n\t\t\tlet location = 0.5;\n\t\t\tif ($type.isNumber(count) && count > 1) {\n\t\t\t\tlocation = tick.get(\"multiLocation\", location);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlocation = tick.get(\"location\", location);\n\t\t\t}\n\n\t\t\tif ($type.isNumber(endPosition) && endPosition != position) {\n\t\t\t\tposition = position + (endPosition - position) * location;\n\t\t\t}\n\n\t\t\ttick.set(\"y\", this.positionToCoordinate(position));\n\n\t\t\tlet length = tick.get(\"length\", 0);\n\t\t\tconst inside = tick.get(\"inside\", this.get(\"inside\", false));\n\n\t\t\tif (this.get(\"opposite\")) {\n\t\t\t\ttick.set(\"x\", 0);\n\t\t\t\tif (inside) {\n\t\t\t\t\tlength *= -1\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (!inside) {\n\t\t\t\t\tlength *= -1\n\t\t\t\t}\n\t\t\t}\n\t\t\ttick.set(\"draw\", (display) => {\n\t\t\t\tdisplay.moveTo(0, 0);\n\t\t\t\tdisplay.lineTo(length, 0);\n\t\t\t})\n\n\t\t\tthis.toggleVisibility(tick, position, tick.get(\"minPosition\", 0), tick.get(\"maxPosition\", 1));\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateBullet(bullet?: AxisBullet, position?: number, endPosition?: number) {\n\t\tif (bullet) {\n\n\t\t\tconst sprite = bullet.get(\"sprite\");\n\t\t\tif (sprite) {\n\n\t\t\t\tif (!$type.isNumber(position)) {\n\t\t\t\t\tposition = 0;\n\t\t\t\t}\n\n\t\t\t\tlet location = bullet.get(\"location\", 0.5);\n\t\t\t\tif ($type.isNumber(endPosition) && endPosition != position) {\n\t\t\t\t\tposition = position + (endPosition - position) * location;\n\t\t\t\t}\n\n\t\t\t\tsprite.set(\"y\", this.positionToCoordinate(position));\n\n\t\t\t\tthis.toggleVisibility(sprite, position, 0, 1);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateFill(fill?: Graphics, position?: number, endPosition?: number) {\n\t\tif (fill) {\n\t\t\tif (!$type.isNumber(position)) {\n\t\t\t\tposition = 0;\n\t\t\t}\n\t\t\tif (!$type.isNumber(endPosition)) {\n\t\t\t\tendPosition = 1;\n\t\t\t}\n\n\t\t\tlet y0 = this.positionToCoordinate(position);\n\t\t\tlet y1 = this.positionToCoordinate(endPosition);\n\n\t\t\tthis.fillDrawMethod(fill, y0, y1);\n\t\t}\n\t}\n\n\tprotected fillDrawMethod(fill: Graphics, y0: number, y1: number) {\n\t\tfill.set(\"draw\", (display) => {\n\t\t\t// using for holes, so can not be rectangle\n\t\t\tconst w = this.axis!.gridContainer.width();\n\t\t\tconst h = this.height();\n\n\t\t\tif (y1 < y0) {\n\t\t\t\t[y1, y0] = [y0, y1];\n\t\t\t}\n\n\t\t\tif (y0 > h || y1 < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ty0 = Math.max(0, y0);\n\t\t\ty1 = Math.min(h, y1);\n\n\t\t\tdisplay.moveTo(0, y0);\n\t\t\tdisplay.lineTo(w, y0);\n\t\t\tdisplay.lineTo(w, y1);\n\t\t\tdisplay.lineTo(0, y1);\n\t\t\tdisplay.lineTo(0, y0);\n\t\t})\n\t}\n\n\t/**\n\t * Converts relative position (0-1) on axis to a pixel coordinate.\n\t *\n\t * @param position  Position (0-1)\n\t * @return Coordinate (px)\n\t */\n\tpublic positionToCoordinate(position: number): number {\n\t\tif (!this._inversed) {\n\t\t\treturn (this._end - position) * this._axisLength;\n\t\t}\n\t\telse {\n\t\t\treturn (position - this._start) * this._axisLength;\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic positionTooltip(tooltip: Tooltip, position: number) {\n\t\tthis._positionTooltip(tooltip, { x: 0, y: this.positionToCoordinate(position) });\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateTooltipBounds(tooltip: Tooltip) {\n\t\tconst inside = this.get(\"inside\");\n\t\tconst num = 100000;\n\n\t\tlet global = this._display.toGlobal({ x: 0, y: 0 });\n\t\tlet y = global.y;\n\t\tlet x = 0;\n\t\tlet h = this.axisLength();\n\t\tlet w = num;\n\n\t\tlet pointerOrientation: \"left\" | \"right\" = \"right\";\n\n\t\tif (this.get(\"opposite\")) {\n\t\t\tif (inside) {\n\t\t\t\tpointerOrientation = \"right\";\n\t\t\t\tx = global.x - num;\n\t\t\t\tw = num;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tpointerOrientation = \"left\";\n\t\t\t\tx = global.x;\n\t\t\t\tw = num;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (inside) {\n\t\t\t\tpointerOrientation = \"left\";\n\t\t\t\tx = global.x;\n\t\t\t\tw = num;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tpointerOrientation = \"right\";\n\t\t\t\tx = global.x - num;\n\t\t\t\tw = num;\n\t\t\t}\n\t\t}\n\n\t\tconst bounds = { left: x, right: x + w, top: y, bottom: y + h };\n\t\tconst oldBounds = tooltip.get(\"bounds\");\n\n\t\tif (!$utils.sameBounds(bounds, oldBounds)) {\n\t\t\ttooltip.set(\"bounds\", bounds);\n\t\t\ttooltip.set(\"pointerOrientation\", pointerOrientation);\n\t\t}\n\t}\n\n\tpublic _updateLC() {\n\t\tconst axis = this.axis;\n\t\tconst parent = axis.parent;\n\t\tif (parent) {\n\t\t\tconst h = parent.innerHeight();\n\t\t\tthis._lc = this.axisLength() / h;\n\t\t\tthis._ls = axis.y() / h;\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic toAxisPosition(position: number): number {\n\t\tconst start = this._start || 0;\n\t\tconst end = this._end || 1;\n\n\t\tposition -= this._ls;\n\n\t\tposition = position * (end - start) / this._lc;\n\n\t\tif (this.get(\"inversed\")) {\n\t\t\tposition = start + position;\n\t\t}\n\t\telse {\n\t\t\tposition = end - position;\n\t\t}\n\n\t\treturn position;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic fixPosition(position: number) {\n\t\tif (!this.get(\"inversed\")) {\n\t\t\treturn 1 - position;\n\t\t}\n\t\treturn position;\n\t}\n\n}\n"],"mappings":";AAAA,SAASA,YAAY,QAAqD,gBAAgB;AAC1F,SAASC,IAAI,QAAQ,4BAA4B;AAEjD,OAAO,KAAKC,KAAK,MAAM,yBAAyB;AAChD,OAAO,KAAKC,MAAM,MAAM,0BAA0B;AAQlD,SAASC,SAAS,QAAQ,gCAAgC;AAyB1D;;;;;;AAMA,IAAAC,aAAA,0BAAAC,MAAA;EAAmCC,SAAA,CAAAF,aAAA,EAAAC,MAAA;EAAnC,SAAAD,cAAA;IAAA,IAAAG,KAAA,GAAAF,MAAA,aAAAA,MAAA,CAAAG,KAAA,OAAAC,SAAA;IAUCC,MAAA,CAAAC,cAAA,CAAAJ,KAAA;;;;;;IAEAG,MAAA,CAAAC,cAAA,CAAAJ,KAAA;;;;aAA0BJ,SAAS,CAACS,GAAG,CAACL,KAAI,CAACM,KAAK,EAAE;QAAEC,MAAM,EAAEd,IAAI;QAAEe,SAAS,EAAE,CAAC,MAAM,EAAE,GAAG,EAAE,OAAO;MAAC,CAAE;;;EAwaxG;;;;;WAtaC,SAAAC,CAAA;MACC,IAAI,CAACC,SAAS,CAACF,SAAS,GAAGb,MAAM,CAACgB,SAAS,CAAC,IAAI,CAACD,SAAS,CAACF,SAAS,EAAE,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;MACxF,IAAI,IAAI,CAACE,SAAS,CAACE,QAAQ,EAAE;QAC5B,IAAI,CAACF,SAAS,CAACF,SAAS,CAACK,IAAI,CAAC,UAAU,CAAC;;MAG1Cf,MAAA,CAAAgB,SAAA,CAAMC,SAAS,CAAAC,IAAA,MAAE;MACjB,IAAI,CAACC,aAAa,CAAC,QAAQ,EAAE,GAAG,CAAC;MAEjC,IAAMC,YAAY,GAAG,IAAI,CAACC,IAAI,CAACC,QAAQ;MACvCF,YAAY,CAACG,GAAG,CAAC,OAAO,EAAE5B,IAAI,CAAC;MAC/ByB,YAAY,CAACG,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;MAC7BH,YAAY,CAACG,GAAG,CAAC,MAAM,EAAE,UAACC,OAAO,EAAEC,QAAQ;QAC1CD,OAAO,CAACE,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;QACpBF,OAAO,CAACG,MAAM,CAACF,QAAQ,CAACG,KAAK,EAAE,EAAE,CAAC,CAAC;MACpC,CAAC,CAAC;MAEF,IAAI,CAACL,GAAG,CAAC,MAAM,EAAE,UAACC,OAAO,EAAEK,QAAQ;QAClCL,OAAO,CAACE,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;QACpBF,OAAO,CAACG,MAAM,CAAC,CAAC,EAAEE,QAAQ,CAACpB,MAAM,EAAE,CAAC;MACrC,CAAC,CAAC;IACH;;;;;;WAEA,SAAAE,CAAkBmB,MAAc,EAAEC,MAAc;MAC/C,OAAO,CAACD,MAAM,CAACE,CAAC,GAAGD,MAAM,CAACC,CAAC,IAAI,IAAI,CAACvB,MAAM,EAAE;IAC7C;;;;;;WAEA,SAAAE,CAAA;MACCX,MAAA,CAAAgB,SAAA,CAAMiB,QAAQ,CAAAf,IAAA,MAAE;MAEhB,IAAMgB,IAAI,GAAG,IAAI,CAACA,IAAI;MAEtB,IAAI,IAAI,CAACC,OAAO,CAAC,QAAQ,CAAC,EAAE;QAC3BD,IAAI,CAACE,aAAa,EAAE;;MAGrB,IAAMC,KAAK,GAAG,IAAI,CAACA,KAAK;MACxB,IAAMvB,QAAQ,GAAG,UAAU;MAC3B,IAAI,IAAI,CAACqB,OAAO,CAACrB,QAAQ,CAAC,EAAE;QAC3B,IAAMwB,KAAK,GAAG,IAAI,CAACA,KAAK;QACxB,IAAMC,YAAY,GAAGL,IAAI,CAACM,QAAQ;QAElC,IAAIF,KAAK,EAAE;UACV,IAAI,IAAI,CAACG,GAAG,CAAC3B,QAAQ,CAAC,EAAE;YACvB,IAAM0B,QAAQ,GAAGF,KAAK,CAACI,kBAAkB,CAACF,QAAQ;YAClD,IAAIA,QAAQ,CAACG,OAAO,CAACT,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE;cACjCM,QAAQ,CAACI,SAAS,CAACV,IAAI,EAAE,CAAC,CAAC;;YAE5BA,IAAI,CAACW,MAAM,CAAC/B,QAAQ,CAAC;YACrByB,YAAY,CAACK,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC;YAC/BP,KAAK,CAACd,GAAG,CAAC,SAAS,EAAE,CAAC,CAAC;WACvB,MACI;YACJ,IAAMiB,QAAQ,GAAGF,KAAK,CAACQ,iBAAiB,CAACN,QAAQ;YACjD,IAAIA,QAAQ,CAACG,OAAO,CAACT,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE;cACjCM,QAAQ,CAACI,SAAS,CAACV,IAAI,CAAC;;YAEzBA,IAAI,CAACa,SAAS,CAAC,UAAU,CAAC;YAE1BR,YAAY,CAACK,SAAS,CAAC,IAAI,CAAC;YAC5BP,KAAK,CAACd,GAAG,CAAC,SAAS,EAAE5B,IAAI,CAAC;;UAE3BuC,IAAI,CAACE,aAAa,EAAE;;QAErBF,IAAI,CAACc,UAAU,CAACC,YAAY,EAAE;;MAE/BZ,KAAK,CAACa,UAAU,CAAC,OAAO,EAAEhB,IAAI,CAACiB,eAAe,CAACvB,KAAK,EAAE,CAAC;IACxD;;EAEA;;;;;;;WAGA,SAAAjB,CAAA;MACCX,MAAA,CAAAgB,SAAA,CAAMoC,WAAW,CAAAlC,IAAA,MAAE;MACnB,IAAMgB,IAAI,GAAG,IAAI,CAACA,IAAI;MACtB,IAAIA,IAAI,CAACO,GAAG,CAAC,QAAQ,CAAC,IAAI,IAAI,EAAE;QAC/BP,IAAI,CAACX,GAAG,CAAC,QAAQ,EAAE5B,IAAI,CAAC;;MAEzB,IAAM0D,gBAAgB,GAAG,IAAI,CAAC7C,KAAK,CAAC6C,gBAAgB;MACpDnB,IAAI,CAACX,GAAG,CAAC,QAAQ,EAAE8B,gBAAgB,CAAC;MACpCnB,IAAI,CAACiB,eAAe,CAAC5B,GAAG,CAAC,QAAQ,EAAE5B,IAAI,CAAC;MACxCuC,IAAI,CAACoB,UAAU,CAAC/B,GAAG,CAAC,QAAQ,EAAE8B,gBAAgB,CAAC;IAChD;;;;;;WAEA,SAAA1C,CAAA;MACC,IAAMuB,IAAI,GAAG,IAAI,CAACA,IAAI;MACtBA,IAAI,CAACqB,aAAa,CAAChC,GAAG,CAAC,GAAG,EAAEW,IAAI,CAACF,CAAC,EAAE,GAAGnC,MAAM,CAAC2D,eAAe,CAACtB,IAAI,CAACO,GAAG,CAAC,SAAS,EAAE,CAAC,CAAC,EAAEP,IAAI,CAACzB,MAAM,EAAE,CAAC,CAAC;MACrGyB,IAAI,CAACuB,gBAAgB,CAAClC,GAAG,CAAC,GAAG,EAAE,IAAI,CAACmC,CAAC,EAAE,CAAC;MAExC,IAAMpB,KAAK,GAAGJ,IAAI,CAACI,KAAK;MACxB,IAAIA,KAAK,EAAE;QACV,IAAMqB,aAAa,GAAGrB,KAAK,CAACqB,aAAa;QACzC,IAAML,UAAU,GAAGpB,IAAI,CAACoB,UAAU;QAClC,IAAI7C,MAAM,GAAGyB,IAAI,CAACO,GAAG,CAAC,WAAW,EAAE,CAAC,CAAC;QAErC,IAAIa,UAAU,CAACd,QAAQ,CAACoB,MAAM,GAAG,CAAC,EAAE;UACnCnD,MAAM,GAAGyB,IAAI,CAACoB,UAAU,CAAC7C,MAAM,EAAE;UACjCyB,IAAI,CAACX,GAAG,CAAC,WAAW,EAAEd,MAAM,CAAC;SAC7B,MACI;UACJ6C,UAAU,CAAC/B,GAAG,CAAC,QAAQ,EAAEd,MAAM,CAAC;;QAEjC6C,UAAU,CAACO,MAAM,CAAC;UAAE7B,CAAC,EAAEE,IAAI,CAACF,CAAC,EAAE,GAAGvB,MAAM;UAAEiD,CAAC,EAAE,CAAC,CAAC;UAAE9B,KAAK,EAAE+B,aAAa,CAAC/B,KAAK,EAAE,GAAG;QAAC,CAAE,CAAC;;IAEtF;;EAEA;;;;;;;WAGA,SAAAjB,CAAA;MACC,OAAO,IAAI,CAACuB,IAAI,CAAC4B,WAAW,EAAE;IAC/B;;EAEA;;;;;;;;;;WAMA,SAAAnD,CAAuBoD,QAAgB;MACtC,OAAO;QAAEL,CAAC,EAAE,CAAC;QAAE1B,CAAC,EAAE,IAAI,CAACgC,oBAAoB,CAACD,QAAQ;MAAC,CAAE;IACxD;;EAEA;;;;;;;WAGA,SAAApD,CAAmBsD,KAAiB,EAAEF,QAAiB,EAAEG,WAAoB,EAAEC,KAAc;MAC5F,IAAIF,KAAK,EAAE;QACV,IAAI,CAACrE,KAAK,CAACwE,QAAQ,CAACL,QAAQ,CAAC,EAAE;UAC9BA,QAAQ,GAAG,CAAC;;QAGb,IAAIM,UAAQ,GAAG,GAAG;QAClB,IAAIzE,KAAK,CAACwE,QAAQ,CAACD,KAAK,CAAC,IAAIA,KAAK,GAAG,CAAC,EAAE;UACvCE,UAAQ,GAAGJ,KAAK,CAACxB,GAAG,CAAC,eAAe,EAAE4B,UAAQ,CAAC;SAC/C,MACI;UACJA,UAAQ,GAAGJ,KAAK,CAACxB,GAAG,CAAC,UAAU,EAAE4B,UAAQ,CAAC;;QAG3C,IAAMvD,QAAQ,GAAG,IAAI,CAAC2B,GAAG,CAAC,UAAU,CAAC;QACrC,IAAM6B,MAAM,GAAGL,KAAK,CAACxB,GAAG,CAAC,QAAQ,EAAE,IAAI,CAACA,GAAG,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;QAE7D,IAAI3B,QAAQ,EAAE;UACbmD,KAAK,CAAC1C,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC;UAEjB,IAAI+C,MAAM,EAAE;YACXL,KAAK,CAAC1C,GAAG,CAAC,UAAU,EAAE,UAAU,CAAC;WACjC,MACI;YACJ0C,KAAK,CAAC1C,GAAG,CAAC,UAAU,EAAE,UAAU,CAAC;;SAElC,MACI;UACJ,IAAI+C,MAAM,EAAE;YACXL,KAAK,CAAC1C,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC;YACjB0C,KAAK,CAAC1C,GAAG,CAAC,UAAU,EAAE,UAAU,CAAC;WACjC,MACI;YACJ0C,KAAK,CAAC1C,GAAG,CAAC,GAAG,EAAEgD,SAAS,CAAC;YACzBN,KAAK,CAAC1C,GAAG,CAAC,UAAU,EAAE,UAAU,CAAC;;;QAInC,IAAI3B,KAAK,CAACwE,QAAQ,CAACF,WAAW,CAAC,IAAIA,WAAW,IAAIH,QAAQ,EAAE;UAC3DA,QAAQ,GAAGA,QAAQ,GAAG,CAACG,WAAW,GAAGH,QAAQ,IAAIM,UAAQ;;QAG1DJ,KAAK,CAAC1C,GAAG,CAAC,GAAG,EAAE,IAAI,CAACyC,oBAAoB,CAACD,QAAQ,CAAC,CAAC;QACnD,IAAI,CAACS,gBAAgB,CAACP,KAAK,EAAEF,QAAQ,EAAEE,KAAK,CAACxB,GAAG,CAAC,aAAa,EAAE,CAAC,CAAC,EAAEwB,KAAK,CAACxB,GAAG,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC;;IAElG;;EAEA;;;;;;;WAGA,SAAA9B,CAAkBU,IAAW,EAAE0C,QAAiB,EAAEG,WAAoB;MACrE,IAAI7C,IAAI,EAAE;QACT,IAAI,CAACzB,KAAK,CAACwE,QAAQ,CAACL,QAAQ,CAAC,EAAE;UAC9BA,QAAQ,GAAG,CAAC;;QAGb,IAAIU,UAAQ,GAAGpD,IAAI,CAACoB,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC;QACxC,IAAI7C,KAAK,CAACwE,QAAQ,CAACF,WAAW,CAAC,IAAIA,WAAW,IAAIH,QAAQ,EAAE;UAC3DA,QAAQ,GAAGA,QAAQ,GAAG,CAACG,WAAW,GAAGH,QAAQ,IAAIU,UAAQ;;QAG1D,IAAIzC,CAAC,GAAG,IAAI,CAACgC,oBAAoB,CAACD,QAAQ,CAAC;QAE3C1C,IAAI,CAACE,GAAG,CAAC,GAAG,EAAES,CAAC,CAAC;QAEhB,IAAI,CAACwC,gBAAgB,CAACnD,IAAI,EAAE0C,QAAQ,EAAE,CAAC,EAAE,CAAC,CAAC;;IAE7C;;EAEA;;;;;;;WAGA,SAAApD,CAAkB+D,IAAe,EAAEX,QAAiB,EAAEG,WAAoB,EAAEC,KAAc;MACzF,IAAIO,IAAI,EAAE;QACT,IAAI,CAAC9E,KAAK,CAACwE,QAAQ,CAACL,QAAQ,CAAC,EAAE;UAC9BA,QAAQ,GAAG,CAAC;;QAGb,IAAIY,UAAQ,GAAG,GAAG;QAClB,IAAI/E,KAAK,CAACwE,QAAQ,CAACD,KAAK,CAAC,IAAIA,KAAK,GAAG,CAAC,EAAE;UACvCQ,UAAQ,GAAGD,IAAI,CAACjC,GAAG,CAAC,eAAe,EAAEkC,UAAQ,CAAC;SAC9C,MACI;UACJA,UAAQ,GAAGD,IAAI,CAACjC,GAAG,CAAC,UAAU,EAAEkC,UAAQ,CAAC;;QAG1C,IAAI/E,KAAK,CAACwE,QAAQ,CAACF,WAAW,CAAC,IAAIA,WAAW,IAAIH,QAAQ,EAAE;UAC3DA,QAAQ,GAAGA,QAAQ,GAAG,CAACG,WAAW,GAAGH,QAAQ,IAAIY,UAAQ;;QAG1DD,IAAI,CAACnD,GAAG,CAAC,GAAG,EAAE,IAAI,CAACyC,oBAAoB,CAACD,QAAQ,CAAC,CAAC;QAElD,IAAIa,QAAM,GAAGF,IAAI,CAACjC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;QAClC,IAAM6B,MAAM,GAAGI,IAAI,CAACjC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAACA,GAAG,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;QAE5D,IAAI,IAAI,CAACA,GAAG,CAAC,UAAU,CAAC,EAAE;UACzBiC,IAAI,CAACnD,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC;UAChB,IAAI+C,MAAM,EAAE;YACXM,QAAM,IAAI,CAAC,CAAC;;SAEb,MACI;UACJ,IAAI,CAACN,MAAM,EAAE;YACZM,QAAM,IAAI,CAAC,CAAC;;;QAGdF,IAAI,CAACnD,GAAG,CAAC,MAAM,EAAE,UAACC,OAAO;UACxBA,OAAO,CAACE,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;UACpBF,OAAO,CAACG,MAAM,CAACiD,QAAM,EAAE,CAAC,CAAC;QAC1B,CAAC,CAAC;QAEF,IAAI,CAACJ,gBAAgB,CAACE,IAAI,EAAEX,QAAQ,EAAEW,IAAI,CAACjC,GAAG,CAAC,aAAa,EAAE,CAAC,CAAC,EAAEiC,IAAI,CAACjC,GAAG,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC;;IAE/F;;EAEA;;;;;;;WAGA,SAAA9B,CAAoBkE,MAAmB,EAAEd,QAAiB,EAAEG,WAAoB;MAC/E,IAAIW,MAAM,EAAE;QAEX,IAAMC,MAAM,GAAGD,MAAM,CAACpC,GAAG,CAAC,QAAQ,CAAC;QACnC,IAAIqC,MAAM,EAAE;UAEX,IAAI,CAAClF,KAAK,CAACwE,QAAQ,CAACL,QAAQ,CAAC,EAAE;YAC9BA,QAAQ,GAAG,CAAC;;UAGb,IAAIgB,UAAQ,GAAGF,MAAM,CAACpC,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC;UAC1C,IAAI7C,KAAK,CAACwE,QAAQ,CAACF,WAAW,CAAC,IAAIA,WAAW,IAAIH,QAAQ,EAAE;YAC3DA,QAAQ,GAAGA,QAAQ,GAAG,CAACG,WAAW,GAAGH,QAAQ,IAAIgB,UAAQ;;UAG1DD,MAAM,CAACvD,GAAG,CAAC,GAAG,EAAE,IAAI,CAACyC,oBAAoB,CAACD,QAAQ,CAAC,CAAC;UAEpD,IAAI,CAACS,gBAAgB,CAACM,MAAM,EAAEf,QAAQ,EAAE,CAAC,EAAE,CAAC,CAAC;;;IAGhD;;EAEA;;;;;;;WAGA,SAAApD,CAAkBqE,IAAe,EAAEjB,QAAiB,EAAEG,WAAoB;MACzE,IAAIc,IAAI,EAAE;QACT,IAAI,CAACpF,KAAK,CAACwE,QAAQ,CAACL,QAAQ,CAAC,EAAE;UAC9BA,QAAQ,GAAG,CAAC;;QAEb,IAAI,CAACnE,KAAK,CAACwE,QAAQ,CAACF,WAAW,CAAC,EAAE;UACjCA,WAAW,GAAG,CAAC;;QAGhB,IAAIe,EAAE,GAAG,IAAI,CAACjB,oBAAoB,CAACD,QAAQ,CAAC;QAC5C,IAAImB,EAAE,GAAG,IAAI,CAAClB,oBAAoB,CAACE,WAAW,CAAC;QAE/C,IAAI,CAACiB,cAAc,CAACH,IAAI,EAAEC,EAAE,EAAEC,EAAE,CAAC;;IAEnC;;;;;;WAEA,SAAAvE,CAAyBqE,IAAc,EAAEC,EAAU,EAAEC,EAAU;MAA/D,IAAAhF,KAAA;MACC8E,IAAI,CAACzD,GAAG,CAAC,MAAM,EAAE,UAACC,OAAO;;QACxB;QACA,IAAM4D,CAAC,GAAGlF,KAAI,CAACgC,IAAK,CAACqB,aAAa,CAAC3B,KAAK,EAAE;QAC1C,IAAMyD,CAAC,GAAGnF,KAAI,CAACO,MAAM,EAAE;QAEvB,IAAIyE,EAAE,GAAGD,EAAE,EAAE;UACZK,EAAA,GAAAC,MAAA,CAAW,CAACN,EAAE,EAAEC,EAAE,CAAC,MAAlBA,EAAE,GAAAI,EAAA,KAAEL,EAAE,GAAAK,EAAA;;QAGR,IAAIL,EAAE,GAAGI,CAAC,IAAIH,EAAE,GAAG,CAAC,EAAE;UACrB;;QAGDD,EAAE,GAAGO,IAAI,CAACC,GAAG,CAAC,CAAC,EAAER,EAAE,CAAC;QACpBC,EAAE,GAAGM,IAAI,CAACE,GAAG,CAACL,CAAC,EAAEH,EAAE,CAAC;QAEpB1D,OAAO,CAACE,MAAM,CAAC,CAAC,EAAEuD,EAAE,CAAC;QACrBzD,OAAO,CAACG,MAAM,CAACyD,CAAC,EAAEH,EAAE,CAAC;QACrBzD,OAAO,CAACG,MAAM,CAACyD,CAAC,EAAEF,EAAE,CAAC;QACrB1D,OAAO,CAACG,MAAM,CAAC,CAAC,EAAEuD,EAAE,CAAC;QACrB1D,OAAO,CAACG,MAAM,CAAC,CAAC,EAAEsD,EAAE,CAAC;MACtB,CAAC,CAAC;IACH;;EAEA;;;;;;;;;;WAMA,SAAAtE,CAA4BoD,QAAgB;MAC3C,IAAI,CAAC,IAAI,CAAC4B,SAAS,EAAE;QACpB,OAAO,CAAC,IAAI,CAACC,IAAI,GAAG7B,QAAQ,IAAI,IAAI,CAAC8B,WAAW;OAChD,MACI;QACJ,OAAO,CAAC9B,QAAQ,GAAG,IAAI,CAAC+B,MAAM,IAAI,IAAI,CAACD,WAAW;;IAEpD;;EAEA;;;;;;;WAGA,SAAAlF,CAAuBoF,OAAgB,EAAEhC,QAAgB;MACxD,IAAI,CAACiC,gBAAgB,CAACD,OAAO,EAAE;QAAErC,CAAC,EAAE,CAAC;QAAE1B,CAAC,EAAE,IAAI,CAACgC,oBAAoB,CAACD,QAAQ;MAAC,CAAE,CAAC;IACjF;;EAEA;;;;;;;WAGA,SAAApD,CAA2BoF,OAAgB;MAC1C,IAAMzB,MAAM,GAAG,IAAI,CAAC7B,GAAG,CAAC,QAAQ,CAAC;MACjC,IAAMwD,GAAG,GAAG,MAAM;MAElB,IAAIC,MAAM,GAAG,IAAI,CAACC,QAAQ,CAACC,QAAQ,CAAC;QAAE1C,CAAC,EAAE,CAAC;QAAE1B,CAAC,EAAE;MAAC,CAAE,CAAC;MACnD,IAAIA,CAAC,GAAGkE,MAAM,CAAClE,CAAC;MAChB,IAAI0B,CAAC,GAAG,CAAC;MACT,IAAI2B,CAAC,GAAG,IAAI,CAACgB,UAAU,EAAE;MACzB,IAAIjB,CAAC,GAAGa,GAAG;MAEX,IAAIK,kBAAkB,GAAqB,OAAO;MAElD,IAAI,IAAI,CAAC7D,GAAG,CAAC,UAAU,CAAC,EAAE;QACzB,IAAI6B,MAAM,EAAE;UACXgC,kBAAkB,GAAG,OAAO;UAC5B5C,CAAC,GAAGwC,MAAM,CAACxC,CAAC,GAAGuC,GAAG;UAClBb,CAAC,GAAGa,GAAG;SACP,MACI;UACJK,kBAAkB,GAAG,MAAM;UAC3B5C,CAAC,GAAGwC,MAAM,CAACxC,CAAC;UACZ0B,CAAC,GAAGa,GAAG;;OAER,MACI;QACJ,IAAI3B,MAAM,EAAE;UACXgC,kBAAkB,GAAG,MAAM;UAC3B5C,CAAC,GAAGwC,MAAM,CAACxC,CAAC;UACZ0B,CAAC,GAAGa,GAAG;SACP,MACI;UACJK,kBAAkB,GAAG,OAAO;UAC5B5C,CAAC,GAAGwC,MAAM,CAACxC,CAAC,GAAGuC,GAAG;UAClBb,CAAC,GAAGa,GAAG;;;MAIT,IAAMM,MAAM,GAAG;QAAEC,IAAI,EAAE9C,CAAC;QAAE+C,KAAK,EAAE/C,CAAC,GAAG0B,CAAC;QAAEsB,GAAG,EAAE1E,CAAC;QAAE2E,MAAM,EAAE3E,CAAC,GAAGqD;MAAC,CAAE;MAC/D,IAAMuB,SAAS,GAAGb,OAAO,CAACtD,GAAG,CAAC,QAAQ,CAAC;MAEvC,IAAI,CAAC5C,MAAM,CAACgH,UAAU,CAACN,MAAM,EAAEK,SAAS,CAAC,EAAE;QAC1Cb,OAAO,CAACxE,GAAG,CAAC,QAAQ,EAAEgF,MAAM,CAAC;QAC7BR,OAAO,CAACxE,GAAG,CAAC,oBAAoB,EAAE+E,kBAAkB,CAAC;;IAEvD;;;;;;WAEA,SAAA3F,CAAA;MACC,IAAMuB,IAAI,GAAG,IAAI,CAACA,IAAI;MACtB,IAAM4E,MAAM,GAAG5E,IAAI,CAAC4E,MAAM;MAC1B,IAAIA,MAAM,EAAE;QACX,IAAMzB,CAAC,GAAGyB,MAAM,CAAChD,WAAW,EAAE;QAC9B,IAAI,CAACiD,GAAG,GAAG,IAAI,CAACV,UAAU,EAAE,GAAGhB,CAAC;QAChC,IAAI,CAAC2B,GAAG,GAAG9E,IAAI,CAACF,CAAC,EAAE,GAAGqD,CAAC;;IAEzB;;EAEA;;;;;;;WAGA,SAAA1E,CAAsBoD,QAAgB;MACrC,IAAMkD,KAAK,GAAG,IAAI,CAACnB,MAAM,IAAI,CAAC;MAC9B,IAAMoB,GAAG,GAAG,IAAI,CAACtB,IAAI,IAAI,CAAC;MAE1B7B,QAAQ,IAAI,IAAI,CAACiD,GAAG;MAEpBjD,QAAQ,GAAGA,QAAQ,IAAImD,GAAG,GAAGD,KAAK,CAAC,GAAG,IAAI,CAACF,GAAG;MAE9C,IAAI,IAAI,CAACtE,GAAG,CAAC,UAAU,CAAC,EAAE;QACzBsB,QAAQ,GAAGkD,KAAK,GAAGlD,QAAQ;OAC3B,MACI;QACJA,QAAQ,GAAGmD,GAAG,GAAGnD,QAAQ;;MAG1B,OAAOA,QAAQ;IAChB;;EAEA;;;;;;;WAGA,SAAApD,CAAmBoD,QAAgB;MAClC,IAAI,CAAC,IAAI,CAACtB,GAAG,CAAC,UAAU,CAAC,EAAE;QAC1B,OAAO,CAAC,GAAGsB,QAAQ;;MAEpB,OAAOA,QAAQ;IAChB;;EAhbA1D,MAAA,CAAAC,cAAA,CAAAP,aAAA;;;;WAAkC;;EAClCM,MAAA,CAAAC,cAAA,CAAAP,aAAA;;;;WAA0CL,YAAY,CAACyH,UAAU,CAACC,MAAM,CAAC,CAACrH,aAAa,CAACsH,SAAS,CAAC;;EAibnG,OAAAtH,aAAC;CAAA,CApbkCL,YAAY;SAAlCK,aAAa"},"metadata":{},"sourceType":"module"}